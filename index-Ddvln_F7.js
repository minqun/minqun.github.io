(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))w(A);new MutationObserver(A=>{for(const P of A)if(P.type==="childList")for(const j of P.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&w(j)}).observe(document,{childList:!0,subtree:!0});function _(A){const P={};return A.integrity&&(P.integrity=A.integrity),A.referrerPolicy&&(P.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?P.credentials="include":A.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function w(A){if(A.ep)return;A.ep=!0;const P=_(A);fetch(A.href,P)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vv(u,g){const _=new Set(u.split(","));return w=>_.has(w)}const jr={},_u=[],Ii=()=>{},Yx=()=>!1,Yd=u=>u.charCodeAt(0)===111&&u.charCodeAt(1)===110&&(u.charCodeAt(2)>122||u.charCodeAt(2)<97),gv=u=>u.startsWith("onUpdate:"),Bn=Object.assign,mv=(u,g)=>{const _=u.indexOf(g);_>-1&&u.splice(_,1)},Xx=Object.prototype.hasOwnProperty,mr=(u,g)=>Xx.call(u,g),tr=Array.isArray,bu=u=>Xd(u)==="[object Map]",Zm=u=>Xd(u)==="[object Set]",ur=u=>typeof u=="function",Cn=u=>typeof u=="string",fs=u=>typeof u=="symbol",qr=u=>u!==null&&typeof u=="object",qm=u=>(qr(u)||ur(u))&&ur(u.then)&&ur(u.catch),Ym=Object.prototype.toString,Xd=u=>Ym.call(u),Jx=u=>Xd(u).slice(8,-1),Xm=u=>Xd(u)==="[object Object]",yv=u=>Cn(u)&&u!=="NaN"&&u[0]!=="-"&&""+parseInt(u,10)===u,Ac=vv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jd=u=>{const g=Object.create(null);return _=>g[_]||(g[_]=u(_))},Qx=/-(\w)/g,xu=Jd(u=>u.replace(Qx,(g,_)=>_?_.toUpperCase():"")),tC=/\B([A-Z])/g,yl=Jd(u=>u.replace(tC,"-$1").toLowerCase()),Jm=Jd(u=>u.charAt(0).toUpperCase()+u.slice(1)),$h=Jd(u=>u?`on${Jm(u)}`:""),cs=(u,g)=>!Object.is(u,g),Vd=(u,...g)=>{for(let _=0;_<u.length;_++)u[_](...g)},Qm=(u,g,_,w=!1)=>{Object.defineProperty(u,g,{configurable:!0,enumerable:!1,writable:w,value:_})},nv=u=>{const g=parseFloat(u);return isNaN(g)?u:g};let dm;const ty=()=>dm||(dm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _v(u){if(tr(u)){const g={};for(let _=0;_<u.length;_++){const w=u[_],A=Cn(w)?iC(w):_v(w);if(A)for(const P in A)g[P]=A[P]}return g}else if(Cn(u)||qr(u))return u}const eC=/;(?![^(]*\))/g,rC=/:([^]+)/,nC=/\/\*[^]*?\*\//g;function iC(u){const g={};return u.replace(nC,"").split(eC).forEach(_=>{if(_){const w=_.split(rC);w.length>1&&(g[w[0].trim()]=w[1].trim())}}),g}function Qd(u){let g="";if(Cn(u))g=u;else if(tr(u))for(let _=0;_<u.length;_++){const w=Qd(u[_]);w&&(g+=w+" ")}else if(qr(u))for(const _ in u)u[_]&&(g+=_+" ");return g.trim()}const oC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",aC=vv(oC);function ey(u){return!!u||u===""}const ry=u=>!!(u&&u.__v_isRef===!0),Pc=u=>Cn(u)?u:u==null?"":tr(u)||qr(u)&&(u.toString===Ym||!ur(u.toString))?ry(u)?Pc(u.value):JSON.stringify(u,ny,2):String(u),ny=(u,g)=>ry(g)?ny(u,g.value):bu(g)?{[`Map(${g.size})`]:[...g.entries()].reduce((_,[w,A],P)=>(_[Zh(w,P)+" =>"]=A,_),{})}:Zm(g)?{[`Set(${g.size})`]:[...g.values()].map(_=>Zh(_))}:fs(g)?Zh(g):qr(g)&&!tr(g)&&!Xm(g)?String(g):g,Zh=(u,g="")=>{var _;return fs(u)?`Symbol(${(_=u.description)!=null?_:g})`:u};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qi;class sC{constructor(g=!1){this.detached=g,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qi,!g&&qi&&(this.index=(qi.scopes||(qi.scopes=[])).push(this)-1)}get active(){return this._active}run(g){if(this._active){const _=qi;try{return qi=this,g()}finally{qi=_}}}on(){qi=this}off(){qi=this.parent}stop(g){if(this._active){let _,w;for(_=0,w=this.effects.length;_<w;_++)this.effects[_].stop();for(_=0,w=this.cleanups.length;_<w;_++)this.cleanups[_]();if(this.scopes)for(_=0,w=this.scopes.length;_<w;_++)this.scopes[_].stop(!0);if(!this.detached&&this.parent&&!g){const A=this.parent.scopes.pop();A&&A!==this&&(this.parent.scopes[this.index]=A,A.index=this.index)}this.parent=void 0,this._active=!1}}}function lC(u,g=qi){g&&g.active&&g.effects.push(u)}function uC(){return qi}let gl;class bv{constructor(g,_,w,A){this.fn=g,this.trigger=_,this.scheduler=w,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,lC(this,A)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,ds();for(let g=0;g<this._depsLength;g++){const _=this.deps[g];if(_.computed&&(cC(_.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),ps()}return this._dirtyLevel>=4}set dirty(g){this._dirtyLevel=g?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let g=ls,_=gl;try{return ls=!0,gl=this,this._runnings++,pm(this),this.fn()}finally{hm(this),this._runnings--,gl=_,ls=g}}stop(){this.active&&(pm(this),hm(this),this.onStop&&this.onStop(),this.active=!1)}}function cC(u){return u.value}function pm(u){u._trackId++,u._depsLength=0}function hm(u){if(u.deps.length>u._depsLength){for(let g=u._depsLength;g<u.deps.length;g++)iy(u.deps[g],u);u.deps.length=u._depsLength}}function iy(u,g){const _=u.get(g);_!==void 0&&g._trackId!==_&&(u.delete(g),u.size===0&&u.cleanup())}let ls=!0,iv=0;const oy=[];function ds(){oy.push(ls),ls=!1}function ps(){const u=oy.pop();ls=u===void 0?!0:u}function wv(){iv++}function xv(){for(iv--;!iv&&ov.length;)ov.shift()()}function ay(u,g,_){if(g.get(u)!==u._trackId){g.set(u,u._trackId);const w=u.deps[u._depsLength];w!==g?(w&&iy(w,u),u.deps[u._depsLength++]=g):u._depsLength++}}const ov=[];function sy(u,g,_){wv();for(const w of u.keys()){let A;w._dirtyLevel<g&&(A??(A=u.get(w)===w._trackId))&&(w._shouldSchedule||(w._shouldSchedule=w._dirtyLevel===0),w._dirtyLevel=g),w._shouldSchedule&&(A??(A=u.get(w)===w._trackId))&&(w.trigger(),(!w._runnings||w.allowRecurse)&&w._dirtyLevel!==2&&(w._shouldSchedule=!1,w.scheduler&&ov.push(w.scheduler)))}xv()}const ly=(u,g)=>{const _=new Map;return _.cleanup=u,_.computed=g,_},av=new WeakMap,ml=Symbol(""),sv=Symbol("");function di(u,g,_){if(ls&&gl){let w=av.get(u);w||av.set(u,w=new Map);let A=w.get(_);A||w.set(_,A=ly(()=>w.delete(_))),ay(gl,A)}}function ha(u,g,_,w,A,P){const j=av.get(u);if(!j)return;let M=[];if(g==="clear")M=[...j.values()];else if(_==="length"&&tr(u)){const R=Number(w);j.forEach((b,k)=>{(k==="length"||!fs(k)&&k>=R)&&M.push(b)})}else switch(_!==void 0&&M.push(j.get(_)),g){case"add":tr(u)?yv(_)&&M.push(j.get("length")):(M.push(j.get(ml)),bu(u)&&M.push(j.get(sv)));break;case"delete":tr(u)||(M.push(j.get(ml)),bu(u)&&M.push(j.get(sv)));break;case"set":bu(u)&&M.push(j.get(ml));break}wv();for(const R of M)R&&sy(R,4);xv()}const fC=vv("__proto__,__v_isRef,__isVue"),uy=new Set(Object.getOwnPropertyNames(Symbol).filter(u=>u!=="arguments"&&u!=="caller").map(u=>Symbol[u]).filter(fs)),vm=dC();function dC(){const u={};return["includes","indexOf","lastIndexOf"].forEach(g=>{u[g]=function(..._){const w=Cr(this);for(let P=0,j=this.length;P<j;P++)di(w,"get",P+"");const A=w[g](..._);return A===-1||A===!1?w[g](..._.map(Cr)):A}}),["push","pop","shift","unshift","splice"].forEach(g=>{u[g]=function(..._){ds(),wv();const w=Cr(this)[g].apply(this,_);return xv(),ps(),w}}),u}function pC(u){fs(u)||(u=String(u));const g=Cr(this);return di(g,"has",u),g.hasOwnProperty(u)}class cy{constructor(g=!1,_=!1){this._isReadonly=g,this._isShallow=_}get(g,_,w){const A=this._isReadonly,P=this._isShallow;if(_==="__v_isReactive")return!A;if(_==="__v_isReadonly")return A;if(_==="__v_isShallow")return P;if(_==="__v_raw")return w===(A?P?TC:hy:P?py:dy).get(g)||Object.getPrototypeOf(g)===Object.getPrototypeOf(w)?g:void 0;const j=tr(g);if(!A){if(j&&mr(vm,_))return Reflect.get(vm,_,w);if(_==="hasOwnProperty")return pC}const M=Reflect.get(g,_,w);return(fs(_)?uy.has(_):fC(_))||(A||di(g,"get",_),P)?M:pi(M)?j&&yv(_)?M:M.value:qr(M)?A?vy(M):Ov(M):M}}class fy extends cy{constructor(g=!1){super(!1,g)}set(g,_,w,A){let P=g[_];if(!this._isShallow){const R=jc(P);if(!Gd(w)&&!jc(w)&&(P=Cr(P),w=Cr(w)),!tr(g)&&pi(P)&&!pi(w))return R?!1:(P.value=w,!0)}const j=tr(g)&&yv(_)?Number(_)<g.length:mr(g,_),M=Reflect.set(g,_,w,A);return g===Cr(A)&&(j?cs(w,P)&&ha(g,"set",_,w):ha(g,"add",_,w)),M}deleteProperty(g,_){const w=mr(g,_);g[_];const A=Reflect.deleteProperty(g,_);return A&&w&&ha(g,"delete",_,void 0),A}has(g,_){const w=Reflect.has(g,_);return(!fs(_)||!uy.has(_))&&di(g,"has",_),w}ownKeys(g){return di(g,"iterate",tr(g)?"length":ml),Reflect.ownKeys(g)}}class hC extends cy{constructor(g=!1){super(!0,g)}set(g,_){return!0}deleteProperty(g,_){return!0}}const vC=new fy,gC=new hC,mC=new fy(!0);const Cv=u=>u,tp=u=>Reflect.getPrototypeOf(u);function Dd(u,g,_=!1,w=!1){u=u.__v_raw;const A=Cr(u),P=Cr(g);_||(cs(g,P)&&di(A,"get",g),di(A,"get",P));const{has:j}=tp(A),M=w?Cv:_?Ev:Rc;if(j.call(A,g))return M(u.get(g));if(j.call(A,P))return M(u.get(P));u!==A&&u.get(g)}function Id(u,g=!1){const _=this.__v_raw,w=Cr(_),A=Cr(u);return g||(cs(u,A)&&di(w,"has",u),di(w,"has",A)),u===A?_.has(u):_.has(u)||_.has(A)}function jd(u,g=!1){return u=u.__v_raw,!g&&di(Cr(u),"iterate",ml),Reflect.get(u,"size",u)}function gm(u){u=Cr(u);const g=Cr(this);return tp(g).has.call(g,u)||(g.add(u),ha(g,"add",u,u)),this}function mm(u,g){g=Cr(g);const _=Cr(this),{has:w,get:A}=tp(_);let P=w.call(_,u);P||(u=Cr(u),P=w.call(_,u));const j=A.call(_,u);return _.set(u,g),P?cs(g,j)&&ha(_,"set",u,g):ha(_,"add",u,g),this}function ym(u){const g=Cr(this),{has:_,get:w}=tp(g);let A=_.call(g,u);A||(u=Cr(u),A=_.call(g,u)),w&&w.call(g,u);const P=g.delete(u);return A&&ha(g,"delete",u,void 0),P}function _m(){const u=Cr(this),g=u.size!==0,_=u.clear();return g&&ha(u,"clear",void 0,void 0),_}function Rd(u,g){return function(w,A){const P=this,j=P.__v_raw,M=Cr(j),R=g?Cv:u?Ev:Rc;return!u&&di(M,"iterate",ml),j.forEach((b,k)=>w.call(A,R(b),R(k),P))}}function Fd(u,g,_){return function(...w){const A=this.__v_raw,P=Cr(A),j=bu(P),M=u==="entries"||u===Symbol.iterator&&j,R=u==="keys"&&j,b=A[u](...w),k=_?Cv:g?Ev:Rc;return!g&&di(P,"iterate",R?sv:ml),{next(){const{value:S,done:x}=b.next();return x?{value:S,done:x}:{value:M?[k(S[0]),k(S[1])]:k(S),done:x}},[Symbol.iterator](){return this}}}}function ns(u){return function(...g){return u==="delete"?!1:u==="clear"?void 0:this}}function yC(){const u={get(P){return Dd(this,P)},get size(){return jd(this)},has:Id,add:gm,set:mm,delete:ym,clear:_m,forEach:Rd(!1,!1)},g={get(P){return Dd(this,P,!1,!0)},get size(){return jd(this)},has:Id,add:gm,set:mm,delete:ym,clear:_m,forEach:Rd(!1,!0)},_={get(P){return Dd(this,P,!0)},get size(){return jd(this,!0)},has(P){return Id.call(this,P,!0)},add:ns("add"),set:ns("set"),delete:ns("delete"),clear:ns("clear"),forEach:Rd(!0,!1)},w={get(P){return Dd(this,P,!0,!0)},get size(){return jd(this,!0)},has(P){return Id.call(this,P,!0)},add:ns("add"),set:ns("set"),delete:ns("delete"),clear:ns("clear"),forEach:Rd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(P=>{u[P]=Fd(P,!1,!1),_[P]=Fd(P,!0,!1),g[P]=Fd(P,!1,!0),w[P]=Fd(P,!0,!0)}),[u,_,g,w]}const[_C,bC,wC,xC]=yC();function Sv(u,g){const _=g?u?xC:wC:u?bC:_C;return(w,A,P)=>A==="__v_isReactive"?!u:A==="__v_isReadonly"?u:A==="__v_raw"?w:Reflect.get(mr(_,A)&&A in w?_:w,A,P)}const CC={get:Sv(!1,!1)},SC={get:Sv(!1,!0)},OC={get:Sv(!0,!1)};const dy=new WeakMap,py=new WeakMap,hy=new WeakMap,TC=new WeakMap;function EC(u){switch(u){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PC(u){return u.__v_skip||!Object.isExtensible(u)?0:EC(Jx(u))}function Ov(u){return jc(u)?u:Tv(u,!1,vC,CC,dy)}function kC(u){return Tv(u,!1,mC,SC,py)}function vy(u){return Tv(u,!0,gC,OC,hy)}function Tv(u,g,_,w,A){if(!qr(u)||u.__v_raw&&!(g&&u.__v_isReactive))return u;const P=A.get(u);if(P)return P;const j=PC(u);if(j===0)return u;const M=new Proxy(u,j===2?w:_);return A.set(u,M),M}function Mc(u){return jc(u)?Mc(u.__v_raw):!!(u&&u.__v_isReactive)}function jc(u){return!!(u&&u.__v_isReadonly)}function Gd(u){return!!(u&&u.__v_isShallow)}function gy(u){return u?!!u.__v_raw:!1}function Cr(u){const g=u&&u.__v_raw;return g?Cr(g):u}function AC(u){return Object.isExtensible(u)&&Qm(u,"__v_skip",!0),u}const Rc=u=>qr(u)?Ov(u):u,Ev=u=>qr(u)?vy(u):u;class my{constructor(g,_,w,A){this.getter=g,this._setter=_,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new bv(()=>g(this._value),()=>Bd(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!A,this.__v_isReadonly=w}get value(){const g=Cr(this);return(!g._cacheable||g.effect.dirty)&&cs(g._value,g._value=g.effect.run())&&Bd(g,4),yy(g),g.effect._dirtyLevel>=2&&Bd(g,2),g._value}set value(g){this._setter(g)}get _dirty(){return this.effect.dirty}set _dirty(g){this.effect.dirty=g}}function MC(u,g,_=!1){let w,A;const P=ur(u);return P?(w=u,A=Ii):(w=u.get,A=u.set),new my(w,A,P||!A,_)}function yy(u){var g;ls&&gl&&(u=Cr(u),ay(gl,(g=u.dep)!=null?g:u.dep=ly(()=>u.dep=void 0,u instanceof my?u:void 0)))}function Bd(u,g=4,_,w){u=Cr(u);const A=u.dep;A&&sy(A,g)}function pi(u){return!!(u&&u.__v_isRef===!0)}function fl(u){return LC(u,!1)}function LC(u,g){return pi(u)?u:new DC(u,g)}class DC{constructor(g,_){this.__v_isShallow=_,this.dep=void 0,this.__v_isRef=!0,this._rawValue=_?g:Cr(g),this._value=_?g:Rc(g)}get value(){return yy(this),this._value}set value(g){const _=this.__v_isShallow||Gd(g)||jc(g);g=_?g:Cr(g),cs(g,this._rawValue)&&(this._rawValue,this._rawValue=g,this._value=_?g:Rc(g),Bd(this,4))}}function IC(u){return pi(u)?u.value:u}const jC={get:(u,g,_)=>IC(Reflect.get(u,g,_)),set:(u,g,_,w)=>{const A=u[g];return pi(A)&&!pi(_)?(A.value=_,!0):Reflect.set(u,g,_,w)}};function _y(u){return Mc(u)?u:new Proxy(u,jC)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function us(u,g,_,w){try{return w?u(...w):u()}catch(A){ep(A,g,_)}}function Xi(u,g,_,w){if(ur(u)){const A=us(u,g,_,w);return A&&qm(A)&&A.catch(P=>{ep(P,g,_)}),A}if(tr(u)){const A=[];for(let P=0;P<u.length;P++)A.push(Xi(u[P],g,_,w));return A}}function ep(u,g,_,w=!0){const A=g?g.vnode:null;if(g){let P=g.parent;const j=g.proxy,M=`https://vuejs.org/error-reference/#runtime-${_}`;for(;P;){const b=P.ec;if(b){for(let k=0;k<b.length;k++)if(b[k](u,j,M)===!1)return}P=P.parent}const R=g.appContext.config.errorHandler;if(R){ds(),us(R,null,10,[u,j,M]),ps();return}}RC(u,_,A,w)}function RC(u,g,_,w=!0){console.error(u)}let Fc=!1,lv=!1;const Gn=[];let Vo=0;const wu=[];let os=null,vl=0;const by=Promise.resolve();let Pv=null;function wy(u){const g=Pv||by;return u?g.then(this?u.bind(this):u):g}function FC(u){let g=Vo+1,_=Gn.length;for(;g<_;){const w=g+_>>>1,A=Gn[w],P=Nc(A);P<u||P===u&&A.pre?g=w+1:_=w}return g}function kv(u){(!Gn.length||!Gn.includes(u,Fc&&u.allowRecurse?Vo+1:Vo))&&(u.id==null?Gn.push(u):Gn.splice(FC(u.id),0,u),xy())}function xy(){!Fc&&!lv&&(lv=!0,Pv=by.then(Sy))}function NC(u){const g=Gn.indexOf(u);g>Vo&&Gn.splice(g,1)}function VC(u){tr(u)?wu.push(...u):(!os||!os.includes(u,u.allowRecurse?vl+1:vl))&&wu.push(u),xy()}function bm(u,g,_=Fc?Vo+1:0){for(;_<Gn.length;_++){const w=Gn[_];if(w&&w.pre){if(u&&w.id!==u.uid)continue;Gn.splice(_,1),_--,w()}}}function Cy(u){if(wu.length){const g=[...new Set(wu)].sort((_,w)=>Nc(_)-Nc(w));if(wu.length=0,os){os.push(...g);return}for(os=g,vl=0;vl<os.length;vl++){const _=os[vl];_.active!==!1&&_()}os=null,vl=0}}const Nc=u=>u.id==null?1/0:u.id,BC=(u,g)=>{const _=Nc(u)-Nc(g);if(_===0){if(u.pre&&!g.pre)return-1;if(g.pre&&!u.pre)return 1}return _};function Sy(u){lv=!1,Fc=!0,Gn.sort(BC);try{for(Vo=0;Vo<Gn.length;Vo++){const g=Gn[Vo];g&&g.active!==!1&&us(g,null,14)}}finally{Vo=0,Gn.length=0,Cy(),Fc=!1,Pv=null,(Gn.length||wu.length)&&Sy()}}function HC(u,g,..._){if(u.isUnmounted)return;const w=u.vnode.props||jr;let A=_;const P=g.startsWith("update:"),j=P&&g.slice(7);if(j&&j in w){const k=`${j==="modelValue"?"model":j}Modifiers`,{number:S,trim:x}=w[k]||jr;x&&(A=_.map(T=>Cn(T)?T.trim():T)),S&&(A=_.map(nv))}let M,R=w[M=$h(g)]||w[M=$h(xu(g))];!R&&P&&(R=w[M=$h(yl(g))]),R&&Xi(R,u,6,A);const b=w[M+"Once"];if(b){if(!u.emitted)u.emitted={};else if(u.emitted[M])return;u.emitted[M]=!0,Xi(b,u,6,A)}}function Oy(u,g,_=!1){const w=g.emitsCache,A=w.get(u);if(A!==void 0)return A;const P=u.emits;let j={},M=!1;if(!ur(u)){const R=b=>{const k=Oy(b,g,!0);k&&(M=!0,Bn(j,k))};!_&&g.mixins.length&&g.mixins.forEach(R),u.extends&&R(u.extends),u.mixins&&u.mixins.forEach(R)}return!P&&!M?(qr(u)&&w.set(u,null),null):(tr(P)?P.forEach(R=>j[R]=null):Bn(j,P),qr(u)&&w.set(u,j),j)}function rp(u,g){return!u||!Yd(g)?!1:(g=g.slice(2).replace(/Once$/,""),mr(u,g[0].toLowerCase()+g.slice(1))||mr(u,yl(g))||mr(u,g))}let ji=null,np=null;function $d(u){const g=ji;return ji=u,np=u&&u.type.__scopeId||null,g}function zC(u){np=u}function UC(){np=null}function WC(u,g=ji,_){if(!g||u._n)return u;const w=(...A)=>{w._d&&Mm(-1);const P=$d(g);let j;try{j=u(...A)}finally{$d(P),w._d&&Mm(1)}return j};return w._n=!0,w._c=!0,w._d=!0,w}function qh(u){const{type:g,vnode:_,proxy:w,withProxy:A,propsOptions:[P],slots:j,attrs:M,emit:R,render:b,renderCache:k,props:S,data:x,setupState:T,ctx:L,inheritAttrs:H}=u,tt=$d(u);let lt,nt;try{if(_.shapeFlag&4){const D=A||w,at=D;lt=No(b.call(at,D,k,S,T,x,L)),nt=M}else{const D=g;lt=No(D.length>1?D(S,{attrs:M,slots:j,emit:R}):D(S,null)),nt=g.props?M:KC(M)}}catch(D){Ic.length=0,ep(D,u,1),lt=va(Vc)}let q=lt;if(nt&&H!==!1){const D=Object.keys(nt),{shapeFlag:at}=q;D.length&&at&7&&(P&&D.some(gv)&&(nt=GC(nt,P)),q=Cu(q,nt,!1,!0))}return _.dirs&&(q=Cu(q,null,!1,!0),q.dirs=q.dirs?q.dirs.concat(_.dirs):_.dirs),_.transition&&(q.transition=_.transition),lt=q,$d(tt),lt}const KC=u=>{let g;for(const _ in u)(_==="class"||_==="style"||Yd(_))&&((g||(g={}))[_]=u[_]);return g},GC=(u,g)=>{const _={};for(const w in u)(!gv(w)||!(w.slice(9)in g))&&(_[w]=u[w]);return _};function $C(u,g,_){const{props:w,children:A,component:P}=u,{props:j,children:M,patchFlag:R}=g,b=P.emitsOptions;if(g.dirs||g.transition)return!0;if(_&&R>=0){if(R&1024)return!0;if(R&16)return w?wm(w,j,b):!!j;if(R&8){const k=g.dynamicProps;for(let S=0;S<k.length;S++){const x=k[S];if(j[x]!==w[x]&&!rp(b,x))return!0}}}else return(A||M)&&(!M||!M.$stable)?!0:w===j?!1:w?j?wm(w,j,b):!0:!!j;return!1}function wm(u,g,_){const w=Object.keys(g);if(w.length!==Object.keys(u).length)return!0;for(let A=0;A<w.length;A++){const P=w[A];if(g[P]!==u[P]&&!rp(_,P))return!0}return!1}function ZC({vnode:u,parent:g},_){for(;g;){const w=g.subTree;if(w.suspense&&w.suspense.activeBranch===u&&(w.el=u.el),w===u)(u=g.vnode).el=_,g=g.parent;else break}}const qC=Symbol.for("v-ndc"),YC=u=>u.__isSuspense;function XC(u,g){g&&g.pendingBranch?tr(u)?g.effects.push(...u):g.effects.push(u):VC(u)}function ip(u,g,_=ii,w=!1){if(_){const A=_[u]||(_[u]=[]),P=g.__weh||(g.__weh=(...j)=>{ds();const M=Hc(_),R=Xi(g,_,u,j);return M(),ps(),R});return w?A.unshift(P):A.push(P),P}}const ga=u=>(g,_=ii)=>{(!ap||u==="sp")&&ip(u,(...w)=>g(...w),_)},JC=ga("bm"),Ty=ga("m"),QC=ga("bu"),tS=ga("u"),eS=ga("bum"),Ey=ga("um"),rS=ga("sp"),nS=ga("rtg"),iS=ga("rtc");function oS(u,g=ii){ip("ec",u,g)}function aS(u,g){if(ji===null)return u;const _=sp(ji),w=u.dirs||(u.dirs=[]);for(let A=0;A<g.length;A++){let[P,j,M,R=jr]=g[A];P&&(ur(P)&&(P={mounted:P,updated:P}),P.deep&&ss(j),w.push({dir:P,instance:_,value:j,oldValue:void 0,arg:M,modifiers:R}))}return u}function dl(u,g,_,w){const A=u.dirs,P=g&&g.dirs;for(let j=0;j<A.length;j++){const M=A[j];P&&(M.oldValue=P[j].value);let R=M.dir[w];R&&(ds(),Xi(R,_,8,[u.el,M,u,g]),ps())}}function Yh(u,g,_,w){let A;const P=_;if(tr(u)||Cn(u)){A=new Array(u.length);for(let j=0,M=u.length;j<M;j++)A[j]=g(u[j],j,void 0,P)}else if(typeof u=="number"){A=new Array(u);for(let j=0;j<u;j++)A[j]=g(j+1,j,void 0,P)}else if(qr(u))if(u[Symbol.iterator])A=Array.from(u,(j,M)=>g(j,M,void 0,P));else{const j=Object.keys(u);A=new Array(j.length);for(let M=0,R=j.length;M<R;M++){const b=j[M];A[M]=g(u[b],b,M,P)}}else A=[];return A}const Hd=u=>!!u.type.__asyncLoader,uv=u=>u?Zy(u)?sp(u):uv(u.parent):null,Lc=Bn(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>uv(u.parent),$root:u=>uv(u.root),$emit:u=>u.emit,$options:u=>Av(u),$forceUpdate:u=>u.f||(u.f=()=>{u.effect.dirty=!0,kv(u.update)}),$nextTick:u=>u.n||(u.n=wy.bind(u.proxy)),$watch:u=>ES.bind(u)}),Xh=(u,g)=>u!==jr&&!u.__isScriptSetup&&mr(u,g),sS={get({_:u},g){if(g==="__v_skip")return!0;const{ctx:_,setupState:w,data:A,props:P,accessCache:j,type:M,appContext:R}=u;let b;if(g[0]!=="$"){const T=j[g];if(T!==void 0)switch(T){case 1:return w[g];case 2:return A[g];case 4:return _[g];case 3:return P[g]}else{if(Xh(w,g))return j[g]=1,w[g];if(A!==jr&&mr(A,g))return j[g]=2,A[g];if((b=u.propsOptions[0])&&mr(b,g))return j[g]=3,P[g];if(_!==jr&&mr(_,g))return j[g]=4,_[g];cv&&(j[g]=0)}}const k=Lc[g];let S,x;if(k)return g==="$attrs"&&di(u.attrs,"get",""),k(u);if((S=M.__cssModules)&&(S=S[g]))return S;if(_!==jr&&mr(_,g))return j[g]=4,_[g];if(x=R.config.globalProperties,mr(x,g))return x[g]},set({_:u},g,_){const{data:w,setupState:A,ctx:P}=u;return Xh(A,g)?(A[g]=_,!0):w!==jr&&mr(w,g)?(w[g]=_,!0):mr(u.props,g)||g[0]==="$"&&g.slice(1)in u?!1:(P[g]=_,!0)},has({_:{data:u,setupState:g,accessCache:_,ctx:w,appContext:A,propsOptions:P}},j){let M;return!!_[j]||u!==jr&&mr(u,j)||Xh(g,j)||(M=P[0])&&mr(M,j)||mr(w,j)||mr(Lc,j)||mr(A.config.globalProperties,j)},defineProperty(u,g,_){return _.get!=null?u._.accessCache[g]=0:mr(_,"value")&&this.set(u,g,_.value,null),Reflect.defineProperty(u,g,_)}};function xm(u){return tr(u)?u.reduce((g,_)=>(g[_]=null,g),{}):u}let cv=!0;function lS(u){const g=Av(u),_=u.proxy,w=u.ctx;cv=!1,g.beforeCreate&&Cm(g.beforeCreate,u,"bc");const{data:A,computed:P,methods:j,watch:M,provide:R,inject:b,created:k,beforeMount:S,mounted:x,beforeUpdate:T,updated:L,activated:H,deactivated:tt,beforeDestroy:lt,beforeUnmount:nt,destroyed:q,unmounted:D,render:at,renderTracked:W,renderTriggered:st,errorCaptured:it,serverPrefetch:Q,expose:ut,inheritAttrs:X,components:et,directives:pt,filters:$}=g;if(b&&uS(b,w,null),j)for(const kt in j){const Mt=j[kt];ur(Mt)&&(w[kt]=Mt.bind(_))}if(A){const kt=A.call(_,_);qr(kt)&&(u.data=Ov(kt))}if(cv=!0,P)for(const kt in P){const Mt=P[kt],gt=ur(Mt)?Mt.bind(_,_):ur(Mt.get)?Mt.get.bind(_,_):Ii,Kt=!ur(Mt)&&ur(Mt.set)?Mt.set.bind(_):Ii,F=$S({get:gt,set:Kt});Object.defineProperty(w,kt,{enumerable:!0,configurable:!0,get:()=>F.value,set:Lt=>F.value=Lt})}if(M)for(const kt in M)Py(M[kt],w,_,kt);if(R){const kt=ur(R)?R.call(_):R;Reflect.ownKeys(kt).forEach(Mt=>{vS(Mt,kt[Mt])})}k&&Cm(k,u,"c");function N(kt,Mt){tr(Mt)?Mt.forEach(gt=>kt(gt.bind(_))):Mt&&kt(Mt.bind(_))}if(N(JC,S),N(Ty,x),N(QC,T),N(tS,L),N(PS,H),N(kS,tt),N(oS,it),N(iS,W),N(nS,st),N(eS,nt),N(Ey,D),N(rS,Q),tr(ut))if(ut.length){const kt=u.exposed||(u.exposed={});ut.forEach(Mt=>{Object.defineProperty(kt,Mt,{get:()=>_[Mt],set:gt=>_[Mt]=gt})})}else u.exposed||(u.exposed={});at&&u.render===Ii&&(u.render=at),X!=null&&(u.inheritAttrs=X),et&&(u.components=et),pt&&(u.directives=pt)}function uS(u,g,_=Ii){tr(u)&&(u=fv(u));for(const w in u){const A=u[w];let P;qr(A)?"default"in A?P=zd(A.from||w,A.default,!0):P=zd(A.from||w):P=zd(A),pi(P)?Object.defineProperty(g,w,{enumerable:!0,configurable:!0,get:()=>P.value,set:j=>P.value=j}):g[w]=P}}function Cm(u,g,_){Xi(tr(u)?u.map(w=>w.bind(g.proxy)):u.bind(g.proxy),g,_)}function Py(u,g,_,w){const A=w.includes(".")?Hy(_,w):()=>_[w];if(Cn(u)){const P=g[u];ur(P)&&Qh(A,P)}else if(ur(u))Qh(A,u.bind(_));else if(qr(u))if(tr(u))u.forEach(P=>Py(P,g,_,w));else{const P=ur(u.handler)?u.handler.bind(_):g[u.handler];ur(P)&&Qh(A,P,u)}}function Av(u){const g=u.type,{mixins:_,extends:w}=g,{mixins:A,optionsCache:P,config:{optionMergeStrategies:j}}=u.appContext,M=P.get(g);let R;return M?R=M:!A.length&&!_&&!w?R=g:(R={},A.length&&A.forEach(b=>Zd(R,b,j,!0)),Zd(R,g,j)),qr(g)&&P.set(g,R),R}function Zd(u,g,_,w=!1){const{mixins:A,extends:P}=g;P&&Zd(u,P,_,!0),A&&A.forEach(j=>Zd(u,j,_,!0));for(const j in g)if(!(w&&j==="expose")){const M=cS[j]||_&&_[j];u[j]=M?M(u[j],g[j]):g[j]}return u}const cS={data:Sm,props:Om,emits:Om,methods:kc,computed:kc,beforeCreate:ni,created:ni,beforeMount:ni,mounted:ni,beforeUpdate:ni,updated:ni,beforeDestroy:ni,beforeUnmount:ni,destroyed:ni,unmounted:ni,activated:ni,deactivated:ni,errorCaptured:ni,serverPrefetch:ni,components:kc,directives:kc,watch:dS,provide:Sm,inject:fS};function Sm(u,g){return g?u?function(){return Bn(ur(u)?u.call(this,this):u,ur(g)?g.call(this,this):g)}:g:u}function fS(u,g){return kc(fv(u),fv(g))}function fv(u){if(tr(u)){const g={};for(let _=0;_<u.length;_++)g[u[_]]=u[_];return g}return u}function ni(u,g){return u?[...new Set([].concat(u,g))]:g}function kc(u,g){return u?Bn(Object.create(null),u,g):g}function Om(u,g){return u?tr(u)&&tr(g)?[...new Set([...u,...g])]:Bn(Object.create(null),xm(u),xm(g??{})):g}function dS(u,g){if(!u)return g;if(!g)return u;const _=Bn(Object.create(null),u);for(const w in g)_[w]=ni(u[w],g[w]);return _}function ky(){return{app:null,config:{isNativeTag:Yx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pS=0;function hS(u,g){return function(w,A=null){ur(w)||(w=Bn({},w)),A!=null&&!qr(A)&&(A=null);const P=ky(),j=new WeakSet;let M=!1;const R=P.app={_uid:pS++,_component:w,_props:A,_container:null,_context:P,_instance:null,version:ZS,get config(){return P.config},set config(b){},use(b,...k){return j.has(b)||(b&&ur(b.install)?(j.add(b),b.install(R,...k)):ur(b)&&(j.add(b),b(R,...k))),R},mixin(b){return P.mixins.includes(b)||P.mixins.push(b),R},component(b,k){return k?(P.components[b]=k,R):P.components[b]},directive(b,k){return k?(P.directives[b]=k,R):P.directives[b]},mount(b,k,S){if(!M){const x=va(w,A);return x.appContext=P,S===!0?S="svg":S===!1&&(S=void 0),k&&g?g(x,b):u(x,b,S),M=!0,R._container=b,b.__vue_app__=R,sp(x.component)}},unmount(){M&&(u(null,R._container),delete R._container.__vue_app__)},provide(b,k){return P.provides[b]=k,R},runWithContext(b){const k=Dc;Dc=R;try{return b()}finally{Dc=k}}};return R}}let Dc=null;function vS(u,g){if(ii){let _=ii.provides;const w=ii.parent&&ii.parent.provides;w===_&&(_=ii.provides=Object.create(w)),_[u]=g}}function zd(u,g,_=!1){const w=ii||ji;if(w||Dc){const A=w?w.parent==null?w.vnode.appContext&&w.vnode.appContext.provides:w.parent.provides:Dc._context.provides;if(A&&u in A)return A[u];if(arguments.length>1)return _&&ur(g)?g.call(w&&w.proxy):g}}const Ay={},My=()=>Object.create(Ay),Ly=u=>Object.getPrototypeOf(u)===Ay;function gS(u,g,_,w=!1){const A={},P=My();u.propsDefaults=Object.create(null),Dy(u,g,A,P);for(const j in u.propsOptions[0])j in A||(A[j]=void 0);_?u.props=w?A:kC(A):u.type.props?u.props=A:u.props=P,u.attrs=P}function mS(u,g,_,w){const{props:A,attrs:P,vnode:{patchFlag:j}}=u,M=Cr(A),[R]=u.propsOptions;let b=!1;if((w||j>0)&&!(j&16)){if(j&8){const k=u.vnode.dynamicProps;for(let S=0;S<k.length;S++){let x=k[S];if(rp(u.emitsOptions,x))continue;const T=g[x];if(R)if(mr(P,x))T!==P[x]&&(P[x]=T,b=!0);else{const L=xu(x);A[L]=dv(R,M,L,T,u,!1)}else T!==P[x]&&(P[x]=T,b=!0)}}}else{Dy(u,g,A,P)&&(b=!0);let k;for(const S in M)(!g||!mr(g,S)&&((k=yl(S))===S||!mr(g,k)))&&(R?_&&(_[S]!==void 0||_[k]!==void 0)&&(A[S]=dv(R,M,S,void 0,u,!0)):delete A[S]);if(P!==M)for(const S in P)(!g||!mr(g,S))&&(delete P[S],b=!0)}b&&ha(u.attrs,"set","")}function Dy(u,g,_,w){const[A,P]=u.propsOptions;let j=!1,M;if(g)for(let R in g){if(Ac(R))continue;const b=g[R];let k;A&&mr(A,k=xu(R))?!P||!P.includes(k)?_[k]=b:(M||(M={}))[k]=b:rp(u.emitsOptions,R)||(!(R in w)||b!==w[R])&&(w[R]=b,j=!0)}if(P){const R=Cr(_),b=M||jr;for(let k=0;k<P.length;k++){const S=P[k];_[S]=dv(A,R,S,b[S],u,!mr(b,S))}}return j}function dv(u,g,_,w,A,P){const j=u[_];if(j!=null){const M=mr(j,"default");if(M&&w===void 0){const R=j.default;if(j.type!==Function&&!j.skipFactory&&ur(R)){const{propsDefaults:b}=A;if(_ in b)w=b[_];else{const k=Hc(A);w=b[_]=R.call(null,g),k()}}else w=R}j[0]&&(P&&!M?w=!1:j[1]&&(w===""||w===yl(_))&&(w=!0))}return w}function Iy(u,g,_=!1){const w=g.propsCache,A=w.get(u);if(A)return A;const P=u.props,j={},M=[];let R=!1;if(!ur(u)){const k=S=>{R=!0;const[x,T]=Iy(S,g,!0);Bn(j,x),T&&M.push(...T)};!_&&g.mixins.length&&g.mixins.forEach(k),u.extends&&k(u.extends),u.mixins&&u.mixins.forEach(k)}if(!P&&!R)return qr(u)&&w.set(u,_u),_u;if(tr(P))for(let k=0;k<P.length;k++){const S=xu(P[k]);Tm(S)&&(j[S]=jr)}else if(P)for(const k in P){const S=xu(k);if(Tm(S)){const x=P[k],T=j[S]=tr(x)||ur(x)?{type:x}:Bn({},x);if(T){const L=km(Boolean,T.type),H=km(String,T.type);T[0]=L>-1,T[1]=H<0||L<H,(L>-1||mr(T,"default"))&&M.push(S)}}}const b=[j,M];return qr(u)&&w.set(u,b),b}function Tm(u){return u[0]!=="$"&&!Ac(u)}function Em(u){return u===null?"null":typeof u=="function"?u.name||"":typeof u=="object"&&u.constructor&&u.constructor.name||""}function Pm(u,g){return Em(u)===Em(g)}function km(u,g){return tr(g)?g.findIndex(_=>Pm(_,u)):ur(g)&&Pm(g,u)?0:-1}const jy=u=>u[0]==="_"||u==="$stable",Mv=u=>tr(u)?u.map(No):[No(u)],yS=(u,g,_)=>{if(g._n)return g;const w=WC((...A)=>Mv(g(...A)),_);return w._c=!1,w},Ry=(u,g,_)=>{const w=u._ctx;for(const A in u){if(jy(A))continue;const P=u[A];if(ur(P))g[A]=yS(A,P,w);else if(P!=null){const j=Mv(P);g[A]=()=>j}}},Fy=(u,g)=>{const _=Mv(g);u.slots.default=()=>_},_S=(u,g)=>{const _=u.slots=My();if(u.vnode.shapeFlag&32){const w=g._;w?(Bn(_,g),Qm(_,"_",w,!0)):Ry(g,_)}else g&&Fy(u,g)},bS=(u,g,_)=>{const{vnode:w,slots:A}=u;let P=!0,j=jr;if(w.shapeFlag&32){const M=g._;M?_&&M===1?P=!1:(Bn(A,g),!_&&M===1&&delete A._):(P=!g.$stable,Ry(g,A)),j=g}else g&&(Fy(u,g),j={default:1});if(P)for(const M in A)!jy(M)&&j[M]==null&&delete A[M]};function pv(u,g,_,w,A=!1){if(tr(u)){u.forEach((x,T)=>pv(x,g&&(tr(g)?g[T]:g),_,w,A));return}if(Hd(w)&&!A)return;const P=w.shapeFlag&4?sp(w.component):w.el,j=A?null:P,{i:M,r:R}=u,b=g&&g.r,k=M.refs===jr?M.refs={}:M.refs,S=M.setupState;if(b!=null&&b!==R&&(Cn(b)?(k[b]=null,mr(S,b)&&(S[b]=null)):pi(b)&&(b.value=null)),ur(R))us(R,M,12,[j,k]);else{const x=Cn(R),T=pi(R);if(x||T){const L=()=>{if(u.f){const H=x?mr(S,R)?S[R]:k[R]:R.value;A?tr(H)&&mv(H,P):tr(H)?H.includes(P)||H.push(P):x?(k[R]=[P],mr(S,R)&&(S[R]=k[R])):(R.value=[P],u.k&&(k[u.k]=R.value))}else x?(k[R]=j,mr(S,R)&&(S[R]=j)):T&&(R.value=j,u.k&&(k[u.k]=j))};j?(L.id=-1,fi(L,_)):L()}}}const fi=XC;function wS(u){return xS(u)}function xS(u,g){const _=ty();_.__VUE__=!0;const{insert:w,remove:A,patchProp:P,createElement:j,createText:M,createComment:R,setText:b,setElementText:k,parentNode:S,nextSibling:x,setScopeId:T=Ii,insertStaticContent:L}=u,H=(Tt,Rt,Yt,ee=null,Bt=null,V=null,ot=void 0,dt=null,C=!!Rt.dynamicChildren)=>{if(Tt===Rt)return;Tt&&!Ec(Tt,Rt)&&(ee=zt(Tt),Lt(Tt,Bt,V,!0),Tt=null),Rt.patchFlag===-2&&(C=!1,Rt.dynamicChildren=null);const{type:ft,ref:Z,shapeFlag:Y}=Rt;switch(ft){case op:tt(Tt,Rt,Yt,ee);break;case Vc:lt(Tt,Rt,Yt,ee);break;case Ud:Tt==null&&nt(Rt,Yt,ee,ot);break;case Di:et(Tt,Rt,Yt,ee,Bt,V,ot,dt,C);break;default:Y&1?at(Tt,Rt,Yt,ee,Bt,V,ot,dt,C):Y&6?pt(Tt,Rt,Yt,ee,Bt,V,ot,dt,C):(Y&64||Y&128)&&ft.process(Tt,Rt,Yt,ee,Bt,V,ot,dt,C,oe)}Z!=null&&Bt&&pv(Z,Tt&&Tt.ref,V,Rt||Tt,!Rt)},tt=(Tt,Rt,Yt,ee)=>{if(Tt==null)w(Rt.el=M(Rt.children),Yt,ee);else{const Bt=Rt.el=Tt.el;Rt.children!==Tt.children&&b(Bt,Rt.children)}},lt=(Tt,Rt,Yt,ee)=>{Tt==null?w(Rt.el=R(Rt.children||""),Yt,ee):Rt.el=Tt.el},nt=(Tt,Rt,Yt,ee)=>{[Tt.el,Tt.anchor]=L(Tt.children,Rt,Yt,ee,Tt.el,Tt.anchor)},q=({el:Tt,anchor:Rt},Yt,ee)=>{let Bt;for(;Tt&&Tt!==Rt;)Bt=x(Tt),w(Tt,Yt,ee),Tt=Bt;w(Rt,Yt,ee)},D=({el:Tt,anchor:Rt})=>{let Yt;for(;Tt&&Tt!==Rt;)Yt=x(Tt),A(Tt),Tt=Yt;A(Rt)},at=(Tt,Rt,Yt,ee,Bt,V,ot,dt,C)=>{Rt.type==="svg"?ot="svg":Rt.type==="math"&&(ot="mathml"),Tt==null?W(Rt,Yt,ee,Bt,V,ot,dt,C):Q(Tt,Rt,Bt,V,ot,dt,C)},W=(Tt,Rt,Yt,ee,Bt,V,ot,dt)=>{let C,ft;const{props:Z,shapeFlag:Y,transition:z,dirs:Ot}=Tt;if(C=Tt.el=j(Tt.type,V,Z&&Z.is,Z),Y&8?k(C,Tt.children):Y&16&&it(Tt.children,C,null,ee,Bt,Jh(Tt,V),ot,dt),Ot&&dl(Tt,null,ee,"created"),st(C,Tt,Tt.scopeId,ot,ee),Z){for(const Jt in Z)Jt!=="value"&&!Ac(Jt)&&P(C,Jt,null,Z[Jt],V,Tt.children,ee,Bt,Ct);"value"in Z&&P(C,"value",null,Z.value,V),(ft=Z.onVnodeBeforeMount)&&Fo(ft,ee,Tt)}Ot&&dl(Tt,null,ee,"beforeMount");const Zt=CS(Bt,z);Zt&&z.beforeEnter(C),w(C,Rt,Yt),((ft=Z&&Z.onVnodeMounted)||Zt||Ot)&&fi(()=>{ft&&Fo(ft,ee,Tt),Zt&&z.enter(C),Ot&&dl(Tt,null,ee,"mounted")},Bt)},st=(Tt,Rt,Yt,ee,Bt)=>{if(Yt&&T(Tt,Yt),ee)for(let V=0;V<ee.length;V++)T(Tt,ee[V]);if(Bt){let V=Bt.subTree;if(Rt===V){const ot=Bt.vnode;st(Tt,ot,ot.scopeId,ot.slotScopeIds,Bt.parent)}}},it=(Tt,Rt,Yt,ee,Bt,V,ot,dt,C=0)=>{for(let ft=C;ft<Tt.length;ft++){const Z=Tt[ft]=dt?as(Tt[ft]):No(Tt[ft]);H(null,Z,Rt,Yt,ee,Bt,V,ot,dt)}},Q=(Tt,Rt,Yt,ee,Bt,V,ot)=>{const dt=Rt.el=Tt.el;let{patchFlag:C,dynamicChildren:ft,dirs:Z}=Rt;C|=Tt.patchFlag&16;const Y=Tt.props||jr,z=Rt.props||jr;let Ot;if(Yt&&pl(Yt,!1),(Ot=z.onVnodeBeforeUpdate)&&Fo(Ot,Yt,Rt,Tt),Z&&dl(Rt,Tt,Yt,"beforeUpdate"),Yt&&pl(Yt,!0),ft?ut(Tt.dynamicChildren,ft,dt,Yt,ee,Jh(Rt,Bt),V):ot||Mt(Tt,Rt,dt,null,Yt,ee,Jh(Rt,Bt),V,!1),C>0){if(C&16)X(dt,Rt,Y,z,Yt,ee,Bt);else if(C&2&&Y.class!==z.class&&P(dt,"class",null,z.class,Bt),C&4&&P(dt,"style",Y.style,z.style,Bt),C&8){const Zt=Rt.dynamicProps;for(let Jt=0;Jt<Zt.length;Jt++){const Ft=Zt[Jt],ae=Y[Ft],ne=z[Ft];(ne!==ae||Ft==="value")&&P(dt,Ft,ae,ne,Bt,Tt.children,Yt,ee,Ct)}}C&1&&Tt.children!==Rt.children&&k(dt,Rt.children)}else!ot&&ft==null&&X(dt,Rt,Y,z,Yt,ee,Bt);((Ot=z.onVnodeUpdated)||Z)&&fi(()=>{Ot&&Fo(Ot,Yt,Rt,Tt),Z&&dl(Rt,Tt,Yt,"updated")},ee)},ut=(Tt,Rt,Yt,ee,Bt,V,ot)=>{for(let dt=0;dt<Rt.length;dt++){const C=Tt[dt],ft=Rt[dt],Z=C.el&&(C.type===Di||!Ec(C,ft)||C.shapeFlag&70)?S(C.el):Yt;H(C,ft,Z,null,ee,Bt,V,ot,!0)}},X=(Tt,Rt,Yt,ee,Bt,V,ot)=>{if(Yt!==ee){if(Yt!==jr)for(const dt in Yt)!Ac(dt)&&!(dt in ee)&&P(Tt,dt,Yt[dt],null,ot,Rt.children,Bt,V,Ct);for(const dt in ee){if(Ac(dt))continue;const C=ee[dt],ft=Yt[dt];C!==ft&&dt!=="value"&&P(Tt,dt,ft,C,ot,Rt.children,Bt,V,Ct)}"value"in ee&&P(Tt,"value",Yt.value,ee.value,ot)}},et=(Tt,Rt,Yt,ee,Bt,V,ot,dt,C)=>{const ft=Rt.el=Tt?Tt.el:M(""),Z=Rt.anchor=Tt?Tt.anchor:M("");let{patchFlag:Y,dynamicChildren:z,slotScopeIds:Ot}=Rt;Ot&&(dt=dt?dt.concat(Ot):Ot),Tt==null?(w(ft,Yt,ee),w(Z,Yt,ee),it(Rt.children||[],Yt,Z,Bt,V,ot,dt,C)):Y>0&&Y&64&&z&&Tt.dynamicChildren?(ut(Tt.dynamicChildren,z,Yt,Bt,V,ot,dt),(Rt.key!=null||Bt&&Rt===Bt.subTree)&&Ny(Tt,Rt,!0)):Mt(Tt,Rt,Yt,Z,Bt,V,ot,dt,C)},pt=(Tt,Rt,Yt,ee,Bt,V,ot,dt,C)=>{Rt.slotScopeIds=dt,Tt==null?Rt.shapeFlag&512?Bt.ctx.activate(Rt,Yt,ee,ot,C):$(Rt,Yt,ee,Bt,V,ot,C):mt(Tt,Rt,C)},$=(Tt,Rt,Yt,ee,Bt,V,ot)=>{const dt=Tt.component=HS(Tt,ee,Bt);if(zy(Tt)&&(dt.ctx.renderer=oe),zS(dt),dt.asyncDep){if(Bt&&Bt.registerDep(dt,N,ot),!Tt.el){const C=dt.subTree=va(Vc);lt(null,C,Rt,Yt)}}else N(dt,Tt,Rt,Yt,Bt,V,ot)},mt=(Tt,Rt,Yt)=>{const ee=Rt.component=Tt.component;if($C(Tt,Rt,Yt))if(ee.asyncDep&&!ee.asyncResolved){kt(ee,Rt,Yt);return}else ee.next=Rt,NC(ee.update),ee.effect.dirty=!0,ee.update();else Rt.el=Tt.el,ee.vnode=Rt},N=(Tt,Rt,Yt,ee,Bt,V,ot)=>{const dt=()=>{if(Tt.isMounted){let{next:Z,bu:Y,u:z,parent:Ot,vnode:Zt}=Tt;{const ce=Vy(Tt);if(ce){Z&&(Z.el=Zt.el,kt(Tt,Z,ot)),ce.asyncDep.then(()=>{Tt.isUnmounted||dt()});return}}let Jt=Z,Ft;pl(Tt,!1),Z?(Z.el=Zt.el,kt(Tt,Z,ot)):Z=Zt,Y&&Vd(Y),(Ft=Z.props&&Z.props.onVnodeBeforeUpdate)&&Fo(Ft,Ot,Z,Zt),pl(Tt,!0);const ae=qh(Tt),ne=Tt.subTree;Tt.subTree=ae,H(ne,ae,S(ne.el),zt(ne),Tt,Bt,V),Z.el=ae.el,Jt===null&&ZC(Tt,ae.el),z&&fi(z,Bt),(Ft=Z.props&&Z.props.onVnodeUpdated)&&fi(()=>Fo(Ft,Ot,Z,Zt),Bt)}else{let Z;const{el:Y,props:z}=Rt,{bm:Ot,m:Zt,parent:Jt}=Tt,Ft=Hd(Rt);if(pl(Tt,!1),Ot&&Vd(Ot),!Ft&&(Z=z&&z.onVnodeBeforeMount)&&Fo(Z,Jt,Rt),pl(Tt,!0),Y&&re){const ae=()=>{Tt.subTree=qh(Tt),re(Y,Tt.subTree,Tt,Bt,null)};Ft?Rt.type.__asyncLoader().then(()=>!Tt.isUnmounted&&ae()):ae()}else{const ae=Tt.subTree=qh(Tt);H(null,ae,Yt,ee,Tt,Bt,V),Rt.el=ae.el}if(Zt&&fi(Zt,Bt),!Ft&&(Z=z&&z.onVnodeMounted)){const ae=Rt;fi(()=>Fo(Z,Jt,ae),Bt)}(Rt.shapeFlag&256||Jt&&Hd(Jt.vnode)&&Jt.vnode.shapeFlag&256)&&Tt.a&&fi(Tt.a,Bt),Tt.isMounted=!0,Rt=Yt=ee=null}},C=Tt.effect=new bv(dt,Ii,()=>kv(ft),Tt.scope),ft=Tt.update=()=>{C.dirty&&C.run()};ft.id=Tt.uid,pl(Tt,!0),ft()},kt=(Tt,Rt,Yt)=>{Rt.component=Tt;const ee=Tt.vnode.props;Tt.vnode=Rt,Tt.next=null,mS(Tt,Rt.props,ee,Yt),bS(Tt,Rt.children,Yt),ds(),bm(Tt),ps()},Mt=(Tt,Rt,Yt,ee,Bt,V,ot,dt,C=!1)=>{const ft=Tt&&Tt.children,Z=Tt?Tt.shapeFlag:0,Y=Rt.children,{patchFlag:z,shapeFlag:Ot}=Rt;if(z>0){if(z&128){Kt(ft,Y,Yt,ee,Bt,V,ot,dt,C);return}else if(z&256){gt(ft,Y,Yt,ee,Bt,V,ot,dt,C);return}}Ot&8?(Z&16&&Ct(ft,Bt,V),Y!==ft&&k(Yt,Y)):Z&16?Ot&16?Kt(ft,Y,Yt,ee,Bt,V,ot,dt,C):Ct(ft,Bt,V,!0):(Z&8&&k(Yt,""),Ot&16&&it(Y,Yt,ee,Bt,V,ot,dt,C))},gt=(Tt,Rt,Yt,ee,Bt,V,ot,dt,C)=>{Tt=Tt||_u,Rt=Rt||_u;const ft=Tt.length,Z=Rt.length,Y=Math.min(ft,Z);let z;for(z=0;z<Y;z++){const Ot=Rt[z]=C?as(Rt[z]):No(Rt[z]);H(Tt[z],Ot,Yt,null,Bt,V,ot,dt,C)}ft>Z?Ct(Tt,Bt,V,!0,!1,Y):it(Rt,Yt,ee,Bt,V,ot,dt,C,Y)},Kt=(Tt,Rt,Yt,ee,Bt,V,ot,dt,C)=>{let ft=0;const Z=Rt.length;let Y=Tt.length-1,z=Z-1;for(;ft<=Y&&ft<=z;){const Ot=Tt[ft],Zt=Rt[ft]=C?as(Rt[ft]):No(Rt[ft]);if(Ec(Ot,Zt))H(Ot,Zt,Yt,null,Bt,V,ot,dt,C);else break;ft++}for(;ft<=Y&&ft<=z;){const Ot=Tt[Y],Zt=Rt[z]=C?as(Rt[z]):No(Rt[z]);if(Ec(Ot,Zt))H(Ot,Zt,Yt,null,Bt,V,ot,dt,C);else break;Y--,z--}if(ft>Y){if(ft<=z){const Ot=z+1,Zt=Ot<Z?Rt[Ot].el:ee;for(;ft<=z;)H(null,Rt[ft]=C?as(Rt[ft]):No(Rt[ft]),Yt,Zt,Bt,V,ot,dt,C),ft++}}else if(ft>z)for(;ft<=Y;)Lt(Tt[ft],Bt,V,!0),ft++;else{const Ot=ft,Zt=ft,Jt=new Map;for(ft=Zt;ft<=z;ft++){const we=Rt[ft]=C?as(Rt[ft]):No(Rt[ft]);we.key!=null&&Jt.set(we.key,ft)}let Ft,ae=0;const ne=z-Zt+1;let ce=!1,he=0;const Me=new Array(ne);for(ft=0;ft<ne;ft++)Me[ft]=0;for(ft=Ot;ft<=Y;ft++){const we=Tt[ft];if(ae>=ne){Lt(we,Bt,V,!0);continue}let ar;if(we.key!=null)ar=Jt.get(we.key);else for(Ft=Zt;Ft<=z;Ft++)if(Me[Ft-Zt]===0&&Ec(we,Rt[Ft])){ar=Ft;break}ar===void 0?Lt(we,Bt,V,!0):(Me[ar-Zt]=ft+1,ar>=he?he=ar:ce=!0,H(we,Rt[ar],Yt,null,Bt,V,ot,dt,C),ae++)}const Fe=ce?SS(Me):_u;for(Ft=Fe.length-1,ft=ne-1;ft>=0;ft--){const we=Zt+ft,ar=Rt[we],Ie=we+1<Z?Rt[we+1].el:ee;Me[ft]===0?H(null,ar,Yt,Ie,Bt,V,ot,dt,C):ce&&(Ft<0||ft!==Fe[Ft]?F(ar,Yt,Ie,2):Ft--)}}},F=(Tt,Rt,Yt,ee,Bt=null)=>{const{el:V,type:ot,transition:dt,children:C,shapeFlag:ft}=Tt;if(ft&6){F(Tt.component.subTree,Rt,Yt,ee);return}if(ft&128){Tt.suspense.move(Rt,Yt,ee);return}if(ft&64){ot.move(Tt,Rt,Yt,oe);return}if(ot===Di){w(V,Rt,Yt);for(let Y=0;Y<C.length;Y++)F(C[Y],Rt,Yt,ee);w(Tt.anchor,Rt,Yt);return}if(ot===Ud){q(Tt,Rt,Yt);return}if(ee!==2&&ft&1&&dt)if(ee===0)dt.beforeEnter(V),w(V,Rt,Yt),fi(()=>dt.enter(V),Bt);else{const{leave:Y,delayLeave:z,afterLeave:Ot}=dt,Zt=()=>w(V,Rt,Yt),Jt=()=>{Y(V,()=>{Zt(),Ot&&Ot()})};z?z(V,Zt,Jt):Jt()}else w(V,Rt,Yt)},Lt=(Tt,Rt,Yt,ee=!1,Bt=!1)=>{const{type:V,props:ot,ref:dt,children:C,dynamicChildren:ft,shapeFlag:Z,patchFlag:Y,dirs:z,memoIndex:Ot}=Tt;if(Y===-2&&(Bt=!1),dt!=null&&pv(dt,null,Yt,Tt,!0),Ot!=null&&(Rt.renderCache[Ot]=void 0),Z&256){Rt.ctx.deactivate(Tt);return}const Zt=Z&1&&z,Jt=!Hd(Tt);let Ft;if(Jt&&(Ft=ot&&ot.onVnodeBeforeUnmount)&&Fo(Ft,Rt,Tt),Z&6)ge(Tt.component,Yt,ee);else{if(Z&128){Tt.suspense.unmount(Yt,ee);return}Zt&&dl(Tt,null,Rt,"beforeUnmount"),Z&64?Tt.type.remove(Tt,Rt,Yt,oe,ee):ft&&(V!==Di||Y>0&&Y&64)?Ct(ft,Rt,Yt,!1,!0):(V===Di&&Y&384||!Bt&&Z&16)&&Ct(C,Rt,Yt),ee&&le(Tt)}(Jt&&(Ft=ot&&ot.onVnodeUnmounted)||Zt)&&fi(()=>{Ft&&Fo(Ft,Rt,Tt),Zt&&dl(Tt,null,Rt,"unmounted")},Yt)},le=Tt=>{const{type:Rt,el:Yt,anchor:ee,transition:Bt}=Tt;if(Rt===Di){Nt(Yt,ee);return}if(Rt===Ud){D(Tt);return}const V=()=>{A(Yt),Bt&&!Bt.persisted&&Bt.afterLeave&&Bt.afterLeave()};if(Tt.shapeFlag&1&&Bt&&!Bt.persisted){const{leave:ot,delayLeave:dt}=Bt,C=()=>ot(Yt,V);dt?dt(Tt.el,V,C):C()}else V()},Nt=(Tt,Rt)=>{let Yt;for(;Tt!==Rt;)Yt=x(Tt),A(Tt),Tt=Yt;A(Rt)},ge=(Tt,Rt,Yt)=>{const{bum:ee,scope:Bt,update:V,subTree:ot,um:dt,m:C,a:ft}=Tt;Am(C),Am(ft),ee&&Vd(ee),Bt.stop(),V&&(V.active=!1,Lt(ot,Tt,Rt,Yt)),dt&&fi(dt,Rt),fi(()=>{Tt.isUnmounted=!0},Rt),Rt&&Rt.pendingBranch&&!Rt.isUnmounted&&Tt.asyncDep&&!Tt.asyncResolved&&Tt.suspenseId===Rt.pendingId&&(Rt.deps--,Rt.deps===0&&Rt.resolve())},Ct=(Tt,Rt,Yt,ee=!1,Bt=!1,V=0)=>{for(let ot=V;ot<Tt.length;ot++)Lt(Tt[ot],Rt,Yt,ee,Bt)},zt=Tt=>Tt.shapeFlag&6?zt(Tt.component.subTree):Tt.shapeFlag&128?Tt.suspense.next():x(Tt.anchor||Tt.el);let Pt=!1;const It=(Tt,Rt,Yt)=>{Tt==null?Rt._vnode&&Lt(Rt._vnode,null,null,!0):H(Rt._vnode||null,Tt,Rt,null,null,null,Yt),Pt||(Pt=!0,bm(),Cy(),Pt=!1),Rt._vnode=Tt},oe={p:H,um:Lt,m:F,r:le,mt:$,mc:it,pc:Mt,pbc:ut,n:zt,o:u};let Qt,re;return{render:It,hydrate:Qt,createApp:hS(It,Qt)}}function Jh({type:u,props:g},_){return _==="svg"&&u==="foreignObject"||_==="mathml"&&u==="annotation-xml"&&g&&g.encoding&&g.encoding.includes("html")?void 0:_}function pl({effect:u,update:g},_){u.allowRecurse=g.allowRecurse=_}function CS(u,g){return(!u||u&&!u.pendingBranch)&&g&&!g.persisted}function Ny(u,g,_=!1){const w=u.children,A=g.children;if(tr(w)&&tr(A))for(let P=0;P<w.length;P++){const j=w[P];let M=A[P];M.shapeFlag&1&&!M.dynamicChildren&&((M.patchFlag<=0||M.patchFlag===32)&&(M=A[P]=as(A[P]),M.el=j.el),!_&&M.patchFlag!==-2&&Ny(j,M)),M.type===op&&(M.el=j.el)}}function SS(u){const g=u.slice(),_=[0];let w,A,P,j,M;const R=u.length;for(w=0;w<R;w++){const b=u[w];if(b!==0){if(A=_[_.length-1],u[A]<b){g[w]=A,_.push(w);continue}for(P=0,j=_.length-1;P<j;)M=P+j>>1,u[_[M]]<b?P=M+1:j=M;b<u[_[P]]&&(P>0&&(g[w]=_[P-1]),_[P]=w)}}for(P=_.length,j=_[P-1];P-- >0;)_[P]=j,j=g[j];return _}function Vy(u){const g=u.subTree.component;if(g)return g.asyncDep&&!g.asyncResolved?g:Vy(g)}function Am(u){if(u)for(let g=0;g<u.length;g++)u[g].active=!1}const OS=Symbol.for("v-scx"),TS=()=>zd(OS),Nd={};function Qh(u,g,_){return By(u,g,_)}function By(u,g,{immediate:_,deep:w,flush:A,once:P,onTrack:j,onTrigger:M}=jr){if(g&&P){const W=g;g=(...st)=>{W(...st),at()}}const R=ii,b=W=>w===!0?W:ss(W,w===!1?1:void 0);let k,S=!1,x=!1;if(pi(u)?(k=()=>u.value,S=Gd(u)):Mc(u)?(k=()=>b(u),S=!0):tr(u)?(x=!0,S=u.some(W=>Mc(W)||Gd(W)),k=()=>u.map(W=>{if(pi(W))return W.value;if(Mc(W))return b(W);if(ur(W))return us(W,R,2)})):ur(u)?g?k=()=>us(u,R,2):k=()=>(T&&T(),Xi(u,R,3,[L])):k=Ii,g&&w){const W=k;k=()=>ss(W())}let T,L=W=>{T=q.onStop=()=>{us(W,R,4),T=q.onStop=void 0}},H;if(ap)if(L=Ii,g?_&&Xi(g,R,3,[k(),x?[]:void 0,L]):k(),A==="sync"){const W=TS();H=W.__watcherHandles||(W.__watcherHandles=[])}else return Ii;let tt=x?new Array(u.length).fill(Nd):Nd;const lt=()=>{if(!(!q.active||!q.dirty))if(g){const W=q.run();(w||S||(x?W.some((st,it)=>cs(st,tt[it])):cs(W,tt)))&&(T&&T(),Xi(g,R,3,[W,tt===Nd?void 0:x&&tt[0]===Nd?[]:tt,L]),tt=W)}else q.run()};lt.allowRecurse=!!g;let nt;A==="sync"?nt=lt:A==="post"?nt=()=>fi(lt,R&&R.suspense):(lt.pre=!0,R&&(lt.id=R.uid),nt=()=>kv(lt));const q=new bv(k,Ii,nt),D=uC(),at=()=>{q.stop(),D&&mv(D.effects,q)};return g?_?lt():tt=q.run():A==="post"?fi(q.run.bind(q),R&&R.suspense):q.run(),H&&H.push(at),at}function ES(u,g,_){const w=this.proxy,A=Cn(u)?u.includes(".")?Hy(w,u):()=>w[u]:u.bind(w,w);let P;ur(g)?P=g:(P=g.handler,_=g);const j=Hc(this),M=By(A,P.bind(w),_);return j(),M}function Hy(u,g){const _=g.split(".");return()=>{let w=u;for(let A=0;A<_.length&&w;A++)w=w[_[A]];return w}}function ss(u,g=1/0,_){if(g<=0||!qr(u)||u.__v_skip||(_=_||new Set,_.has(u)))return u;if(_.add(u),g--,pi(u))ss(u.value,g,_);else if(tr(u))for(let w=0;w<u.length;w++)ss(u[w],g,_);else if(Zm(u)||bu(u))u.forEach(w=>{ss(w,g,_)});else if(Xm(u)){for(const w in u)ss(u[w],g,_);for(const w of Object.getOwnPropertySymbols(u))Object.prototype.propertyIsEnumerable.call(u,w)&&ss(u[w],g,_)}return u}const zy=u=>u.type.__isKeepAlive;function PS(u,g){Uy(u,"a",g)}function kS(u,g){Uy(u,"da",g)}function Uy(u,g,_=ii){const w=u.__wdc||(u.__wdc=()=>{let A=_;for(;A;){if(A.isDeactivated)return;A=A.parent}return u()});if(ip(g,w,_),_){let A=_.parent;for(;A&&A.parent;)zy(A.parent.vnode)&&AS(w,g,_,A),A=A.parent}}function AS(u,g,_,w){const A=ip(g,u,w,!0);Ey(()=>{mv(w[g],A)},_)}function Wy(u,g){u.shapeFlag&6&&u.component?Wy(u.component.subTree,g):u.shapeFlag&128?(u.ssContent.transition=g.clone(u.ssContent),u.ssFallback.transition=g.clone(u.ssFallback)):u.transition=g}const MS=u=>u.__isTeleport,Di=Symbol.for("v-fgt"),op=Symbol.for("v-txt"),Vc=Symbol.for("v-cmt"),Ud=Symbol.for("v-stc"),Ic=[];let Yi=null;function is(u=!1){Ic.push(Yi=u?null:[])}function LS(){Ic.pop(),Yi=Ic[Ic.length-1]||null}let Bc=1;function Mm(u){Bc+=u}function Ky(u){return u.dynamicChildren=Bc>0?Yi||_u:null,LS(),Bc>0&&Yi&&Yi.push(u),u}function hl(u,g,_,w,A,P){return Ky(Qr(u,g,_,w,A,P,!0))}function DS(u,g,_,w,A){return Ky(va(u,g,_,w,A,!0))}function IS(u){return u?u.__v_isVNode===!0:!1}function Ec(u,g){return u.type===g.type&&u.key===g.key}const Gy=({key:u})=>u??null,Wd=({ref:u,ref_key:g,ref_for:_})=>(typeof u=="number"&&(u=""+u),u!=null?Cn(u)||pi(u)||ur(u)?{i:ji,r:u,k:g,f:!!_}:u:null);function Qr(u,g=null,_=null,w=0,A=null,P=u===Di?0:1,j=!1,M=!1){const R={__v_isVNode:!0,__v_skip:!0,type:u,props:g,key:g&&Gy(g),ref:g&&Wd(g),scopeId:np,slotScopeIds:null,children:_,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:P,patchFlag:w,dynamicProps:A,dynamicChildren:null,appContext:null,ctx:ji};return M?(Lv(R,_),P&128&&u.normalize(R)):_&&(R.shapeFlag|=Cn(_)?8:16),Bc>0&&!j&&Yi&&(R.patchFlag>0||P&6)&&R.patchFlag!==32&&Yi.push(R),R}const va=jS;function jS(u,g=null,_=null,w=0,A=null,P=!1){if((!u||u===qC)&&(u=Vc),IS(u)){const M=Cu(u,g,!0);return _&&Lv(M,_),Bc>0&&!P&&Yi&&(M.shapeFlag&6?Yi[Yi.indexOf(u)]=M:Yi.push(M)),M.patchFlag=-2,M}if(GS(u)&&(u=u.__vccOpts),g){g=RS(g);let{class:M,style:R}=g;M&&!Cn(M)&&(g.class=Qd(M)),qr(R)&&(gy(R)&&!tr(R)&&(R=Bn({},R)),g.style=_v(R))}const j=Cn(u)?1:YC(u)?128:MS(u)?64:qr(u)?4:ur(u)?2:0;return Qr(u,g,_,w,A,j,P,!0)}function RS(u){return u?gy(u)||Ly(u)?Bn({},u):u:null}function Cu(u,g,_=!1,w=!1){const{props:A,ref:P,patchFlag:j,children:M,transition:R}=u,b=g?NS(A||{},g):A,k={__v_isVNode:!0,__v_skip:!0,type:u.type,props:b,key:b&&Gy(b),ref:g&&g.ref?_&&P?tr(P)?P.concat(Wd(g)):[P,Wd(g)]:Wd(g):P,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:M,target:u.target,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:g&&u.type!==Di?j===-1?16:j|16:j,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:R,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&Cu(u.ssContent),ssFallback:u.ssFallback&&Cu(u.ssFallback),el:u.el,anchor:u.anchor,ctx:u.ctx,ce:u.ce};return R&&w&&Wy(k,R.clone(k)),k}function FS(u=" ",g=0){return va(op,null,u,g)}function $y(u,g){const _=va(Ud,null,u);return _.staticCount=g,_}function No(u){return u==null||typeof u=="boolean"?va(Vc):tr(u)?va(Di,null,u.slice()):typeof u=="object"?as(u):va(op,null,String(u))}function as(u){return u.el===null&&u.patchFlag!==-1||u.memo?u:Cu(u)}function Lv(u,g){let _=0;const{shapeFlag:w}=u;if(g==null)g=null;else if(tr(g))_=16;else if(typeof g=="object")if(w&65){const A=g.default;A&&(A._c&&(A._d=!1),Lv(u,A()),A._c&&(A._d=!0));return}else{_=32;const A=g._;!A&&!Ly(g)?g._ctx=ji:A===3&&ji&&(ji.slots._===1?g._=1:(g._=2,u.patchFlag|=1024))}else ur(g)?(g={default:g,_ctx:ji},_=32):(g=String(g),w&64?(_=16,g=[FS(g)]):_=8);u.children=g,u.shapeFlag|=_}function NS(...u){const g={};for(let _=0;_<u.length;_++){const w=u[_];for(const A in w)if(A==="class")g.class!==w.class&&(g.class=Qd([g.class,w.class]));else if(A==="style")g.style=_v([g.style,w.style]);else if(Yd(A)){const P=g[A],j=w[A];j&&P!==j&&!(tr(P)&&P.includes(j))&&(g[A]=P?[].concat(P,j):j)}else A!==""&&(g[A]=w[A])}return g}function Fo(u,g,_,w=null){Xi(u,g,7,[_,w])}const VS=ky();let BS=0;function HS(u,g,_){const w=u.type,A=(g?g.appContext:u.appContext)||VS,P={uid:BS++,vnode:u,type:w,parent:g,appContext:A,root:null,next:null,subTree:null,effect:null,update:null,scope:new sC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:g?g.provides:Object.create(A.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Iy(w,A),emitsOptions:Oy(w,A),emit:null,emitted:null,propsDefaults:jr,inheritAttrs:w.inheritAttrs,ctx:jr,data:jr,props:jr,attrs:jr,slots:jr,refs:jr,setupState:jr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:_,suspenseId:_?_.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return P.ctx={_:P},P.root=g?g.root:P,P.emit=HC.bind(null,P),u.ce&&u.ce(P),P}let ii=null,qd,hv;{const u=ty(),g=(_,w)=>{let A;return(A=u[_])||(A=u[_]=[]),A.push(w),P=>{A.length>1?A.forEach(j=>j(P)):A[0](P)}};qd=g("__VUE_INSTANCE_SETTERS__",_=>ii=_),hv=g("__VUE_SSR_SETTERS__",_=>ap=_)}const Hc=u=>{const g=ii;return qd(u),u.scope.on(),()=>{u.scope.off(),qd(g)}},Lm=()=>{ii&&ii.scope.off(),qd(null)};function Zy(u){return u.vnode.shapeFlag&4}let ap=!1;function zS(u,g=!1){g&&hv(g);const{props:_,children:w}=u.vnode,A=Zy(u);gS(u,_,A,g),_S(u,w);const P=A?US(u,g):void 0;return g&&hv(!1),P}function US(u,g){const _=u.type;u.accessCache=Object.create(null),u.proxy=new Proxy(u.ctx,sS);const{setup:w}=_;if(w){const A=u.setupContext=w.length>1?KS(u):null,P=Hc(u);ds();const j=us(w,u,0,[u.props,A]);if(ps(),P(),qm(j)){if(j.then(Lm,Lm),g)return j.then(M=>{Dm(u,M,g)}).catch(M=>{ep(M,u,0)});u.asyncDep=j}else Dm(u,j,g)}else qy(u,g)}function Dm(u,g,_){ur(g)?u.type.__ssrInlineRender?u.ssrRender=g:u.render=g:qr(g)&&(u.setupState=_y(g)),qy(u,_)}let Im;function qy(u,g,_){const w=u.type;if(!u.render){if(!g&&Im&&!w.render){const A=w.template||Av(u).template;if(A){const{isCustomElement:P,compilerOptions:j}=u.appContext.config,{delimiters:M,compilerOptions:R}=w,b=Bn(Bn({isCustomElement:P,delimiters:M},j),R);w.render=Im(A,b)}}u.render=w.render||Ii}{const A=Hc(u);ds();try{lS(u)}finally{ps(),A()}}}const WS={get(u,g){return di(u,"get",""),u[g]}};function KS(u){const g=_=>{u.exposed=_||{}};return{attrs:new Proxy(u.attrs,WS),slots:u.slots,emit:u.emit,expose:g}}function sp(u){return u.exposed?u.exposeProxy||(u.exposeProxy=new Proxy(_y(AC(u.exposed)),{get(g,_){if(_ in g)return g[_];if(_ in Lc)return Lc[_](u)},has(g,_){return _ in g||_ in Lc}})):u.proxy}function GS(u){return ur(u)&&"__vccOpts"in u}const $S=(u,g)=>MC(u,g,ap),ZS="3.4.31";/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qS="http://www.w3.org/2000/svg",YS="http://www.w3.org/1998/Math/MathML",pa=typeof document<"u"?document:null,jm=pa&&pa.createElement("template"),XS={insert:(u,g,_)=>{g.insertBefore(u,_||null)},remove:u=>{const g=u.parentNode;g&&g.removeChild(u)},createElement:(u,g,_,w)=>{const A=g==="svg"?pa.createElementNS(qS,u):g==="mathml"?pa.createElementNS(YS,u):_?pa.createElement(u,{is:_}):pa.createElement(u);return u==="select"&&w&&w.multiple!=null&&A.setAttribute("multiple",w.multiple),A},createText:u=>pa.createTextNode(u),createComment:u=>pa.createComment(u),setText:(u,g)=>{u.nodeValue=g},setElementText:(u,g)=>{u.textContent=g},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>pa.querySelector(u),setScopeId(u,g){u.setAttribute(g,"")},insertStaticContent(u,g,_,w,A,P){const j=_?_.previousSibling:g.lastChild;if(A&&(A===P||A.nextSibling))for(;g.insertBefore(A.cloneNode(!0),_),!(A===P||!(A=A.nextSibling)););else{jm.innerHTML=w==="svg"?`<svg>${u}</svg>`:w==="mathml"?`<math>${u}</math>`:u;const M=jm.content;if(w==="svg"||w==="mathml"){const R=M.firstChild;for(;R.firstChild;)M.appendChild(R.firstChild);M.removeChild(R)}g.insertBefore(M,_)}return[j?j.nextSibling:g.firstChild,_?_.previousSibling:g.lastChild]}},JS=Symbol("_vtc");function QS(u,g,_){const w=u[JS];w&&(g=(g?[g,...w]:[...w]).join(" ")),g==null?u.removeAttribute("class"):_?u.setAttribute("class",g):u.className=g}const Rm=Symbol("_vod"),tO=Symbol("_vsh"),eO=Symbol(""),rO=/(^|;)\s*display\s*:/;function nO(u,g,_){const w=u.style,A=Cn(_);let P=!1;if(_&&!A){if(g)if(Cn(g))for(const j of g.split(";")){const M=j.slice(0,j.indexOf(":")).trim();_[M]==null&&Kd(w,M,"")}else for(const j in g)_[j]==null&&Kd(w,j,"");for(const j in _)j==="display"&&(P=!0),Kd(w,j,_[j])}else if(A){if(g!==_){const j=w[eO];j&&(_+=";"+j),w.cssText=_,P=rO.test(_)}}else g&&u.removeAttribute("style");Rm in u&&(u[Rm]=P?w.display:"",u[tO]&&(w.display="none"))}const Fm=/\s*!important$/;function Kd(u,g,_){if(tr(_))_.forEach(w=>Kd(u,g,w));else if(_==null&&(_=""),g.startsWith("--"))u.setProperty(g,_);else{const w=iO(u,g);Fm.test(_)?u.setProperty(yl(w),_.replace(Fm,""),"important"):u[w]=_}}const Nm=["Webkit","Moz","ms"],tv={};function iO(u,g){const _=tv[g];if(_)return _;let w=xu(g);if(w!=="filter"&&w in u)return tv[g]=w;w=Jm(w);for(let A=0;A<Nm.length;A++){const P=Nm[A]+w;if(P in u)return tv[g]=P}return g}const Vm="http://www.w3.org/1999/xlink";function Bm(u,g,_,w,A,P=aC(g)){w&&g.startsWith("xlink:")?_==null?u.removeAttributeNS(Vm,g.slice(6,g.length)):u.setAttributeNS(Vm,g,_):_==null||P&&!ey(_)?u.removeAttribute(g):u.setAttribute(g,P?"":fs(_)?String(_):_)}function oO(u,g,_,w,A,P,j){if(g==="innerHTML"||g==="textContent"){w&&j(w,A,P),u[g]=_??"";return}const M=u.tagName;if(g==="value"&&M!=="PROGRESS"&&!M.includes("-")){const b=M==="OPTION"?u.getAttribute("value")||"":u.value,k=_==null?"":String(_);(b!==k||!("_value"in u))&&(u.value=k),_==null&&u.removeAttribute(g),u._value=_;return}let R=!1;if(_===""||_==null){const b=typeof u[g];b==="boolean"?_=ey(_):_==null&&b==="string"?(_="",R=!0):b==="number"&&(_=0,R=!0)}try{u[g]=_}catch{}R&&u.removeAttribute(g)}function yu(u,g,_,w){u.addEventListener(g,_,w)}function aO(u,g,_,w){u.removeEventListener(g,_,w)}const Hm=Symbol("_vei");function sO(u,g,_,w,A=null){const P=u[Hm]||(u[Hm]={}),j=P[g];if(w&&j)j.value=w;else{const[M,R]=lO(g);if(w){const b=P[g]=fO(w,A);yu(u,M,b,R)}else j&&(aO(u,M,j,R),P[g]=void 0)}}const zm=/(?:Once|Passive|Capture)$/;function lO(u){let g;if(zm.test(u)){g={};let w;for(;w=u.match(zm);)u=u.slice(0,u.length-w[0].length),g[w[0].toLowerCase()]=!0}return[u[2]===":"?u.slice(3):yl(u.slice(2)),g]}let ev=0;const uO=Promise.resolve(),cO=()=>ev||(uO.then(()=>ev=0),ev=Date.now());function fO(u,g){const _=w=>{if(!w._vts)w._vts=Date.now();else if(w._vts<=_.attached)return;Xi(dO(w,_.value),g,5,[w])};return _.value=u,_.attached=cO(),_}function dO(u,g){if(tr(g)){const _=u.stopImmediatePropagation;return u.stopImmediatePropagation=()=>{_.call(u),u._stopped=!0},g.map(w=>A=>!A._stopped&&w&&w(A))}else return g}const Um=u=>u.charCodeAt(0)===111&&u.charCodeAt(1)===110&&u.charCodeAt(2)>96&&u.charCodeAt(2)<123,pO=(u,g,_,w,A,P,j,M,R)=>{const b=A==="svg";g==="class"?QS(u,w,b):g==="style"?nO(u,_,w):Yd(g)?gv(g)||sO(u,g,_,w,j):(g[0]==="."?(g=g.slice(1),!0):g[0]==="^"?(g=g.slice(1),!1):hO(u,g,w,b))?(oO(u,g,w,P,j,M,R),!u.tagName.includes("-")&&(g==="value"||g==="checked"||g==="selected")&&Bm(u,g,w,b,j,g!=="value")):(g==="true-value"?u._trueValue=w:g==="false-value"&&(u._falseValue=w),Bm(u,g,w,b))};function hO(u,g,_,w){if(w)return!!(g==="innerHTML"||g==="textContent"||g in u&&Um(g)&&ur(_));if(g==="spellcheck"||g==="draggable"||g==="translate"||g==="form"||g==="list"&&u.tagName==="INPUT"||g==="type"&&u.tagName==="TEXTAREA")return!1;if(g==="width"||g==="height"){const A=u.tagName;if(A==="IMG"||A==="VIDEO"||A==="CANVAS"||A==="SOURCE")return!1}return Um(g)&&Cn(_)?!1:g in u}const Wm=u=>{const g=u.props["onUpdate:modelValue"]||!1;return tr(g)?_=>Vd(g,_):g};function vO(u){u.target.composing=!0}function Km(u){const g=u.target;g.composing&&(g.composing=!1,g.dispatchEvent(new Event("input")))}const rv=Symbol("_assign"),gO={created(u,{modifiers:{lazy:g,trim:_,number:w}},A){u[rv]=Wm(A);const P=w||A.props&&A.props.type==="number";yu(u,g?"change":"input",j=>{if(j.target.composing)return;let M=u.value;_&&(M=M.trim()),P&&(M=nv(M)),u[rv](M)}),_&&yu(u,"change",()=>{u.value=u.value.trim()}),g||(yu(u,"compositionstart",vO),yu(u,"compositionend",Km),yu(u,"change",Km))},mounted(u,{value:g}){u.value=g??""},beforeUpdate(u,{value:g,oldValue:_,modifiers:{lazy:w,trim:A,number:P}},j){if(u[rv]=Wm(j),u.composing)return;const M=(P||u.type==="number")&&!/^0\d/.test(u.value)?nv(u.value):u.value,R=g??"";M!==R&&(document.activeElement===u&&u.type!=="range"&&(w&&g===_||A&&u.value.trim()===R)||(u.value=R))}},mO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},yO=(u,g)=>{const _=u._withKeys||(u._withKeys={}),w=g.join(".");return _[w]||(_[w]=A=>{if(!("key"in A))return;const P=yl(A.key);if(g.some(j=>j===P||mO[j]===P))return u(A)})},_O=Bn({patchProp:pO},XS);let Gm;function bO(){return Gm||(Gm=wS(_O))}const wO=(...u)=>{const g=bO().createApp(...u),{mount:_}=g;return g.mount=w=>{const A=CO(w);if(!A)return;const P=g._component;!ur(P)&&!P.render&&!P.template&&(P.template=A.innerHTML),A.innerHTML="";const j=_(A,!1,xO(A));return A instanceof Element&&(A.removeAttribute("v-cloak"),A.setAttribute("data-v-app","")),j},g};function xO(u){if(u instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&u instanceof MathMLElement)return"mathml"}function CO(u){return Cn(u)?document.querySelector(u):u}var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function up(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var SO={410:(u,g,_)=>{var w,A,P;/*!
* Backbone.Undo.js v0.2
*
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(j){A=[_(50),_(316)],w=j,P=typeof w=="function"?w.apply(g,A):w,P!==void 0&&(u.exports=P)})(function(j,M){var R=Array.prototype.slice;function b(Q,ut,X){return X.length<=4?Q.call(ut,X[0],X[1],X[2],X[3]):Q.apply(ut,X)}function k(Q,ut){return R.call(Q,ut)}function S(Q,ut){return Q==null?!1:(j.isArray(ut)||(ut=k(arguments,1)),j.all(ut,function(X){return X in Q}))}var x=function(){var Q=!1,ut=-1;function X(){ut++,Q=!0,j.defer(function(){Q=!1})}return function(){return Q||X(),ut}}();function T(){this.registeredObjects=[],this.cidIndexes=[]}T.prototype={isRegistered:function(Q){return Q&&Q.cid?this.registeredObjects[Q.cid]:j.contains(this.registeredObjects,Q)},register:function(Q){return this.isRegistered(Q)?!1:(Q&&Q.cid?(this.registeredObjects[Q.cid]=Q,this.cidIndexes.push(Q.cid)):this.registeredObjects.push(Q),!0)},unregister:function(Q){if(this.isRegistered(Q)){if(Q&&Q.cid)delete this.registeredObjects[Q.cid],this.cidIndexes.splice(j.indexOf(this.cidIndexes,Q.cid),1);else{var ut=j.indexOf(this.registeredObjects,Q);this.registeredObjects.splice(ut,1)}return!0}return!1},get:function(){return j.map(this.cidIndexes,function(Q){return this.registeredObjects[Q]},this).concat(this.registeredObjects)}};function L(Q,ut,X,et){for(var pt=0,$=ut.length,mt;pt<$;pt++)if(mt=ut[pt],!!mt){if(Q==="on"){if(!et.objectRegistry.register(mt))continue}else if(!et.objectRegistry.unregister(mt))continue;j.isFunction(mt[Q])&&mt[Q]("all",X,et)}}function H(Q,ut){var X=ut.type,et=ut.undoTypes,pt=!et[X]||et[X][Q];j.isFunction(pt)&&pt(ut.object,ut.before,ut.after,ut.options)}function tt(Q,ut,X,et,pt){if(!(X.isCurrentlyUndoRedoing||Q==="undo"&&X.pointer===-1||Q==="redo"&&X.pointer===X.length-1)){X.isCurrentlyUndoRedoing=!0;var $,mt,N=Q==="undo";for(pt?mt=N&&X.pointer===X.length-1||!N&&X.pointer===-1?j.clone(X.models):R.apply(X.models,N?[0,X.pointer]:[X.pointer,X.length-1]):($=X.at(N?X.pointer:X.pointer+1),mt=et?X.where({magicFusionIndex:$.get("magicFusionIndex")}):[$]),X.pointer+=(N?-1:1)*mt.length;$=N?mt.pop():mt.shift();)$[Q]();X.isCurrentlyUndoRedoing=!1,ut.trigger(Q,ut)}}function lt(Q,ut){var X=Q.condition,et=typeof X;return et==="function"?!!b(X,Q,ut):et==="boolean"?X:!0}function nt(Q,ut,X,et){if(Q.track&&!Q.isCurrentlyUndoRedoing&&ut in et&&lt(et[ut],X)){var pt=b(et[ut].on,et[ut],X),$;if(S(pt,"object","before","after")){if(pt.type=ut,pt.magicFusionIndex=x(),pt.undoTypes=et,Q.pointer<Q.length-1)for(var $=Q.length-Q.pointer-1;$--;)Q.pop();Q.pointer=Q.length,Q.add(pt),Q.length>Q.maximumStackLength&&(Q.shift(),Q.pointer--)}}}var q={add:{undo:function(Q,ut,X,et){Q.remove(X,et)},redo:function(Q,ut,X,et){et.index&&(et.at=et.index),Q.add(X,et)},on:function(Q,ut,X){return{object:ut,before:void 0,after:Q,options:j.clone(X)}}},remove:{undo:function(Q,ut,X,et){"index"in et&&(et.at=et.index),Q.add(ut,et)},redo:function(Q,ut,X,et){Q.remove(ut,et)},on:function(Q,ut,X){return{object:ut,before:Q,after:void 0,options:j.clone(X)}}},change:{undo:function(Q,ut,X,et){j.isEmpty(ut)?j.each(j.keys(X),Q.unset,Q):(Q.set(ut),et&&et.unsetData&&et.unsetData.before&&et.unsetData.before.length&&j.each(et.unsetData.before,Q.unset,Q))},redo:function(Q,ut,X,et){j.isEmpty(X)?j.each(j.keys(ut),Q.unset,Q):(Q.set(X),et&&et.unsetData&&et.unsetData.after&&et.unsetData.after.length&&j.each(et.unsetData.after,Q.unset,Q))},on:function(Q,ut){var X=Q.changedAttributes(),et=j.keys(X),pt=j.pick(Q.previousAttributes(),et),$=j.keys(pt),mt=(ut||(ut={})).unsetData={after:[],before:[]};return et.length!=$.length&&(et.length>$.length?j.each(et,function(N){N in pt||mt.before.push(N)},this):j.each($,function(N){N in X||mt.after.push(N)})),{object:Q,before:pt,after:X,options:j.clone(ut)}}},reset:{undo:function(Q,ut,X){Q.reset(ut)},redo:function(Q,ut,X){Q.reset(X)},on:function(Q,ut){return{object:Q,before:ut.previousModels,after:j.clone(Q.models)}}}};function D(){}D.prototype=q;function at(Q,ut,X,et){if(typeof ut=="object")return j.each(ut,function(pt,$){Q===2?at(Q,pt,X,et):at(Q,$,pt,X)});switch(Q){case 0:S(X,"undo","redo","on")&&j.all(j.pick(X,"undo","redo","on"),j.isFunction)&&(et[ut]=X);break;case 1:et[ut]&&j.isObject(X)&&(et[ut]=j.extend({},et[ut],X));break;case 2:delete et[ut];break}return this}var W=M.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(Q){H("undo",this.attributes)},redo:function(Q){H("redo",this.attributes)}}),st=M.Collection.extend({model:W,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(Q){this.maximumStackLength=Q}}),it=M.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(Q){this.stack=new st,this.objectRegistry=new T,this.undoTypes=new D,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(ut,X){this.stack.setMaxLength(X)},this),Q&&Q.track&&this.startTracking(),Q&&Q.register&&(j.isArray(Q.register)||j.isArguments(Q.register)?b(this.register,this,Q.register):this.register(Q.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(Q){nt(this.stack,Q,k(arguments,1),this.undoTypes)},register:function(){L("on",arguments,this._addToStack,this)},unregister:function(){L("off",arguments,this._addToStack,this)},unregisterAll:function(){b(this.unregister,this,this.objectRegistry.get())},undo:function(Q){tt("undo",this,this.stack,Q)},undoAll:function(){tt("undo",this,this.stack,!1,!0)},redo:function(Q){tt("redo",this,this.stack,Q)},redoAll:function(){tt("redo",this,this.stack,!1,!0)},isAvailable:function(Q){var ut=this.stack,X=ut.length;switch(Q){case"undo":return X>0&&ut.pointer>-1;case"redo":return X>0&&ut.pointer<X-1;default:return!1}},merge:function(Q){for(var ut=j.isArray(Q)?Q:k(arguments),X;X=ut.pop();)X instanceof it&&X.stack instanceof st&&(X.stack=this.stack)},addUndoType:function(Q,ut){at(0,Q,ut,this.undoTypes)},changeUndoType:function(Q,ut){at(1,Q,ut,this.undoTypes)},removeUndoType:function(Q){at(2,Q,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return j.extend(it,{defaults:function(Q){j.extend(it.prototype.defaults,Q)},addUndoType:function(Q,ut){at(0,Q,ut,q)},changeUndoType:function(Q,ut){at(1,Q,ut,q)},removeUndoType:function(Q){at(2,Q,void 0,q)}}),M.UndoManager=it})},316:(u,g,_)=>{var w,A;(function(P){var j=typeof self=="object"&&self.self===self&&self||typeof _.g=="object"&&_.g.global===_.g&&_.g;w=[_(50),_(895),g],A=(function(M,R,b){j.Backbone=P(j,b,M,R)}).apply(g,w),A!==void 0&&(u.exports=A)})(function(P,j,M,R){var b=P.Backbone,k=Array.prototype.slice;j.VERSION="1.4.1",j.$=R,j.noConflict=function(){return P.Backbone=b,this},j.emulateHTTP=!1,j.emulateJSON=!1;var S=j.Events={},x=/\s+/,T,L=function(V,ot,dt,C,ft){var Z=0,Y;if(dt&&typeof dt=="object")for(C!==void 0&&("context"in ft)&&ft.context===void 0&&(ft.context=C),Y=M.keys(dt);Z<Y.length;Z++)ot=L(V,ot,Y[Z],dt[Y[Z]],ft);else if(dt&&x.test(dt))for(Y=dt.split(x);Z<Y.length;Z++)ot=V(ot,Y[Z],C,ft);else ot=V(ot,dt,C,ft);return ot};S.on=function(V,ot,dt){if(this._events=L(H,this._events||{},V,ot,{context:dt,ctx:this,listening:T}),T){var C=this._listeners||(this._listeners={});C[T.id]=T,T.interop=!1}return this},S.listenTo=function(V,ot,dt){if(!V)return this;var C=V._listenId||(V._listenId=M.uniqueId("l")),ft=this._listeningTo||(this._listeningTo={}),Z=T=ft[C];Z||(this._listenId||(this._listenId=M.uniqueId("l")),Z=T=ft[C]=new at(this,V));var Y=tt(V,ot,dt,this);if(T=void 0,Y)throw Y;return Z.interop&&Z.on(ot,dt),this};var H=function(V,ot,dt,C){if(dt){var ft=V[ot]||(V[ot]=[]),Z=C.context,Y=C.ctx,z=C.listening;z&&z.count++,ft.push({callback:dt,context:Z,ctx:Z||Y,listening:z})}return V},tt=function(V,ot,dt,C){try{V.on(ot,dt,C)}catch(ft){return ft}};S.off=function(V,ot,dt){return this._events?(this._events=L(lt,this._events,V,ot,{context:dt,listeners:this._listeners}),this):this},S.stopListening=function(V,ot,dt){var C=this._listeningTo;if(!C)return this;for(var ft=V?[V._listenId]:M.keys(C),Z=0;Z<ft.length;Z++){var Y=C[ft[Z]];if(!Y)break;Y.obj.off(ot,dt,this),Y.interop&&Y.off(ot,dt)}return M.isEmpty(C)&&(this._listeningTo=void 0),this};var lt=function(V,ot,dt,C){if(V){var ft=C.context,Z=C.listeners,Y=0,z;if(!ot&&!ft&&!dt){for(z=M.keys(Z);Y<z.length;Y++)Z[z[Y]].cleanup();return}for(z=ot?[ot]:M.keys(V);Y<z.length;Y++){ot=z[Y];var Ot=V[ot];if(!Ot)break;for(var Zt=[],Jt=0;Jt<Ot.length;Jt++){var Ft=Ot[Jt];if(dt&&dt!==Ft.callback&&dt!==Ft.callback._callback||ft&&ft!==Ft.context)Zt.push(Ft);else{var ae=Ft.listening;ae&&ae.off(ot,dt)}}Zt.length?V[ot]=Zt:delete V[ot]}return V}};S.once=function(V,ot,dt){var C=L(nt,{},V,ot,this.off.bind(this));return typeof V=="string"&&dt==null&&(ot=void 0),this.on(C,ot,dt)},S.listenToOnce=function(V,ot,dt){var C=L(nt,{},ot,dt,this.stopListening.bind(this,V));return this.listenTo(V,C)};var nt=function(V,ot,dt,C){if(dt){var ft=V[ot]=M.once(function(){C(ot,ft),dt.apply(this,arguments)});ft._callback=dt}return V};S.trigger=function(V){if(!this._events)return this;for(var ot=Math.max(0,arguments.length-1),dt=Array(ot),C=0;C<ot;C++)dt[C]=arguments[C+1];return L(q,this._events,V,void 0,dt),this};var q=function(V,ot,dt,C){if(V){var ft=V[ot],Z=V.all;ft&&Z&&(Z=Z.slice()),ft&&D(ft,C),Z&&D(Z,[ot].concat(C))}return V},D=function(V,ot){var dt,C=-1,ft=V.length,Z=ot[0],Y=ot[1],z=ot[2];switch(ot.length){case 0:for(;++C<ft;)(dt=V[C]).callback.call(dt.ctx);return;case 1:for(;++C<ft;)(dt=V[C]).callback.call(dt.ctx,Z);return;case 2:for(;++C<ft;)(dt=V[C]).callback.call(dt.ctx,Z,Y);return;case 3:for(;++C<ft;)(dt=V[C]).callback.call(dt.ctx,Z,Y,z);return;default:for(;++C<ft;)(dt=V[C]).callback.apply(dt.ctx,ot);return}},at=function(V,ot){this.id=V._listenId,this.listener=V,this.obj=ot,this.interop=!0,this.count=0,this._events=void 0};at.prototype.on=S.on,at.prototype.off=function(V,ot){var dt;this.interop?(this._events=L(lt,this._events,V,ot,{context:void 0,listeners:void 0}),dt=!this._events):(this.count--,dt=this.count===0),dt&&this.cleanup()},at.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},S.bind=S.on,S.unbind=S.off,M.extend(j,S);var W=j.Model=function(V,ot){var dt=V||{};ot||(ot={}),this.preinitialize.apply(this,arguments),this.cid=M.uniqueId(this.cidPrefix),this.attributes={},ot.collection&&(this.collection=ot.collection),ot.parse&&(dt=this.parse(dt,ot)||{});var C=M.result(this,"defaults");dt=M.defaults(M.extend({},C,dt),C),this.set(dt,ot),this.changed={},this.initialize.apply(this,arguments)};M.extend(W.prototype,S,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(V){return M.clone(this.attributes)},sync:function(){return j.sync.apply(this,arguments)},get:function(V){return this.attributes[V]},escape:function(V){return M.escape(this.get(V))},has:function(V){return this.get(V)!=null},matches:function(V){return!!M.iteratee(V,this)(this.attributes)},set:function(V,ot,dt){if(V==null)return this;var C;if(typeof V=="object"?(C=V,dt=ot):(C={})[V]=ot,dt||(dt={}),!this._validate(C,dt))return!1;var ft=dt.unset,Z=dt.silent,Y=[],z=this._changing;this._changing=!0,z||(this._previousAttributes=M.clone(this.attributes),this.changed={});var Ot=this.attributes,Zt=this.changed,Jt=this._previousAttributes;for(var Ft in C)ot=C[Ft],M.isEqual(Ot[Ft],ot)||Y.push(Ft),M.isEqual(Jt[Ft],ot)?delete Zt[Ft]:Zt[Ft]=ot,ft?delete Ot[Ft]:Ot[Ft]=ot;if(this.idAttribute in C){var ae=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ae,dt)}if(!Z){Y.length&&(this._pending=dt);for(var ne=0;ne<Y.length;ne++)this.trigger("change:"+Y[ne],this,Ot[Y[ne]],dt)}if(z)return this;if(!Z)for(;this._pending;)dt=this._pending,this._pending=!1,this.trigger("change",this,dt);return this._pending=!1,this._changing=!1,this},unset:function(V,ot){return this.set(V,void 0,M.extend({},ot,{unset:!0}))},clear:function(V){var ot={};for(var dt in this.attributes)ot[dt]=void 0;return this.set(ot,M.extend({},V,{unset:!0}))},hasChanged:function(V){return V==null?!M.isEmpty(this.changed):M.has(this.changed,V)},changedAttributes:function(V){if(!V)return this.hasChanged()?M.clone(this.changed):!1;var ot=this._changing?this._previousAttributes:this.attributes,dt={},C;for(var ft in V){var Z=V[ft];M.isEqual(ot[ft],Z)||(dt[ft]=Z,C=!0)}return C?dt:!1},previous:function(V){return V==null||!this._previousAttributes?null:this._previousAttributes[V]},previousAttributes:function(){return M.clone(this._previousAttributes)},fetch:function(V){V=M.extend({parse:!0},V);var ot=this,dt=V.success;return V.success=function(C){var ft=V.parse?ot.parse(C,V):C;if(!ot.set(ft,V))return!1;dt&&dt.call(V.context,ot,C,V),ot.trigger("sync",ot,C,V)},Bt(this,V),this.sync("read",this,V)},save:function(V,ot,dt){var C;V==null||typeof V=="object"?(C=V,dt=ot):(C={})[V]=ot,dt=M.extend({validate:!0,parse:!0},dt);var ft=dt.wait;if(C&&!ft){if(!this.set(C,dt))return!1}else if(!this._validate(C,dt))return!1;var Z=this,Y=dt.success,z=this.attributes;dt.success=function(Jt){Z.attributes=z;var Ft=dt.parse?Z.parse(Jt,dt):Jt;if(ft&&(Ft=M.extend({},C,Ft)),Ft&&!Z.set(Ft,dt))return!1;Y&&Y.call(dt.context,Z,Jt,dt),Z.trigger("sync",Z,Jt,dt)},Bt(this,dt),C&&ft&&(this.attributes=M.extend({},z,C));var Ot=this.isNew()?"create":dt.patch?"patch":"update";Ot==="patch"&&!dt.attrs&&(dt.attrs=C);var Zt=this.sync(Ot,this,dt);return this.attributes=z,Zt},destroy:function(V){V=V?M.clone(V):{};var ot=this,dt=V.success,C=V.wait,ft=function(){ot.stopListening(),ot.trigger("destroy",ot,ot.collection,V)};V.success=function(Y){C&&ft(),dt&&dt.call(V.context,ot,Y,V),ot.isNew()||ot.trigger("sync",ot,Y,V)};var Z=!1;return this.isNew()?M.defer(V.success):(Bt(this,V),Z=this.sync("delete",this,V)),C||ft(),Z},url:function(){var V=M.result(this,"urlRoot")||M.result(this.collection,"url")||ee();if(this.isNew())return V;var ot=this.get(this.idAttribute);return V.replace(/[^\/]$/,"$&/")+encodeURIComponent(ot)},parse:function(V,ot){return V},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(V){return this._validate({},M.extend({},V,{validate:!0}))},_validate:function(V,ot){if(!ot.validate||!this.validate)return!0;V=M.extend({},this.attributes,V);var dt=this.validationError=this.validate(V,ot)||null;return dt?(this.trigger("invalid",this,dt,M.extend(ot,{validationError:dt})),!1):!0}});var st=j.Collection=function(V,ot){ot||(ot={}),this.preinitialize.apply(this,arguments),ot.model&&(this.model=ot.model),ot.comparator!==void 0&&(this.comparator=ot.comparator),this._reset(),this.initialize.apply(this,arguments),V&&this.reset(V,M.extend({silent:!0},ot))},it={add:!0,remove:!0,merge:!0},Q={add:!0,remove:!1},ut=function(V,ot,dt){dt=Math.min(Math.max(dt,0),V.length);var C=Array(V.length-dt),ft=ot.length,Z;for(Z=0;Z<C.length;Z++)C[Z]=V[Z+dt];for(Z=0;Z<ft;Z++)V[Z+dt]=ot[Z];for(Z=0;Z<C.length;Z++)V[Z+ft+dt]=C[Z]};M.extend(st.prototype,S,{model:W,preinitialize:function(){},initialize:function(){},toJSON:function(V){return this.map(function(ot){return ot.toJSON(V)})},sync:function(){return j.sync.apply(this,arguments)},add:function(V,ot){return this.set(V,M.extend({merge:!1},ot,Q))},remove:function(V,ot){ot=M.extend({},ot);var dt=!M.isArray(V);V=dt?[V]:V.slice();var C=this._removeModels(V,ot);return!ot.silent&&C.length&&(ot.changes={added:[],merged:[],removed:C},this.trigger("update",this,ot)),dt?C[0]:C},set:function(V,ot){if(V!=null){ot=M.extend({},it,ot),ot.parse&&!this._isModel(V)&&(V=this.parse(V,ot)||[]);var dt=!M.isArray(V);V=dt?[V]:V.slice();var C=ot.at;C!=null&&(C=+C),C>this.length&&(C=this.length),C<0&&(C+=this.length+1);var ft=[],Z=[],Y=[],z=[],Ot={},Zt=ot.add,Jt=ot.merge,Ft=ot.remove,ae=!1,ne=this.comparator&&C==null&&ot.sort!==!1,ce=M.isString(this.comparator)?this.comparator:null,he,Me;for(Me=0;Me<V.length;Me++){he=V[Me];var Fe=this.get(he);if(Fe){if(Jt&&he!==Fe){var we=this._isModel(he)?he.attributes:he;ot.parse&&(we=Fe.parse(we,ot)),Fe.set(we,ot),Y.push(Fe),ne&&!ae&&(ae=Fe.hasChanged(ce))}Ot[Fe.cid]||(Ot[Fe.cid]=!0,ft.push(Fe)),V[Me]=Fe}else Zt&&(he=V[Me]=this._prepareModel(he,ot),he&&(Z.push(he),this._addReference(he,ot),Ot[he.cid]=!0,ft.push(he)))}if(Ft){for(Me=0;Me<this.length;Me++)he=this.models[Me],Ot[he.cid]||z.push(he);z.length&&this._removeModels(z,ot)}var ar=!1,Ie=!ne&&Zt&&Ft;if(ft.length&&Ie?(ar=this.length!==ft.length||M.some(this.models,function(sr,Ke){return sr!==ft[Ke]}),this.models.length=0,ut(this.models,ft,0),this.length=this.models.length):Z.length&&(ne&&(ae=!0),ut(this.models,Z,C??this.length),this.length=this.models.length),ae&&this.sort({silent:!0}),!ot.silent){for(Me=0;Me<Z.length;Me++)C!=null&&(ot.index=C+Me),he=Z[Me],he.trigger("add",he,this,ot);(ae||ar)&&this.trigger("sort",this,ot),(Z.length||z.length||Y.length)&&(ot.changes={added:Z,removed:z,merged:Y},this.trigger("update",this,ot))}return dt?V[0]:V}},reset:function(V,ot){ot=ot?M.clone(ot):{};for(var dt=0;dt<this.models.length;dt++)this._removeReference(this.models[dt],ot);return ot.previousModels=this.models,this._reset(),V=this.add(V,M.extend({silent:!0},ot)),ot.silent||this.trigger("reset",this,ot),V},push:function(V,ot){return this.add(V,M.extend({at:this.length},ot))},pop:function(V){var ot=this.at(this.length-1);return this.remove(ot,V)},unshift:function(V,ot){return this.add(V,M.extend({at:0},ot))},shift:function(V){var ot=this.at(0);return this.remove(ot,V)},slice:function(){return k.apply(this.models,arguments)},get:function(V){if(V!=null)return this._byId[V]||this._byId[this.modelId(this._isModel(V)?V.attributes:V,V.idAttribute)]||V.cid&&this._byId[V.cid]},has:function(V){return this.get(V)!=null},at:function(V){return V<0&&(V+=this.length),this.models[V]},where:function(V,ot){return this[ot?"find":"filter"](V)},findWhere:function(V){return this.where(V,!0)},sort:function(V){var ot=this.comparator;if(!ot)throw new Error("Cannot sort a set without a comparator");V||(V={});var dt=ot.length;return M.isFunction(ot)&&(ot=ot.bind(this)),dt===1||M.isString(ot)?this.models=this.sortBy(ot):this.models.sort(ot),V.silent||this.trigger("sort",this,V),this},pluck:function(V){return this.map(V+"")},fetch:function(V){V=M.extend({parse:!0},V);var ot=V.success,dt=this;return V.success=function(C){var ft=V.reset?"reset":"set";dt[ft](C,V),ot&&ot.call(V.context,dt,C,V),dt.trigger("sync",dt,C,V)},Bt(this,V),this.sync("read",this,V)},create:function(V,ot){ot=ot?M.clone(ot):{};var dt=ot.wait;if(V=this._prepareModel(V,ot),!V)return!1;dt||this.add(V,ot);var C=this,ft=ot.success;return ot.success=function(Z,Y,z){dt&&C.add(Z,z),ft&&ft.call(z.context,Z,Y,z)},V.save(null,ot),V},parse:function(V,ot){return V},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(V,ot){return V[ot||this.model.prototype.idAttribute||"id"]},values:function(){return new et(this,pt)},keys:function(){return new et(this,$)},entries:function(){return new et(this,mt)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(V,ot){if(this._isModel(V))return V.collection||(V.collection=this),V;ot=ot?M.clone(ot):{},ot.collection=this;var dt;return this.model.prototype?dt=new this.model(V,ot):dt=this.model(V,ot),dt.validationError?(this.trigger("invalid",this,dt.validationError,ot),!1):dt},_removeModels:function(V,ot){for(var dt=[],C=0;C<V.length;C++){var ft=this.get(V[C]);if(ft){var Z=this.indexOf(ft);this.models.splice(Z,1),this.length--,delete this._byId[ft.cid];var Y=this.modelId(ft.attributes,ft.idAttribute);Y!=null&&delete this._byId[Y],ot.silent||(ot.index=Z,ft.trigger("remove",ft,this,ot)),dt.push(ft),this._removeReference(ft,ot)}}return dt},_isModel:function(V){return V instanceof W},_addReference:function(V,ot){this._byId[V.cid]=V;var dt=this.modelId(V.attributes,V.idAttribute);dt!=null&&(this._byId[dt]=V),V.on("all",this._onModelEvent,this)},_removeReference:function(V,ot){delete this._byId[V.cid];var dt=this.modelId(V.attributes,V.idAttribute);dt!=null&&delete this._byId[dt],this===V.collection&&delete V.collection,V.off("all",this._onModelEvent,this)},_onModelEvent:function(V,ot,dt,C){if(ot){if((V==="add"||V==="remove")&&dt!==this)return;if(V==="destroy"&&this.remove(ot,C),V==="changeId"){var ft=this.modelId(ot.previousAttributes(),ot.idAttribute),Z=this.modelId(ot.attributes,ot.idAttribute);ft!=null&&delete this._byId[ft],Z!=null&&(this._byId[Z]=ot)}}this.trigger.apply(this,arguments)}});var X=typeof Symbol=="function"&&Symbol.iterator;X&&(st.prototype[X]=st.prototype.values);var et=function(V,ot){this._collection=V,this._kind=ot,this._index=0},pt=1,$=2,mt=3;X&&(et.prototype[X]=function(){return this}),et.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var V=this._collection.at(this._index);this._index++;var ot;if(this._kind===pt)ot=V;else{var dt=this._collection.modelId(V.attributes,V.idAttribute);this._kind===$?ot=dt:ot=[dt,V]}return{value:ot,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var N=j.View=function(V){this.cid=M.uniqueId("view"),this.preinitialize.apply(this,arguments),M.extend(this,M.pick(V,Mt)),this._ensureElement(),this.initialize.apply(this,arguments)},kt=/^(\S+)\s*(.*)$/,Mt=["model","collection","el","id","attributes","className","tagName","events"];M.extend(N.prototype,S,{tagName:"div",$:function(V){return this.$el.find(V)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(V){return this.undelegateEvents(),this._setElement(V),this.delegateEvents(),this},_setElement:function(V){this.$el=V instanceof j.$?V:j.$(V),this.el=this.$el[0]},delegateEvents:function(V){if(V||(V=M.result(this,"events")),!V)return this;this.undelegateEvents();for(var ot in V){var dt=V[ot];if(M.isFunction(dt)||(dt=this[dt]),!!dt){var C=ot.match(kt);this.delegate(C[1],C[2],dt.bind(this))}}return this},delegate:function(V,ot,dt){return this.$el.on(V+".delegateEvents"+this.cid,ot,dt),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(V,ot,dt){return this.$el.off(V+".delegateEvents"+this.cid,ot,dt),this},_createElement:function(V){return document.createElement(V)},_ensureElement:function(){if(this.el)this.setElement(M.result(this,"el"));else{var V=M.extend({},M.result(this,"attributes"));this.id&&(V.id=M.result(this,"id")),this.className&&(V.class=M.result(this,"className")),this.setElement(this._createElement(M.result(this,"tagName"))),this._setAttributes(V)}},_setAttributes:function(V){this.$el.attr(V)}});var gt=function(V,ot,dt,C){switch(ot){case 1:return function(){return V[dt](this[C])};case 2:return function(ft){return V[dt](this[C],ft)};case 3:return function(ft,Z){return V[dt](this[C],F(ft,this),Z)};case 4:return function(ft,Z,Y){return V[dt](this[C],F(ft,this),Z,Y)};default:return function(){var ft=k.call(arguments);return ft.unshift(this[C]),V[dt].apply(V,ft)}}},Kt=function(V,ot,dt,C){M.each(dt,function(ft,Z){ot[Z]&&(V.prototype[Z]=gt(ot,ft,Z,C))})},F=function(V,ot){return M.isFunction(V)?V:M.isObject(V)&&!ot._isModel(V)?Lt(V):M.isString(V)?function(dt){return dt.get(V)}:V},Lt=function(V){var ot=M.matches(V);return function(dt){return ot(dt.attributes)}},le={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Nt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};M.each([[st,le,"models"],[W,Nt,"attributes"]],function(V){var ot=V[0],dt=V[1],C=V[2];ot.mixin=function(ft){var Z=M.reduce(M.functions(ft),function(Y,z){return Y[z]=0,Y},{});Kt(ot,ft,Z,C)},Kt(ot,M,dt,C)}),j.sync=function(V,ot,dt){var C=ge[V];M.defaults(dt||(dt={}),{emulateHTTP:j.emulateHTTP,emulateJSON:j.emulateJSON});var ft={type:C,dataType:"json"};if(dt.url||(ft.url=M.result(ot,"url")||ee()),dt.data==null&&ot&&(V==="create"||V==="update"||V==="patch")&&(ft.contentType="application/json",ft.data=JSON.stringify(dt.attrs||ot.toJSON(dt))),dt.emulateJSON&&(ft.contentType="application/x-www-form-urlencoded",ft.data=ft.data?{model:ft.data}:{}),dt.emulateHTTP&&(C==="PUT"||C==="DELETE"||C==="PATCH")){ft.type="POST",dt.emulateJSON&&(ft.data._method=C);var Z=dt.beforeSend;dt.beforeSend=function(Ot){if(Ot.setRequestHeader("X-HTTP-Method-Override",C),Z)return Z.apply(this,arguments)}}ft.type!=="GET"&&!dt.emulateJSON&&(ft.processData=!1);var Y=dt.error;dt.error=function(Ot,Zt,Jt){dt.textStatus=Zt,dt.errorThrown=Jt,Y&&Y.call(dt.context,Ot,Zt,Jt)};var z=dt.xhr=j.ajax(M.extend(ft,dt));return ot.trigger("request",ot,z,dt),z};var ge={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};j.ajax=function(){return j.$.ajax.apply(j.$,arguments)};var Ct=j.Router=function(V){V||(V={}),this.preinitialize.apply(this,arguments),V.routes&&(this.routes=V.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},zt=/\((.*?)\)/g,Pt=/(\(\?)?:\w+/g,It=/\*\w+/g,oe=/[\-{}\[\]+?.,\\\^$|#\s]/g;M.extend(Ct.prototype,S,{preinitialize:function(){},initialize:function(){},route:function(V,ot,dt){M.isRegExp(V)||(V=this._routeToRegExp(V)),M.isFunction(ot)&&(dt=ot,ot=""),dt||(dt=this[ot]);var C=this;return j.history.route(V,function(ft){var Z=C._extractParameters(V,ft);C.execute(dt,Z,ot)!==!1&&(C.trigger.apply(C,["route:"+ot].concat(Z)),C.trigger("route",ot,Z),j.history.trigger("route",C,ot,Z))}),this},execute:function(V,ot,dt){V&&V.apply(this,ot)},navigate:function(V,ot){return j.history.navigate(V,ot),this},_bindRoutes:function(){if(this.routes){this.routes=M.result(this,"routes");for(var V,ot=M.keys(this.routes);(V=ot.pop())!=null;)this.route(V,this.routes[V])}},_routeToRegExp:function(V){return V=V.replace(oe,"\\$&").replace(zt,"(?:$1)?").replace(Pt,function(ot,dt){return dt?ot:"([^/?]+)"}).replace(It,"([^?]*?)"),new RegExp("^"+V+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(V,ot){var dt=V.exec(ot).slice(1);return M.map(dt,function(C,ft){return ft===dt.length-1?C||null:C?decodeURIComponent(C):null})}});var Qt=j.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},re=/^[#\/]|\s+$/g,Tt=/^\/+|\/+$/g,Rt=/#.*$/;Qt.started=!1,M.extend(Qt.prototype,S,{interval:50,atRoot:function(){var V=this.location.pathname.replace(/[^\/]$/,"$&/");return V===this.root&&!this.getSearch()},matchRoot:function(){var V=this.decodeFragment(this.location.pathname),ot=V.slice(0,this.root.length-1)+"/";return ot===this.root},decodeFragment:function(V){return decodeURI(V.replace(/%25/g,"%2525"))},getSearch:function(){var V=this.location.href.replace(/#.*/,"").match(/\?.+/);return V?V[0]:""},getHash:function(V){var ot=(V||this).location.href.match(/#(.*)$/);return ot?ot[1]:""},getPath:function(){var V=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return V.charAt(0)==="/"?V.slice(1):V},getFragment:function(V){return V==null&&(this._usePushState||!this._wantsHashChange?V=this.getPath():V=this.getHash()),V.replace(re,"")},start:function(V){if(Qt.started)throw new Error("Backbone.history has already been started");if(Qt.started=!0,this.options=M.extend({root:"/"},this.options,V),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Tt,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var ot=this.root.slice(0,-1)||"/";return this.location.replace(ot+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var dt=document.body,C=dt.insertBefore(this.iframe,dt.firstChild).contentWindow;C.document.open(),C.document.close(),C.location.hash="#"+this.fragment}var ft=window.addEventListener||function(Z,Y){return attachEvent("on"+Z,Y)};if(this._usePushState?ft("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?ft("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var V=window.removeEventListener||function(ot,dt){return detachEvent("on"+ot,dt)};this._usePushState?V("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&V("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Qt.started=!1},route:function(V,ot){this.handlers.unshift({route:V,callback:ot})},checkUrl:function(V){var ot=this.getFragment();if(ot===this.fragment&&this.iframe&&(ot=this.getHash(this.iframe.contentWindow)),ot===this.fragment)return!1;this.iframe&&this.navigate(ot),this.loadUrl()},loadUrl:function(V){return this.matchRoot()?(V=this.fragment=this.getFragment(V),M.some(this.handlers,function(ot){if(ot.route.test(V))return ot.callback(V),!0})):!1},navigate:function(V,ot){if(!Qt.started)return!1;(!ot||ot===!0)&&(ot={trigger:!!ot}),V=this.getFragment(V||"");var dt=this.root;(V===""||V.charAt(0)==="?")&&(dt=dt.slice(0,-1)||"/");var C=dt+V;V=V.replace(Rt,"");var ft=this.decodeFragment(V);if(this.fragment!==ft){if(this.fragment=ft,this._usePushState)this.history[ot.replace?"replaceState":"pushState"]({},document.title,C);else if(this._wantsHashChange){if(this._updateHash(this.location,V,ot.replace),this.iframe&&V!==this.getHash(this.iframe.contentWindow)){var Z=this.iframe.contentWindow;ot.replace||(Z.document.open(),Z.document.close()),this._updateHash(Z.location,V,ot.replace)}}else return this.location.assign(C);if(ot.trigger)return this.loadUrl(V)}},_updateHash:function(V,ot,dt){if(dt){var C=V.href.replace(/(javascript:|#).*$/,"");V.replace(C+"#"+ot)}else V.hash="#"+ot}}),j.history=new Qt;var Yt=function(V,ot){var dt=this,C;return V&&M.has(V,"constructor")?C=V.constructor:C=function(){return dt.apply(this,arguments)},M.extend(C,dt,ot),C.prototype=M.create(dt.prototype,V),C.prototype.constructor=C,C.__super__=dt.prototype,C};W.extend=st.extend=Ct.extend=N.extend=Qt.extend=Yt;var ee=function(){throw new Error('A "url" property or function must be specified')},Bt=function(V,ot){var dt=ot.error;ot.error=function(C){dt&&dt.call(ot.context,V,C,ot),V.trigger("error",V,C,ot)}};return j})},210:(u,g,_)=>{(function(w){w(_(631))})(function(w){w.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(P,j){return/^[;{}]$/.test(j)}}),w.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(P,j,M,R){return this.jsonMode?/^[\[,{]$/.test(j)||/^}/.test(M):j==";"&&R.lexical&&R.lexical.type==")"?!1:/^[;{}]$/.test(j)&&!/^;/.test(M)}});var A=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;w.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(P,j,M,R){var b=!1;return this.configuration=="html"&&(b=R.context?A.test(R.context.tagName):!1),!b&&(P=="tag"&&/>$/.test(j)&&R.context||/^</.test(M))}}),w.defineExtension("commentRange",function(P,j,M){var R=this,b=w.innerMode(R.getMode(),R.getTokenAt(j).state).mode;R.operation(function(){if(P)R.replaceRange(b.commentEnd,M),R.replaceRange(b.commentStart,j),j.line==M.line&&j.ch==M.ch&&R.setCursor(j.line,j.ch+b.commentStart.length);else{var k=R.getRange(j,M),S=k.indexOf(b.commentStart),x=k.lastIndexOf(b.commentEnd);S>-1&&x>-1&&x>S&&(k=k.substr(0,S)+k.substring(S+b.commentStart.length,x)+k.substr(x+b.commentEnd.length)),R.replaceRange(k,j,M)}})}),w.defineExtension("autoIndentRange",function(P,j){var M=this;this.operation(function(){for(var R=P.line;R<=j.line;R++)M.indentLine(R,"smart")})}),w.defineExtension("autoFormatRange",function(P,j){var M=this,R=M.getMode(),b=M.getRange(P,j).split(`
`),k=w.copyState(R,M.getTokenAt(P).state),S=M.getOption("tabSize"),x="",T=0,L=P.ch===0;function H(){x+=`
`,L=!0,++T}for(var tt=0;tt<b.length;++tt){for(var lt=new w.StringStream(b[tt],S);!lt.eol();){var nt=w.innerMode(R,k),q=R.token(lt,k),D=lt.current();lt.start=lt.pos,(!L||/\S/.test(D))&&(x+=D,L=!1),!L&&nt.mode.newlineAfterToken&&nt.mode.newlineAfterToken(q,D,lt.string.slice(lt.pos)||b[tt+1]||"",nt.state)&&H()}!lt.pos&&R.blankLine&&R.blankLine(k),!L&&tt<b.length-1&&H()}M.operation(function(){M.replaceRange(x,P,j);for(var at=P.line+1,W=P.line+T;at<=W;++at)M.indentLine(at,"smart");M.setSelection(P,M.getCursor(!1))})})})},631:function(u){(function(g,_){u.exports=_()})(this,function(){var g=navigator.userAgent,_=navigator.platform,w=/gecko\/\d/i.test(g),A=/MSIE \d/.test(g),P=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(g),j=/Edge\/(\d+)/.exec(g),M=A||P||j,R=M&&(A?document.documentMode||6:+(j||P)[1]),b=!j&&/WebKit\//.test(g),k=b&&/Qt\/\d+\.\d+/.test(g),S=!j&&/Chrome\/(\d+)/.exec(g),x=S&&+S[1],T=/Opera\//.test(g),L=/Apple Computer/.test(navigator.vendor),H=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(g),tt=/PhantomJS/.test(g),lt=L&&(/Mobile\/\w+/.test(g)||navigator.maxTouchPoints>2),nt=/Android/.test(g),q=lt||nt||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(g),D=lt||/Mac/.test(_),at=/\bCrOS\b/.test(g),W=/win/i.test(_),st=T&&g.match(/Version\/(\d*\.\d*)/);st&&(st=Number(st[1])),st&&st>=15&&(T=!1,b=!0);var it=D&&(k||T&&(st==null||st<12.11)),Q=w||M&&R>=9;function ut(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var X=function(o,s){var f=o.className,c=ut(s).exec(f);if(c){var h=f.slice(c.index+c[0].length);o.className=f.slice(0,c.index)+(h?c[1]+h:"")}};function et(o){for(var s=o.childNodes.length;s>0;--s)o.removeChild(o.firstChild);return o}function pt(o,s){return et(o).appendChild(s)}function $(o,s,f,c){var h=document.createElement(o);if(f&&(h.className=f),c&&(h.style.cssText=c),typeof s=="string")h.appendChild(document.createTextNode(s));else if(s)for(var y=0;y<s.length;++y)h.appendChild(s[y]);return h}function mt(o,s,f,c){var h=$(o,s,f,c);return h.setAttribute("role","presentation"),h}var N;document.createRange?N=function(o,s,f,c){var h=document.createRange();return h.setEnd(c||o,f),h.setStart(o,s),h}:N=function(o,s,f){var c=document.body.createTextRange();try{c.moveToElementText(o.parentNode)}catch{return c}return c.collapse(!0),c.moveEnd("character",f),c.moveStart("character",s),c};function kt(o,s){if(s.nodeType==3&&(s=s.parentNode),o.contains)return o.contains(s);do if(s.nodeType==11&&(s=s.host),s==o)return!0;while(s=s.parentNode)}function Mt(o){var s;try{s=o.activeElement}catch{s=o.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function gt(o,s){var f=o.className;ut(s).test(f)||(o.className+=(f?" ":"")+s)}function Kt(o,s){for(var f=o.split(" "),c=0;c<f.length;c++)f[c]&&!ut(f[c]).test(s)&&(s+=" "+f[c]);return s}var F=function(o){o.select()};lt?F=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:M&&(F=function(o){try{o.select()}catch{}});function Lt(o){return o.display.wrapper.ownerDocument}function le(o){return Lt(o).defaultView}function Nt(o){var s=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,s)}}function ge(o,s,f){s||(s={});for(var c in o)o.hasOwnProperty(c)&&(f!==!1||!s.hasOwnProperty(c))&&(s[c]=o[c]);return s}function Ct(o,s,f,c,h){s==null&&(s=o.search(/[^\s\u00a0]/),s==-1&&(s=o.length));for(var y=c||0,O=h||0;;){var I=o.indexOf("	",y);if(I<0||I>=s)return O+(s-y);O+=I-y,O+=f-O%f,y=I+1}}var zt=function(){this.id=null,this.f=null,this.time=0,this.handler=Nt(this.onTimeout,this)};zt.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},zt.prototype.set=function(o,s){this.f=s;var f=+new Date+o;(!this.id||f<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=f)};function Pt(o,s){for(var f=0;f<o.length;++f)if(o[f]==s)return f;return-1}var It=50,oe={toString:function(){return"CodeMirror.Pass"}},Qt={scroll:!1},re={origin:"*mouse"},Tt={origin:"+move"};function Rt(o,s,f){for(var c=0,h=0;;){var y=o.indexOf("	",c);y==-1&&(y=o.length);var O=y-c;if(y==o.length||h+O>=s)return c+Math.min(O,s-h);if(h+=y-c,h+=f-h%f,c=y+1,h>=s)return c}}var Yt=[""];function ee(o){for(;Yt.length<=o;)Yt.push(Bt(Yt)+" ");return Yt[o]}function Bt(o){return o[o.length-1]}function V(o,s){for(var f=[],c=0;c<o.length;c++)f[c]=s(o[c],c);return f}function ot(o,s,f){for(var c=0,h=f(s);c<o.length&&f(o[c])<=h;)c++;o.splice(c,0,s)}function dt(){}function C(o,s){var f;return Object.create?f=Object.create(o):(dt.prototype=o,f=new dt),s&&ge(s,f),f}var ft=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Z(o){return/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||ft.test(o))}function Y(o,s){return s?s.source.indexOf("\\w")>-1&&Z(o)?!0:s.test(o):Z(o)}function z(o){for(var s in o)if(o.hasOwnProperty(s)&&o[s])return!1;return!0}var Ot=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Zt(o){return o.charCodeAt(0)>=768&&Ot.test(o)}function Jt(o,s,f){for(;(f<0?s>0:s<o.length)&&Zt(o.charAt(s));)s+=f;return s}function Ft(o,s,f){for(var c=s>f?-1:1;;){if(s==f)return s;var h=(s+f)/2,y=c<0?Math.ceil(h):Math.floor(h);if(y==s)return o(y)?s:f;o(y)?f=y:s=y+c}}function ae(o,s,f,c){if(!o)return c(s,f,"ltr",0);for(var h=!1,y=0;y<o.length;++y){var O=o[y];(O.from<f&&O.to>s||s==f&&O.to==s)&&(c(Math.max(O.from,s),Math.min(O.to,f),O.level==1?"rtl":"ltr",y),h=!0)}h||c(s,f,"ltr")}var ne=null;function ce(o,s,f){var c;ne=null;for(var h=0;h<o.length;++h){var y=o[h];if(y.from<s&&y.to>s)return h;y.to==s&&(y.from!=y.to&&f=="before"?c=h:ne=h),y.from==s&&(y.from!=y.to&&f!="before"?c=h:ne=h)}return c??ne}var he=function(){var o="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",s="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function f(rt){return rt<=247?o.charAt(rt):1424<=rt&&rt<=1524?"R":1536<=rt&&rt<=1785?s.charAt(rt-1536):1774<=rt&&rt<=2220?"r":8192<=rt&&rt<=8203?"w":rt==8204?"b":"L"}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,h=/[stwN]/,y=/[LRr]/,O=/[Lb1n]/,I=/[1n]/;function U(rt,xt,At){this.level=rt,this.from=xt,this.to=At}return function(rt,xt){var At=xt=="ltr"?"L":"R";if(rt.length==0||xt=="ltr"&&!c.test(rt))return!1;for(var Gt=rt.length,Ht=[],ie=0;ie<Gt;++ie)Ht.push(f(rt.charCodeAt(ie)));for(var se=0,_e=At;se<Gt;++se){var Ce=Ht[se];Ce=="m"?Ht[se]=_e:_e=Ce}for(var ke=0,Se=At;ke<Gt;++ke){var Ae=Ht[ke];Ae=="1"&&Se=="r"?Ht[ke]="n":y.test(Ae)&&(Se=Ae,Ae=="r"&&(Ht[ke]="R"))}for(var Be=1,Ne=Ht[0];Be<Gt-1;++Be){var er=Ht[Be];er=="+"&&Ne=="1"&&Ht[Be+1]=="1"?Ht[Be]="1":er==","&&Ne==Ht[Be+1]&&(Ne=="1"||Ne=="n")&&(Ht[Be]=Ne),Ne=er}for(var xr=0;xr<Gt;++xr){var nn=Ht[xr];if(nn==",")Ht[xr]="N";else if(nn=="%"){var Mr=void 0;for(Mr=xr+1;Mr<Gt&&Ht[Mr]=="%";++Mr);for(var dn=xr&&Ht[xr-1]=="!"||Mr<Gt&&Ht[Mr]=="1"?"1":"N",kn=xr;kn<Mr;++kn)Ht[kn]=dn;xr=Mr-1}}for(var br=0,Nn=At;br<Gt;++br){var on=Ht[br];Nn=="L"&&on=="1"?Ht[br]="L":y.test(on)&&(Nn=on)}for(var Jr=0;Jr<Gt;++Jr)if(h.test(Ht[Jr])){var $r=void 0;for($r=Jr+1;$r<Gt&&h.test(Ht[$r]);++$r);for(var Lr=(Jr?Ht[Jr-1]:At)=="L",Vn=($r<Gt?Ht[$r]:At)=="L",Za=Lr==Vn?Lr?"L":"R":At,Eo=Jr;Eo<$r;++Eo)Ht[Eo]=Za;Jr=$r-1}for(var pn=[],Xn,an=0;an<Gt;)if(O.test(Ht[an])){var aa=an;for(++an;an<Gt&&O.test(Ht[an]);++an);pn.push(new U(0,aa,an))}else{var li=an,sa=pn.length,Po=xt=="rtl"?1:0;for(++an;an<Gt&&Ht[an]!="L";++an);for(var An=li;An<an;)if(I.test(Ht[An])){li<An&&(pn.splice(sa,0,new U(1,li,An)),sa+=Po);var qa=An;for(++An;An<an&&I.test(Ht[An]);++An);pn.splice(sa,0,new U(2,qa,An)),sa+=Po,li=An}else++An;li<an&&pn.splice(sa,0,new U(1,li,an))}return xt=="ltr"&&(pn[0].level==1&&(Xn=rt.match(/^\s+/))&&(pn[0].from=Xn[0].length,pn.unshift(new U(0,0,Xn[0].length))),Bt(pn).level==1&&(Xn=rt.match(/\s+$/))&&(Bt(pn).to-=Xn[0].length,pn.push(new U(0,Gt-Xn[0].length,Gt)))),xt=="rtl"?pn.reverse():pn}}();function Me(o,s){var f=o.order;return f==null&&(f=o.order=he(o.text,s)),f}var Fe=[],we=function(o,s,f){if(o.addEventListener)o.addEventListener(s,f,!1);else if(o.attachEvent)o.attachEvent("on"+s,f);else{var c=o._handlers||(o._handlers={});c[s]=(c[s]||Fe).concat(f)}};function ar(o,s){return o._handlers&&o._handlers[s]||Fe}function Ie(o,s,f){if(o.removeEventListener)o.removeEventListener(s,f,!1);else if(o.detachEvent)o.detachEvent("on"+s,f);else{var c=o._handlers,h=c&&c[s];if(h){var y=Pt(h,f);y>-1&&(c[s]=h.slice(0,y).concat(h.slice(y+1)))}}}function sr(o,s){var f=ar(o,s);if(f.length)for(var c=Array.prototype.slice.call(arguments,2),h=0;h<f.length;++h)f[h].apply(null,c)}function Ke(o,s,f){return typeof s=="string"&&(s={type:s,preventDefault:function(){this.defaultPrevented=!0}}),sr(o,f||s.type,o,s),Ut(s)||s.codemirrorIgnore}function dr(o){var s=o._handlers&&o._handlers.cursorActivity;if(s)for(var f=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),c=0;c<s.length;++c)Pt(f,s[c])==-1&&f.push(s[c])}function pe(o,s){return ar(o,s).length>0}function Rr(o){o.prototype.on=function(s,f){we(this,s,f)},o.prototype.off=function(s,f){Ie(this,s,f)}}function vt(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function jt(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function Ut(o){return o.defaultPrevented!=null?o.defaultPrevented:o.returnValue==!1}function fe(o){vt(o),jt(o)}function Oe(o){return o.target||o.srcElement}function Ve(o){var s=o.which;return s==null&&(o.button&1?s=1:o.button&2?s=3:o.button&4&&(s=2)),D&&o.ctrlKey&&s==1&&(s=3),s}var Xe=function(){if(M&&R<9)return!1;var o=$("div");return"draggable"in o||"dragDrop"in o}(),gn;function Mn(o){if(gn==null){var s=$("span","");pt(o,$("span",[s,document.createTextNode("x")])),o.firstChild.offsetHeight!=0&&(gn=s.offsetWidth<=1&&s.offsetHeight>2&&!(M&&R<8))}var f=gn?$("span",""):$("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return f.setAttribute("cm-text",""),f}var Pr;function Ji(o){if(Pr!=null)return Pr;var s=pt(o,document.createTextNode("AA")),f=N(s,0,1).getBoundingClientRect(),c=N(s,1,2).getBoundingClientRect();return et(o),!f||f.left==f.right?!1:Pr=c.right-f.right<3}var Sn=`

b`.split(/\n/).length!=3?function(o){for(var s=0,f=[],c=o.length;s<=c;){var h=o.indexOf(`
`,s);h==-1&&(h=o.length);var y=o.slice(s,o.charAt(h-1)=="\r"?h-1:h),O=y.indexOf("\r");O!=-1?(f.push(y.slice(0,O)),s+=O+1):(f.push(y),s=h+1)}return f}:function(o){return o.split(/\r\n?|\n/)},Ln=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var s;try{s=o.ownerDocument.selection.createRange()}catch{}return!s||s.parentElement()!=o?!1:s.compareEndPoints("StartToEnd",s)!=0},Ri=function(){var o=$("div");return"oncopy"in o?!0:(o.setAttribute("oncopy","return;"),typeof o.oncopy=="function")}(),Fr=null;function kr(o){if(Fr!=null)return Fr;var s=pt(o,$("span","x")),f=s.getBoundingClientRect(),c=N(s,0,1).getBoundingClientRect();return Fr=Math.abs(f.left-c.left)>1}var Yr={},Dn={};function oi(o,s){arguments.length>2&&(s.dependencies=Array.prototype.slice.call(arguments,2)),Yr[o]=s}function Qi(o,s){Dn[o]=s}function $n(o){if(typeof o=="string"&&Dn.hasOwnProperty(o))o=Dn[o];else if(o&&typeof o.name=="string"&&Dn.hasOwnProperty(o.name)){var s=Dn[o.name];typeof s=="string"&&(s={name:s}),o=C(s,o),o.name=s.name}else{if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return $n("application/xml");if(typeof o=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return $n("application/json")}return typeof o=="string"?{name:o}:o||{name:"null"}}function ln(o,s){s=$n(s);var f=Yr[s.name];if(!f)return ln(o,"text/plain");var c=f(o,s);if(Xr.hasOwnProperty(s.name)){var h=Xr[s.name];for(var y in h)h.hasOwnProperty(y)&&(c.hasOwnProperty(y)&&(c["_"+y]=c[y]),c[y]=h[y])}if(c.name=s.name,s.helperType&&(c.helperType=s.helperType),s.modeProps)for(var O in s.modeProps)c[O]=s.modeProps[O];return c}var Xr={};function ai(o,s){var f=Xr.hasOwnProperty(o)?Xr[o]:Xr[o]={};ge(s,f)}function Hn(o,s){if(s===!0)return s;if(o.copyState)return o.copyState(s);var f={};for(var c in s){var h=s[c];h instanceof Array&&(h=h.concat([])),f[c]=h}return f}function In(o,s){for(var f;o.innerMode&&(f=o.innerMode(s),!(!f||f.mode==o));)s=f.state,o=f.mode;return f||{mode:o,state:s}}function Nr(o,s,f){return o.startState?o.startState(s,f):!0}var pr=function(o,s,f){this.pos=this.start=0,this.string=o,this.tabSize=s||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=f};pr.prototype.eol=function(){return this.pos>=this.string.length},pr.prototype.sol=function(){return this.pos==this.lineStart},pr.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},pr.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},pr.prototype.eat=function(o){var s=this.string.charAt(this.pos),f;if(typeof o=="string"?f=s==o:f=s&&(o.test?o.test(s):o(s)),f)return++this.pos,s},pr.prototype.eatWhile=function(o){for(var s=this.pos;this.eat(o););return this.pos>s},pr.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},pr.prototype.skipToEnd=function(){this.pos=this.string.length},pr.prototype.skipTo=function(o){var s=this.string.indexOf(o,this.pos);if(s>-1)return this.pos=s,!0},pr.prototype.backUp=function(o){this.pos-=o},pr.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ct(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ct(this.string,this.lineStart,this.tabSize):0)},pr.prototype.indentation=function(){return Ct(this.string,null,this.tabSize)-(this.lineStart?Ct(this.string,this.lineStart,this.tabSize):0)},pr.prototype.match=function(o,s,f){if(typeof o=="string"){var c=function(O){return f?O.toLowerCase():O},h=this.string.substr(this.pos,o.length);if(c(h)==c(o))return s!==!1&&(this.pos+=o.length),!0}else{var y=this.string.slice(this.pos).match(o);return y&&y.index>0?null:(y&&s!==!1&&(this.pos+=y[0].length),y)}},pr.prototype.current=function(){return this.string.slice(this.start,this.pos)},pr.prototype.hideFirstChars=function(o,s){this.lineStart+=o;try{return s()}finally{this.lineStart-=o}},pr.prototype.lookAhead=function(o){var s=this.lineOracle;return s&&s.lookAhead(o)},pr.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};function De(o,s){if(s-=o.first,s<0||s>=o.size)throw new Error("There is no line "+(s+o.first)+" in the document.");for(var f=o;!f.lines;)for(var c=0;;++c){var h=f.children[c],y=h.chunkSize();if(s<y){f=h;break}s-=y}return f.lines[s]}function mn(o,s,f){var c=[],h=s.line;return o.iter(s.line,f.line+1,function(y){var O=y.text;h==f.line&&(O=O.slice(0,f.ch)),h==s.line&&(O=O.slice(s.ch)),c.push(O),++h}),c}function Sr(o,s,f){var c=[];return o.iter(s,f,function(h){c.push(h.text)}),c}function Wr(o,s){var f=s-o.height;if(f)for(var c=o;c;c=c.parent)c.height+=f}function nr(o){if(o.parent==null)return null;for(var s=o.parent,f=Pt(s.lines,o),c=s.parent;c;s=c,c=c.parent)for(var h=0;c.children[h]!=s;++h)f+=c.children[h].chunkSize();return f+s.first}function un(o,s){var f=o.first;t:do{for(var c=0;c<o.children.length;++c){var h=o.children[c],y=h.height;if(s<y){o=h;continue t}s-=y,f+=h.chunkSize()}return f}while(!o.lines);for(var O=0;O<o.lines.length;++O){var I=o.lines[O],U=I.height;if(s<U)break;s-=U}return f+O}function Vr(o,s){return s>=o.first&&s<o.first+o.size}function On(o,s){return String(o.lineNumberFormatter(s+o.firstLineNumber))}function K(o,s,f){if(f===void 0&&(f=null),!(this instanceof K))return new K(o,s,f);this.line=o,this.ch=s,this.sticky=f}function _t(o,s){return o.line-s.line||o.ch-s.ch}function ue(o,s){return o.sticky==s.sticky&&_t(o,s)==0}function me(o){return K(o.line,o.ch)}function Ge(o,s){return _t(o,s)<0?s:o}function ir(o,s){return _t(o,s)<0?o:s}function fr(o,s){return Math.max(o.first,Math.min(s,o.first+o.size-1))}function je(o,s){if(s.line<o.first)return K(o.first,0);var f=o.first+o.size-1;return s.line>f?K(f,De(o,f).text.length):Tr(s,De(o,s.line).text.length)}function Tr(o,s){var f=o.ch;return f==null||f>s?K(o.line,s):f<0?K(o.line,0):o}function Fi(o,s){for(var f=[],c=0;c<s.length;c++)f[c]=je(o,s[c]);return f}var Bo=function(o,s){this.state=o,this.lookAhead=s},yn=function(o,s,f,c){this.state=s,this.doc=o,this.line=f,this.maxLookAhead=c||0,this.baseTokens=null,this.baseTokenPos=1};yn.prototype.lookAhead=function(o){var s=this.doc.getLine(this.line+o);return s!=null&&o>this.maxLookAhead&&(this.maxLookAhead=o),s},yn.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var s=this.baseTokens[this.baseTokenPos+1];return{type:s&&s.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},yn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},yn.fromSaved=function(o,s,f){return s instanceof Bo?new yn(o,Hn(o.mode,s.state),f,s.lookAhead):new yn(o,Hn(o.mode,s),f)},yn.prototype.save=function(o){var s=o!==!1?Hn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Bo(s,this.maxLookAhead):s};function ma(o,s,f,c){var h=[o.state.modeGen],y={};_n(o,s.text,o.doc.mode,f,function(rt,xt){return h.push(rt,xt)},y,c);for(var O=f.state,I=function(rt){f.baseTokens=h;var xt=o.state.overlays[rt],At=1,Gt=0;f.state=!0,_n(o,s.text,xt.mode,f,function(Ht,ie){for(var se=At;Gt<Ht;){var _e=h[At];_e>Ht&&h.splice(At,1,Ht,h[At+1],_e),At+=2,Gt=Math.min(Ht,_e)}if(ie)if(xt.opaque)h.splice(se,At-se,Ht,"overlay "+ie),At=se+2;else for(;se<At;se+=2){var Ce=h[se+1];h[se+1]=(Ce?Ce+" ":"")+"overlay "+ie}},y),f.state=O,f.baseTokens=null,f.baseTokenPos=1},U=0;U<o.state.overlays.length;++U)I(U);return{styles:h,classes:y.bgClass||y.textClass?y:null}}function hs(o,s,f){if(!s.styles||s.styles[0]!=o.state.modeGen){var c=hi(o,nr(s)),h=s.text.length>o.options.maxHighlightLength&&Hn(o.doc.mode,c.state),y=ma(o,s,c);h&&(c.state=h),s.stateAfter=c.save(!h),s.styles=y.styles,y.classes?s.styleClasses=y.classes:s.styleClasses&&(s.styleClasses=null),f===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return s.styles}function hi(o,s,f){var c=o.doc,h=o.display;if(!c.mode.startState)return new yn(c,!0,s);var y=Ti(o,s,f),O=y>c.first&&De(c,y-1).stateAfter,I=O?yn.fromSaved(c,O,y):new yn(c,Nr(c.mode),y);return c.iter(y,s,function(U){ya(o,U.text,I);var rt=I.line;U.stateAfter=rt==s-1||rt%5==0||rt>=h.viewFrom&&rt<h.viewTo?I.save():null,I.nextLine()}),f&&(c.modeFrontier=I.line),I}function ya(o,s,f,c){var h=o.doc.mode,y=new pr(s,o.options.tabSize,f);for(y.start=y.pos=c||0,s==""&&to(h,f.state);!y.eol();)eo(h,y,f.state),y.start=y.pos}function to(o,s){if(o.blankLine)return o.blankLine(s);if(o.innerMode){var f=In(o,s);if(f.mode.blankLine)return f.mode.blankLine(f.state)}}function eo(o,s,f,c){for(var h=0;h<10;h++){c&&(c[0]=In(o,f).mode);var y=o.token(s,f);if(s.pos>s.start)return y}throw new Error("Mode "+o.name+" failed to advance stream.")}var Ho=function(o,s,f){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=s||null,this.state=f};function Br(o,s,f,c){var h=o.doc,y=h.mode,O;s=je(h,s);var I=De(h,s.line),U=hi(o,s.line,f),rt=new pr(I.text,o.options.tabSize,U),xt;for(c&&(xt=[]);(c||rt.pos<s.ch)&&!rt.eol();)rt.start=rt.pos,O=eo(y,rt,U.state),c&&xt.push(new Ho(rt,O,Hn(h.mode,U.state)));return c?xt:new Ho(rt,O,U.state)}function _a(o,s){if(o)for(;;){var f=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;o=o.slice(0,f.index)+o.slice(f.index+f[0].length);var c=f[1]?"bgClass":"textClass";s[c]==null?s[c]=f[2]:new RegExp("(?:^|\\s)"+f[2]+"(?:$|\\s)").test(s[c])||(s[c]+=" "+f[2])}return o}function _n(o,s,f,c,h,y,O){var I=f.flattenSpans;I==null&&(I=o.options.flattenSpans);var U=0,rt=null,xt=new pr(s,o.options.tabSize,c),At,Gt=o.options.addModeClass&&[null];for(s==""&&_a(to(f,c.state),y);!xt.eol();){if(xt.pos>o.options.maxHighlightLength?(I=!1,O&&ya(o,s,c,xt.pos),xt.pos=s.length,At=null):At=_a(eo(f,xt,c.state,Gt),y),Gt){var Ht=Gt[0].name;Ht&&(At="m-"+(At?Ht+" "+At:Ht))}if(!I||rt!=At){for(;U<xt.start;)U=Math.min(xt.start,U+5e3),h(U,rt);rt=At}xt.start=xt.pos}for(;U<xt.pos;){var ie=Math.min(xt.pos,U+5e3);h(ie,rt),U=ie}}function Ti(o,s,f){for(var c,h,y=o.doc,O=f?-1:s-(o.doc.mode.innerMode?1e3:100),I=s;I>O;--I){if(I<=y.first)return y.first;var U=De(y,I-1),rt=U.stateAfter;if(rt&&(!f||I+(rt instanceof Bo?rt.lookAhead:0)<=y.modeFrontier))return I;var xt=Ct(U.text,null,o.options.tabSize);(h==null||c>xt)&&(h=I-1,c=xt)}return h}function vi(o,s){if(o.modeFrontier=Math.min(o.modeFrontier,s),!(o.highlightFrontier<s-10)){for(var f=o.first,c=s-1;c>f;c--){var h=De(o,c).stateAfter;if(h&&(!(h instanceof Bo)||c+h.lookAhead<s)){f=c+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,f)}}var vs=!1,zn=!1;function _l(){vs=!0}function ro(){zn=!0}function no(o,s,f){this.marker=o,this.from=s,this.to=f}function io(o,s){if(o)for(var f=0;f<o.length;++f){var c=o[f];if(c.marker==s)return c}}function zo(o,s){for(var f,c=0;c<o.length;++c)o[c]!=s&&(f||(f=[])).push(o[c]);return f}function gs(o,s,f){var c=f&&window.WeakSet&&(f.markedSpans||(f.markedSpans=new WeakSet));c&&o.markedSpans&&c.has(o.markedSpans)?o.markedSpans.push(s):(o.markedSpans=o.markedSpans?o.markedSpans.concat([s]):[s],c&&c.add(o.markedSpans)),s.marker.attachLine(o)}function bl(o,s,f){var c;if(o)for(var h=0;h<o.length;++h){var y=o[h],O=y.marker,I=y.from==null||(O.inclusiveLeft?y.from<=s:y.from<s);if(I||y.from==s&&O.type=="bookmark"&&(!f||!y.marker.insertLeft)){var U=y.to==null||(O.inclusiveRight?y.to>=s:y.to>s);(c||(c=[])).push(new no(O,y.from,U?null:y.to))}}return c}function ba(o,s,f){var c;if(o)for(var h=0;h<o.length;++h){var y=o[h],O=y.marker,I=y.to==null||(O.inclusiveRight?y.to>=s:y.to>s);if(I||y.from==s&&O.type=="bookmark"&&(!f||y.marker.insertLeft)){var U=y.from==null||(O.inclusiveLeft?y.from<=s:y.from<s);(c||(c=[])).push(new no(O,U?null:y.from-s,y.to==null?null:y.to-s))}}return c}function Ni(o,s){if(s.full)return null;var f=Vr(o,s.from.line)&&De(o,s.from.line).markedSpans,c=Vr(o,s.to.line)&&De(o,s.to.line).markedSpans;if(!f&&!c)return null;var h=s.from.ch,y=s.to.ch,O=_t(s.from,s.to)==0,I=bl(f,h,O),U=ba(c,y,O),rt=s.text.length==1,xt=Bt(s.text).length+(rt?h:0);if(I)for(var At=0;At<I.length;++At){var Gt=I[At];if(Gt.to==null){var Ht=io(U,Gt.marker);Ht?rt&&(Gt.to=Ht.to==null?null:Ht.to+xt):Gt.to=h}}if(U)for(var ie=0;ie<U.length;++ie){var se=U[ie];if(se.to!=null&&(se.to+=xt),se.from==null){var _e=io(I,se.marker);_e||(se.from=xt,rt&&(I||(I=[])).push(se))}else se.from+=xt,rt&&(I||(I=[])).push(se)}I&&(I=Vi(I)),U&&U!=I&&(U=Vi(U));var Ce=[I];if(!rt){var ke=s.text.length-2,Se;if(ke>0&&I)for(var Ae=0;Ae<I.length;++Ae)I[Ae].to==null&&(Se||(Se=[])).push(new no(I[Ae].marker,null,null));for(var Be=0;Be<ke;++Be)Ce.push(Se);Ce.push(U)}return Ce}function Vi(o){for(var s=0;s<o.length;++s){var f=o[s];f.from!=null&&f.from==f.to&&f.marker.clearWhenEmpty!==!1&&o.splice(s--,1)}return o.length?o:null}function wa(o,s,f){var c=null;if(o.iter(s.line,f.line+1,function(Ht){if(Ht.markedSpans)for(var ie=0;ie<Ht.markedSpans.length;++ie){var se=Ht.markedSpans[ie].marker;se.readOnly&&(!c||Pt(c,se)==-1)&&(c||(c=[])).push(se)}}),!c)return null;for(var h=[{from:s,to:f}],y=0;y<c.length;++y)for(var O=c[y],I=O.find(0),U=0;U<h.length;++U){var rt=h[U];if(!(_t(rt.to,I.from)<0||_t(rt.from,I.to)>0)){var xt=[U,1],At=_t(rt.from,I.from),Gt=_t(rt.to,I.to);(At<0||!O.inclusiveLeft&&!At)&&xt.push({from:rt.from,to:I.from}),(Gt>0||!O.inclusiveRight&&!Gt)&&xt.push({from:I.to,to:rt.to}),h.splice.apply(h,xt),U+=xt.length-3}}return h}function Uo(o){var s=o.markedSpans;if(s){for(var f=0;f<s.length;++f)s[f].marker.detachLine(o);o.markedSpans=null}}function Bi(o,s){if(s){for(var f=0;f<s.length;++f)s[f].marker.attachLine(o);o.markedSpans=s}}function oo(o){return o.inclusiveLeft?-1:0}function Ei(o){return o.inclusiveRight?1:0}function Wo(o,s){var f=o.lines.length-s.lines.length;if(f!=0)return f;var c=o.find(),h=s.find(),y=_t(c.from,h.from)||oo(o)-oo(s);if(y)return-y;var O=_t(c.to,h.to)||Ei(o)-Ei(s);return O||s.id-o.id}function ms(o,s){var f=zn&&o.markedSpans,c;if(f)for(var h=void 0,y=0;y<f.length;++y)h=f[y],h.marker.collapsed&&(s?h.from:h.to)==null&&(!c||Wo(c,h.marker)<0)&&(c=h.marker);return c}function ao(o){return ms(o,!0)}function Ko(o){return ms(o,!1)}function Tn(o,s){var f=zn&&o.markedSpans,c;if(f)for(var h=0;h<f.length;++h){var y=f[h];y.marker.collapsed&&(y.from==null||y.from<s)&&(y.to==null||y.to>s)&&(!c||Wo(c,y.marker)<0)&&(c=y.marker)}return c}function si(o,s,f,c,h){var y=De(o,s),O=zn&&y.markedSpans;if(O)for(var I=0;I<O.length;++I){var U=O[I];if(U.marker.collapsed){var rt=U.marker.find(0),xt=_t(rt.from,f)||oo(U.marker)-oo(h),At=_t(rt.to,c)||Ei(U.marker)-Ei(h);if(!(xt>=0&&At<=0||xt<=0&&At>=0)&&(xt<=0&&(U.marker.inclusiveRight&&h.inclusiveLeft?_t(rt.to,f)>=0:_t(rt.to,f)>0)||xt>=0&&(U.marker.inclusiveRight&&h.inclusiveLeft?_t(rt.from,c)<=0:_t(rt.from,c)<0)))return!0}}}function or(o){for(var s;s=ao(o);)o=s.find(-1,!0).line;return o}function so(o){for(var s;s=Ko(o);)o=s.find(1,!0).line;return o}function En(o){for(var s,f;s=Ko(o);)o=s.find(1,!0).line,(f||(f=[])).push(o);return f}function Zn(o,s){var f=De(o,s),c=or(f);return f==c?s:nr(c)}function Hi(o,s){if(s>o.lastLine())return s;var f=De(o,s),c;if(!jn(o,f))return s;for(;c=Ko(f);)f=c.find(1,!0).line;return nr(f)+1}function jn(o,s){var f=zn&&s.markedSpans;if(f){for(var c=void 0,h=0;h<f.length;++h)if(c=f[h],!!c.marker.collapsed){if(c.from==null)return!0;if(!c.marker.widgetNode&&c.from==0&&c.marker.inclusiveLeft&&Kr(o,s,c))return!0}}}function Kr(o,s,f){if(f.to==null){var c=f.marker.find(1,!0);return Kr(o,c.line,io(c.line.markedSpans,f.marker))}if(f.marker.inclusiveRight&&f.to==s.text.length)return!0;for(var h=void 0,y=0;y<s.markedSpans.length;++y)if(h=s.markedSpans[y],h.marker.collapsed&&!h.marker.widgetNode&&h.from==f.to&&(h.to==null||h.to!=f.from)&&(h.marker.inclusiveLeft||f.marker.inclusiveRight)&&Kr(o,s,h))return!0}function hr(o){o=or(o);for(var s=0,f=o.parent,c=0;c<f.lines.length;++c){var h=f.lines[c];if(h==o)break;s+=h.height}for(var y=f.parent;y;f=y,y=f.parent)for(var O=0;O<y.children.length;++O){var I=y.children[O];if(I==f)break;s+=I.height}return s}function gi(o){if(o.height==0)return 0;for(var s=o.text.length,f,c=o;f=ao(c);){var h=f.find(0,!0);c=h.from.line,s+=h.from.ch-h.to.ch}for(c=o;f=Ko(c);){var y=f.find(0,!0);s-=c.text.length-y.from.ch,c=y.to.line,s+=c.text.length-y.to.ch}return s}function mi(o){var s=o.display,f=o.doc;s.maxLine=De(f,f.first),s.maxLineLength=gi(s.maxLine),s.maxLineChanged=!0,f.iter(function(c){var h=gi(c);h>s.maxLineLength&&(s.maxLineLength=h,s.maxLine=c)})}var yi=function(o,s,f){this.text=o,Bi(this,s),this.height=f?f(this):1};yi.prototype.lineNo=function(){return nr(this)},Rr(yi);function ys(o,s,f,c){o.text=s,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),o.order!=null&&(o.order=null),Uo(o),Bi(o,f);var h=c?c(o):1;h!=o.height&&Wr(o,h)}function tn(o){o.parent=null,Uo(o)}var Su={},lo={};function _i(o,s){if(!o||/^\s*$/.test(o))return null;var f=s.addModeClass?lo:Su;return f[o]||(f[o]=o.replace(/\S+/g,"cm-$&"))}function _s(o,s){var f=mt("span",null,null,b?"padding-right: .1px":null),c={pre:mt("pre",[f],"CodeMirror-line"),content:f,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};s.measure={};for(var h=0;h<=(s.rest?s.rest.length:0);h++){var y=h?s.rest[h-1]:s.line,O=void 0;c.pos=0,c.addToken=xa,Ji(o.display.measure)&&(O=Me(y,o.doc.direction))&&(c.addToken=xl(c.addToken,O)),c.map=[];var I=s!=o.display.externalMeasured&&nr(y);Cl(y,c,hs(o,y,I)),y.styleClasses&&(y.styleClasses.bgClass&&(c.bgClass=Kt(y.styleClasses.bgClass,c.bgClass||"")),y.styleClasses.textClass&&(c.textClass=Kt(y.styleClasses.textClass,c.textClass||""))),c.map.length==0&&c.map.push(0,0,c.content.appendChild(Mn(o.display.measure))),h==0?(s.measure.map=c.map,s.measure.cache={}):((s.measure.maps||(s.measure.maps=[])).push(c.map),(s.measure.caches||(s.measure.caches=[])).push({}))}if(b){var U=c.content.lastChild;(/\bcm-tab\b/.test(U.className)||U.querySelector&&U.querySelector(".cm-tab"))&&(c.content.className="cm-tab-wrap-hack")}return sr(o,"renderLine",o,s.line,c.pre),c.pre.className&&(c.textClass=Kt(c.pre.className,c.textClass||"")),c}function wl(o){var s=$("span","","cm-invalidchar");return s.title="\\u"+o.charCodeAt(0).toString(16),s.setAttribute("aria-label",s.title),s}function xa(o,s,f,c,h,y,O){if(s){var I=o.splitSpaces?Ca(s,o.trailingSpace):s,U=o.cm.state.specialChars,rt=!1,xt;if(!U.test(s))o.col+=s.length,xt=document.createTextNode(I),o.map.push(o.pos,o.pos+s.length,xt),M&&R<9&&(rt=!0),o.pos+=s.length;else{xt=document.createDocumentFragment();for(var At=0;;){U.lastIndex=At;var Gt=U.exec(s),Ht=Gt?Gt.index-At:s.length-At;if(Ht){var ie=document.createTextNode(I.slice(At,At+Ht));M&&R<9?xt.appendChild($("span",[ie])):xt.appendChild(ie),o.map.push(o.pos,o.pos+Ht,ie),o.col+=Ht,o.pos+=Ht}if(!Gt)break;At+=Ht+1;var se=void 0;if(Gt[0]=="	"){var _e=o.cm.options.tabSize,Ce=_e-o.col%_e;se=xt.appendChild($("span",ee(Ce),"cm-tab")),se.setAttribute("role","presentation"),se.setAttribute("cm-text","	"),o.col+=Ce}else Gt[0]=="\r"||Gt[0]==`
`?(se=xt.appendChild($("span",Gt[0]=="\r"?"":"","cm-invalidchar")),se.setAttribute("cm-text",Gt[0]),o.col+=1):(se=o.cm.options.specialCharPlaceholder(Gt[0]),se.setAttribute("cm-text",Gt[0]),M&&R<9?xt.appendChild($("span",[se])):xt.appendChild(se),o.col+=1);o.map.push(o.pos,o.pos+1,se),o.pos++}}if(o.trailingSpace=I.charCodeAt(s.length-1)==32,f||c||h||rt||y||O){var ke=f||"";c&&(ke+=c),h&&(ke+=h);var Se=$("span",[xt],ke,y);if(O)for(var Ae in O)O.hasOwnProperty(Ae)&&Ae!="style"&&Ae!="class"&&Se.setAttribute(Ae,O[Ae]);return o.content.appendChild(Se)}o.content.appendChild(xt)}}function Ca(o,s){if(o.length>1&&!/  /.test(o))return o;for(var f=s,c="",h=0;h<o.length;h++){var y=o.charAt(h);y==" "&&f&&(h==o.length-1||o.charCodeAt(h+1)==32)&&(y=""),c+=y,f=y==" "}return c}function xl(o,s){return function(f,c,h,y,O,I,U){h=h?h+" cm-force-border":"cm-force-border";for(var rt=f.pos,xt=rt+c.length;;){for(var At=void 0,Gt=0;Gt<s.length&&(At=s[Gt],!(At.to>rt&&At.from<=rt));Gt++);if(At.to>=xt)return o(f,c,h,y,O,I,U);o(f,c.slice(0,At.to-rt),h,y,null,I,U),y=null,c=c.slice(At.to-rt),rt=At.to}}}function bs(o,s,f,c){var h=!c&&f.widgetNode;h&&o.map.push(o.pos,o.pos+s,h),!c&&o.cm.display.input.needsContentAttribute&&(h||(h=o.content.appendChild(document.createElement("span"))),h.setAttribute("cm-marker",f.id)),h&&(o.cm.display.input.setUneditable(h),o.content.appendChild(h)),o.pos+=s,o.trailingSpace=!1}function Cl(o,s,f){var c=o.markedSpans,h=o.text,y=0;if(!c){for(var O=1;O<f.length;O+=2)s.addToken(s,h.slice(y,y=f[O]),_i(f[O+1],s.cm.options));return}for(var I=h.length,U=0,rt=1,xt="",At,Gt,Ht=0,ie,se,_e,Ce,ke;;){if(Ht==U){ie=se=_e=Gt="",ke=null,Ce=null,Ht=1/0;for(var Se=[],Ae=void 0,Be=0;Be<c.length;++Be){var Ne=c[Be],er=Ne.marker;if(er.type=="bookmark"&&Ne.from==U&&er.widgetNode)Se.push(er);else if(Ne.from<=U&&(Ne.to==null||Ne.to>U||er.collapsed&&Ne.to==U&&Ne.from==U)){if(Ne.to!=null&&Ne.to!=U&&Ht>Ne.to&&(Ht=Ne.to,se=""),er.className&&(ie+=" "+er.className),er.css&&(Gt=(Gt?Gt+";":"")+er.css),er.startStyle&&Ne.from==U&&(_e+=" "+er.startStyle),er.endStyle&&Ne.to==Ht&&(Ae||(Ae=[])).push(er.endStyle,Ne.to),er.title&&((ke||(ke={})).title=er.title),er.attributes)for(var xr in er.attributes)(ke||(ke={}))[xr]=er.attributes[xr];er.collapsed&&(!Ce||Wo(Ce.marker,er)<0)&&(Ce=Ne)}else Ne.from>U&&Ht>Ne.from&&(Ht=Ne.from)}if(Ae)for(var nn=0;nn<Ae.length;nn+=2)Ae[nn+1]==Ht&&(se+=" "+Ae[nn]);if(!Ce||Ce.from==U)for(var Mr=0;Mr<Se.length;++Mr)bs(s,0,Se[Mr]);if(Ce&&(Ce.from||0)==U){if(bs(s,(Ce.to==null?I+1:Ce.to)-U,Ce.marker,Ce.from==null),Ce.to==null)return;Ce.to==U&&(Ce=!1)}}if(U>=I)break;for(var dn=Math.min(I,Ht);;){if(xt){var kn=U+xt.length;if(!Ce){var br=kn>dn?xt.slice(0,dn-U):xt;s.addToken(s,br,At?At+ie:ie,_e,U+br.length==Ht?se:"",Gt,ke)}if(kn>=dn){xt=xt.slice(dn-U),U=dn;break}U=kn,_e=""}xt=h.slice(y,y=f[rt++]),At=_i(f[rt++],s.cm.options)}}}function Pn(o,s,f){this.line=s,this.rest=En(s),this.size=this.rest?nr(Bt(this.rest))-f+1:1,this.node=this.text=null,this.hidden=jn(o,s)}function Sa(o,s,f){for(var c=[],h,y=s;y<f;y=h){var O=new Pn(o.doc,De(o.doc,y),y);h=y+O.size,c.push(O)}return c}var Pi=null;function Sl(o){Pi?Pi.ops.push(o):o.ownsGroup=Pi={ops:[o],delayedCallbacks:[]}}function Oa(o){var s=o.delayedCallbacks,f=0;do{for(;f<s.length;f++)s[f].call(null);for(var c=0;c<o.ops.length;c++){var h=o.ops[c];if(h.cursorActivityHandlers)for(;h.cursorActivityCalled<h.cursorActivityHandlers.length;)h.cursorActivityHandlers[h.cursorActivityCalled++].call(null,h.cm)}}while(f<s.length)}function uo(o,s){var f=o.ownsGroup;if(f)try{Oa(f)}finally{Pi=null,s(f)}}var cn=null;function Hr(o,s){var f=ar(o,s);if(f.length){var c=Array.prototype.slice.call(arguments,2),h;Pi?h=Pi.delayedCallbacks:cn?h=cn:(h=cn=[],setTimeout(Ol,0));for(var y=function(I){h.push(function(){return f[I].apply(null,c)})},O=0;O<f.length;++O)y(O)}}function Ol(){var o=cn;cn=null;for(var s=0;s<o.length;++s)o[s]()}function ws(o,s,f,c){for(var h=0;h<s.changes.length;h++){var y=s.changes[h];y=="text"?Go(o,s):y=="gutter"?fo(o,s,f,c):y=="class"?Ta(o,s):y=="widget"&&El(o,s,c)}s.changes=null}function zi(o){return o.node==o.text&&(o.node=$("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),M&&R<8&&(o.node.style.zIndex=2)),o.node}function Tl(o,s){var f=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(f&&(f+=" CodeMirror-linebackground"),s.background)f?s.background.className=f:(s.background.parentNode.removeChild(s.background),s.background=null);else if(f){var c=zi(s);s.background=c.insertBefore($("div",null,f),c.firstChild),o.display.input.setUneditable(s.background)}}function co(o,s){var f=o.display.externalMeasured;return f&&f.line==s.line?(o.display.externalMeasured=null,s.measure=f.measure,f.built):_s(o,s)}function Go(o,s){var f=s.text.className,c=co(o,s);s.text==s.node&&(s.node=c.pre),s.text.parentNode.replaceChild(c.pre,s.text),s.text=c.pre,c.bgClass!=s.bgClass||c.textClass!=s.textClass?(s.bgClass=c.bgClass,s.textClass=c.textClass,Ta(o,s)):f&&(s.text.className=f)}function Ta(o,s){Tl(o,s),s.line.wrapClass?zi(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var f=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=f||""}function fo(o,s,f,c){if(s.gutter&&(s.node.removeChild(s.gutter),s.gutter=null),s.gutterBackground&&(s.node.removeChild(s.gutterBackground),s.gutterBackground=null),s.line.gutterClass){var h=zi(s);s.gutterBackground=$("div",null,"CodeMirror-gutter-background "+s.line.gutterClass,"left: "+(o.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px; width: "+c.gutterTotalWidth+"px"),o.display.input.setUneditable(s.gutterBackground),h.insertBefore(s.gutterBackground,s.text)}var y=s.line.gutterMarkers;if(o.options.lineNumbers||y){var O=zi(s),I=s.gutter=$("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?c.fixedPos:-c.gutterTotalWidth)+"px");if(I.setAttribute("aria-hidden","true"),o.display.input.setUneditable(I),O.insertBefore(I,s.text),s.line.gutterClass&&(I.className+=" "+s.line.gutterClass),o.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(s.lineNumber=I.appendChild($("div",On(o.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+c.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),y)for(var U=0;U<o.display.gutterSpecs.length;++U){var rt=o.display.gutterSpecs[U].className,xt=y.hasOwnProperty(rt)&&y[rt];xt&&I.appendChild($("div",[xt],"CodeMirror-gutter-elt","left: "+c.gutterLeft[rt]+"px; width: "+c.gutterWidth[rt]+"px"))}}}function El(o,s,f){s.alignable&&(s.alignable=null);for(var c=ut("CodeMirror-linewidget"),h=s.node.firstChild,y=void 0;h;h=y)y=h.nextSibling,c.test(h.className)&&s.node.removeChild(h);xs(o,s,f)}function ki(o,s,f,c){var h=co(o,s);return s.text=s.node=h.pre,h.bgClass&&(s.bgClass=h.bgClass),h.textClass&&(s.textClass=h.textClass),Ta(o,s),fo(o,s,f,c),xs(o,s,c),s.node}function xs(o,s,f){if(Cs(o,s.line,s,f,!0),s.rest)for(var c=0;c<s.rest.length;c++)Cs(o,s.rest[c],s,f,!1)}function Cs(o,s,f,c,h){if(s.widgets)for(var y=zi(f),O=0,I=s.widgets;O<I.length;++O){var U=I[O],rt=$("div",[U.node],"CodeMirror-linewidget"+(U.className?" "+U.className:""));U.handleMouseEvents||rt.setAttribute("cm-ignore-events","true"),Ss(U,rt,f,c),o.display.input.setUneditable(rt),h&&U.above?y.insertBefore(rt,f.gutter||f.text):y.appendChild(rt),Hr(U,"redraw")}}function Ss(o,s,f,c){if(o.noHScroll){(f.alignable||(f.alignable=[])).push(s);var h=c.wrapperWidth;s.style.left=c.fixedPos+"px",o.coverGutter||(h-=c.gutterTotalWidth,s.style.paddingLeft=c.gutterTotalWidth+"px"),s.style.width=h+"px"}o.coverGutter&&(s.style.zIndex=5,s.style.position="relative",o.noHScroll||(s.style.marginLeft=-c.gutterTotalWidth+"px"))}function Ai(o){if(o.height!=null)return o.height;var s=o.doc.cm;if(!s)return 0;if(!kt(document.body,o.node)){var f="position: relative;";o.coverGutter&&(f+="margin-left: -"+s.display.gutters.offsetWidth+"px;"),o.noHScroll&&(f+="width: "+s.display.wrapper.clientWidth+"px;"),pt(s.display.measure,$("div",[o.node],null,f))}return o.height=o.node.parentNode.offsetHeight}function bi(o,s){for(var f=Oe(s);f!=o.wrapper;f=f.parentNode)if(!f||f.nodeType==1&&f.getAttribute("cm-ignore-events")=="true"||f.parentNode==o.sizer&&f!=o.mover)return!0}function wi(o){return o.lineSpace.offsetTop}function Os(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function G(o){if(o.cachedPaddingH)return o.cachedPaddingH;var s=pt(o.measure,$("pre","x","CodeMirror-line-like")),f=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,c={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};return!isNaN(c.left)&&!isNaN(c.right)&&(o.cachedPaddingH=c),c}function ct(o){return It-o.display.nativeBarWidth}function Et(o){return o.display.scroller.clientWidth-ct(o)-o.display.barWidth}function Dt(o){return o.display.scroller.clientHeight-ct(o)-o.display.barHeight}function qt(o,s,f){var c=o.options.lineWrapping,h=c&&Et(o);if(!s.measure.heights||c&&s.measure.width!=h){var y=s.measure.heights=[];if(c){s.measure.width=h;for(var O=s.text.firstChild.getClientRects(),I=0;I<O.length-1;I++){var U=O[I],rt=O[I+1];Math.abs(U.bottom-rt.bottom)>2&&y.push((U.bottom+rt.top)/2-f.top)}}y.push(f.bottom-f.top)}}function Wt(o,s,f){if(o.line==s)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var c=0;c<o.rest.length;c++)if(o.rest[c]==s)return{map:o.measure.maps[c],cache:o.measure.caches[c]};for(var h=0;h<o.rest.length;h++)if(nr(o.rest[h])>f)return{map:o.measure.maps[h],cache:o.measure.caches[h],before:!0}}}function de(o,s){s=or(s);var f=nr(s),c=o.display.externalMeasured=new Pn(o.doc,s,f);c.lineN=f;var h=c.built=_s(o,c);return c.text=h.pre,pt(o.display.lineMeasure,h.pre),c}function Te(o,s,f,c){return _r(o,Ue(o,s),f,c)}function Ye(o,s){if(s>=o.display.viewFrom&&s<o.display.viewTo)return o.display.view[Zo(o,s)];var f=o.display.externalMeasured;if(f&&s>=f.lineN&&s<f.lineN+f.size)return f}function Ue(o,s){var f=nr(s),c=Ye(o,f);c&&!c.text?c=null:c&&c.changes&&(ws(o,c,f,Au(o)),o.curOp.forceUpdate=!0),c||(c=de(o,s));var h=Wt(c,s,f);return{line:s,view:c,rect:null,map:h.map,cache:h.cache,before:h.before,hasHeights:!1}}function _r(o,s,f,c,h){s.before&&(f=-1);var y=f+(c||""),O;return s.cache.hasOwnProperty(y)?O=s.cache[y]:(s.rect||(s.rect=s.view.text.getBoundingClientRect()),s.hasHeights||(qt(o,s.view,s.rect),s.hasHeights=!0),O=Ou(o,s,f,c),O.bogus||(s.cache[y]=O)),{left:O.left,right:O.right,top:h?O.rtop:O.top,bottom:h?O.rbottom:O.bottom}}var Gr={left:0,right:0,top:0,bottom:0};function Ea(o,s,f){for(var c,h,y,O,I,U,rt=0;rt<o.length;rt+=3)if(I=o[rt],U=o[rt+1],s<I?(h=0,y=1,O="left"):s<U?(h=s-I,y=h+1):(rt==o.length-3||s==U&&o[rt+3]>s)&&(y=U-I,h=y-1,s>=U&&(O="right")),h!=null){if(c=o[rt+2],I==U&&f==(c.insertLeft?"left":"right")&&(O=f),f=="left"&&h==0)for(;rt&&o[rt-2]==o[rt-3]&&o[rt-1].insertLeft;)c=o[(rt-=3)+2],O="left";if(f=="right"&&h==U-I)for(;rt<o.length-3&&o[rt+3]==o[rt+4]&&!o[rt+5].insertLeft;)c=o[(rt+=3)+2],O="right";break}return{node:c,start:h,end:y,collapse:O,coverStart:I,coverEnd:U}}function Pl(o,s){var f=Gr;if(s=="left")for(var c=0;c<o.length&&(f=o[c]).left==f.right;c++);else for(var h=o.length-1;h>=0&&(f=o[h]).left==f.right;h--);return f}function Ou(o,s,f,c){var h=Ea(s.map,f,c),y=h.node,O=h.start,I=h.end,U=h.collapse,rt;if(y.nodeType==3){for(var xt=0;xt<4;xt++){for(;O&&Zt(s.line.text.charAt(h.coverStart+O));)--O;for(;h.coverStart+I<h.coverEnd&&Zt(s.line.text.charAt(h.coverStart+I));)++I;if(M&&R<9&&O==0&&I==h.coverEnd-h.coverStart?rt=y.parentNode.getBoundingClientRect():rt=Pl(N(y,O,I).getClientRects(),c),rt.left||rt.right||O==0)break;I=O,O=O-1,U="right"}M&&R<11&&(rt=cp(o.display.measure,rt))}else{O>0&&(U=c="right");var At;o.options.lineWrapping&&(At=y.getClientRects()).length>1?rt=At[c=="right"?At.length-1:0]:rt=y.getBoundingClientRect()}if(M&&R<9&&!O&&(!rt||!rt.left&&!rt.right)){var Gt=y.parentNode.getClientRects()[0];Gt?rt={left:Gt.left,right:Gt.left+ka(o.display),top:Gt.top,bottom:Gt.bottom}:rt=Gr}for(var Ht=rt.top-s.rect.top,ie=rt.bottom-s.rect.top,se=(Ht+ie)/2,_e=s.view.measure.heights,Ce=0;Ce<_e.length-1&&!(se<_e[Ce]);Ce++);var ke=Ce?_e[Ce-1]:0,Se=_e[Ce],Ae={left:(U=="right"?rt.right:rt.left)-s.rect.left,right:(U=="left"?rt.left:rt.right)-s.rect.left,top:ke,bottom:Se};return!rt.left&&!rt.right&&(Ae.bogus=!0),o.options.singleCursorHeightPerLine||(Ae.rtop=Ht,Ae.rbottom=ie),Ae}function cp(o,s){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!kr(o))return s;var f=screen.logicalXDPI/screen.deviceXDPI,c=screen.logicalYDPI/screen.deviceYDPI;return{left:s.left*f,right:s.right*f,top:s.top*c,bottom:s.bottom*c}}function Ts(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var s=0;s<o.rest.length;s++)o.measure.caches[s]={}}function zc(o){o.display.externalMeasure=null,et(o.display.lineMeasure);for(var s=0;s<o.display.view.length;s++)Ts(o.display.view[s])}function $o(o){zc(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function Uc(o){return S&&nt?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function Es(o){return S&&nt?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function Ps(o){var s=or(o),f=s.widgets,c=0;if(f)for(var h=0;h<f.length;++h)f[h].above&&(c+=Ai(f[h]));return c}function kl(o,s,f,c,h){if(!h){var y=Ps(s);f.top+=y,f.bottom+=y}if(c=="line")return f;c||(c="local");var O=hr(s);if(c=="local"?O+=wi(o.display):O-=o.display.viewOffset,c=="page"||c=="window"){var I=o.display.lineSpace.getBoundingClientRect();O+=I.top+(c=="window"?0:Es(Lt(o)));var U=I.left+(c=="window"?0:Uc(Lt(o)));f.left+=U,f.right+=U}return f.top+=O,f.bottom+=O,f}function Wc(o,s,f){if(f=="div")return s;var c=s.left,h=s.top;if(f=="page")c-=Uc(Lt(o)),h-=Es(Lt(o));else if(f=="local"||!f){var y=o.display.sizer.getBoundingClientRect();c+=y.left,h+=y.top}var O=o.display.lineSpace.getBoundingClientRect();return{left:c-O.left,top:h-O.top}}function Al(o,s,f,c,h){return c||(c=De(o.doc,s.line)),kl(o,c,Te(o,c,s.ch,h),f)}function Un(o,s,f,c,h,y){c=c||De(o.doc,s.line),h||(h=Ue(o,c));function O(ie,se){var _e=_r(o,h,ie,se?"right":"left",y);return se?_e.left=_e.right:_e.right=_e.left,kl(o,c,_e,f)}var I=Me(c,o.doc.direction),U=s.ch,rt=s.sticky;if(U>=c.text.length?(U=c.text.length,rt="before"):U<=0&&(U=0,rt="after"),!I)return O(rt=="before"?U-1:U,rt=="before");function xt(ie,se,_e){var Ce=I[se],ke=Ce.level==1;return O(_e?ie-1:ie,ke!=_e)}var At=ce(I,U,rt),Gt=ne,Ht=xt(U,At,rt=="before");return Gt!=null&&(Ht.other=xt(U,Gt,rt!="before")),Ht}function Tu(o,s){var f=0;s=je(o.doc,s),o.options.lineWrapping||(f=ka(o.display)*s.ch);var c=De(o.doc,s.line),h=hr(c)+wi(o.display);return{left:f,right:f,top:h,bottom:h+c.height}}function Eu(o,s,f,c,h){var y=K(o,s,f);return y.xRel=h,c&&(y.outside=c),y}function Pu(o,s,f){var c=o.doc;if(f+=o.display.viewOffset,f<0)return Eu(c.first,0,null,-1,-1);var h=un(c,f),y=c.first+c.size-1;if(h>y)return Eu(c.first+c.size-1,De(c,y).text.length,null,1,1);s<0&&(s=0);for(var O=De(c,h);;){var I=fp(o,O,h,s,f),U=Tn(O,I.ch+(I.xRel>0||I.outside>0?1:0));if(!U)return I;var rt=U.find(1);if(rt.line==h)return rt;O=De(c,h=rt.line)}}function Kc(o,s,f,c){c-=Ps(s);var h=s.text.length,y=Ft(function(O){return _r(o,f,O-1).bottom<=c},h,0);return h=Ft(function(O){return _r(o,f,O).top>c},y,h),{begin:y,end:h}}function ks(o,s,f,c){f||(f=Ue(o,s));var h=kl(o,s,_r(o,f,c),"line").top;return Kc(o,s,f,h)}function ku(o,s,f,c){return o.bottom<=f?!1:o.top>f?!0:(c?o.left:o.right)>s}function fp(o,s,f,c,h){h-=hr(s);var y=Ue(o,s),O=Ps(s),I=0,U=s.text.length,rt=!0,xt=Me(s,o.doc.direction);if(xt){var At=(o.options.lineWrapping?Ml:dp)(o,s,f,y,xt,c,h);rt=At.level!=1,I=rt?At.from:At.to-1,U=rt?At.to:At.from-1}var Gt=null,Ht=null,ie=Ft(function(Be){var Ne=_r(o,y,Be);return Ne.top+=O,Ne.bottom+=O,ku(Ne,c,h,!1)?(Ne.top<=h&&Ne.left<=c&&(Gt=Be,Ht=Ne),!0):!1},I,U),se,_e,Ce=!1;if(Ht){var ke=c-Ht.left<Ht.right-c,Se=ke==rt;ie=Gt+(Se?0:1),_e=Se?"after":"before",se=ke?Ht.left:Ht.right}else{!rt&&(ie==U||ie==I)&&ie++,_e=ie==0?"after":ie==s.text.length?"before":_r(o,y,ie-(rt?1:0)).bottom+O<=h==rt?"after":"before";var Ae=Un(o,K(f,ie,_e),"line",s,y);se=Ae.left,Ce=h<Ae.top?-1:h>=Ae.bottom?1:0}return ie=Jt(s.text,ie,1),Eu(f,ie,_e,Ce,c-se)}function dp(o,s,f,c,h,y,O){var I=Ft(function(At){var Gt=h[At],Ht=Gt.level!=1;return ku(Un(o,K(f,Ht?Gt.to:Gt.from,Ht?"before":"after"),"line",s,c),y,O,!0)},0,h.length-1),U=h[I];if(I>0){var rt=U.level!=1,xt=Un(o,K(f,rt?U.from:U.to,rt?"after":"before"),"line",s,c);ku(xt,y,O,!0)&&xt.top>O&&(U=h[I-1])}return U}function Ml(o,s,f,c,h,y,O){var I=Kc(o,s,c,O),U=I.begin,rt=I.end;/\s/.test(s.text.charAt(rt-1))&&rt--;for(var xt=null,At=null,Gt=0;Gt<h.length;Gt++){var Ht=h[Gt];if(!(Ht.from>=rt||Ht.to<=U)){var ie=Ht.level!=1,se=_r(o,c,ie?Math.min(rt,Ht.to)-1:Math.max(U,Ht.from)).right,_e=se<y?y-se+1e9:se-y;(!xt||At>_e)&&(xt=Ht,At=_e)}}return xt||(xt=h[h.length-1]),xt.from<U&&(xt={from:U,to:xt.to,level:xt.level}),xt.to>rt&&(xt={from:xt.from,to:rt,level:xt.level}),xt}var Ui;function Pa(o){if(o.cachedTextHeight!=null)return o.cachedTextHeight;if(Ui==null){Ui=$("pre",null,"CodeMirror-line-like");for(var s=0;s<49;++s)Ui.appendChild(document.createTextNode("x")),Ui.appendChild($("br"));Ui.appendChild(document.createTextNode("x"))}pt(o.measure,Ui);var f=Ui.offsetHeight/50;return f>3&&(o.cachedTextHeight=f),et(o.measure),f||1}function ka(o){if(o.cachedCharWidth!=null)return o.cachedCharWidth;var s=$("span","xxxxxxxxxx"),f=$("pre",[s],"CodeMirror-line-like");pt(o.measure,f);var c=s.getBoundingClientRect(),h=(c.right-c.left)/10;return h>2&&(o.cachedCharWidth=h),h||10}function Au(o){for(var s=o.display,f={},c={},h=s.gutters.clientLeft,y=s.gutters.firstChild,O=0;y;y=y.nextSibling,++O){var I=o.display.gutterSpecs[O].className;f[I]=y.offsetLeft+y.clientLeft+h,c[I]=y.clientWidth}return{fixedPos:Aa(s),gutterTotalWidth:s.gutters.offsetWidth,gutterLeft:f,gutterWidth:c,wrapperWidth:s.wrapper.clientWidth}}function Aa(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function Ll(o){var s=Pa(o.display),f=o.options.lineWrapping,c=f&&Math.max(5,o.display.scroller.clientWidth/ka(o.display)-3);return function(h){if(jn(o.doc,h))return 0;var y=0;if(h.widgets)for(var O=0;O<h.widgets.length;O++)h.widgets[O].height&&(y+=h.widgets[O].height);return f?y+(Math.ceil(h.text.length/c)||1)*s:y+s}}function Mu(o){var s=o.doc,f=Ll(o);s.iter(function(c){var h=f(c);h!=c.height&&Wr(c,h)})}function po(o,s,f,c){var h=o.display;if(!f&&Oe(s).getAttribute("cm-not-content")=="true")return null;var y,O,I=h.lineSpace.getBoundingClientRect();try{y=s.clientX-I.left,O=s.clientY-I.top}catch{return null}var U=Pu(o,y,O),rt;if(c&&U.xRel>0&&(rt=De(o.doc,U.line).text).length==U.ch){var xt=Ct(rt,rt.length,o.options.tabSize)-rt.length;U=K(U.line,Math.max(0,Math.round((y-G(o.display).left)/ka(o.display))-xt))}return U}function Zo(o,s){if(s>=o.display.viewTo||(s-=o.display.viewFrom,s<0))return null;for(var f=o.display.view,c=0;c<f.length;c++)if(s-=f[c].size,s<0)return c}function fn(o,s,f,c){s==null&&(s=o.doc.first),f==null&&(f=o.doc.first+o.doc.size),c||(c=0);var h=o.display;if(c&&f<h.viewTo&&(h.updateLineNumbers==null||h.updateLineNumbers>s)&&(h.updateLineNumbers=s),o.curOp.viewChanged=!0,s>=h.viewTo)zn&&Zn(o.doc,s)<h.viewTo&&vo(o);else if(f<=h.viewFrom)zn&&Hi(o.doc,f+c)>h.viewFrom?vo(o):(h.viewFrom+=c,h.viewTo+=c);else if(s<=h.viewFrom&&f>=h.viewTo)vo(o);else if(s<=h.viewFrom){var y=Dl(o,f,f+c,1);y?(h.view=h.view.slice(y.index),h.viewFrom=y.lineN,h.viewTo+=c):vo(o)}else if(f>=h.viewTo){var O=Dl(o,s,s,-1);O?(h.view=h.view.slice(0,O.index),h.viewTo=O.lineN):vo(o)}else{var I=Dl(o,s,s,-1),U=Dl(o,f,f+c,1);I&&U?(h.view=h.view.slice(0,I.index).concat(Sa(o,I.lineN,U.lineN)).concat(h.view.slice(U.index)),h.viewTo+=c):vo(o)}var rt=h.externalMeasured;rt&&(f<rt.lineN?rt.lineN+=c:s<rt.lineN+rt.size&&(h.externalMeasured=null))}function ho(o,s,f){o.curOp.viewChanged=!0;var c=o.display,h=o.display.externalMeasured;if(h&&s>=h.lineN&&s<h.lineN+h.size&&(c.externalMeasured=null),!(s<c.viewFrom||s>=c.viewTo)){var y=c.view[Zo(o,s)];if(y.node!=null){var O=y.changes||(y.changes=[]);Pt(O,f)==-1&&O.push(f)}}}function vo(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function Dl(o,s,f,c){var h=Zo(o,s),y,O=o.display.view;if(!zn||f==o.doc.first+o.doc.size)return{index:h,lineN:f};for(var I=o.display.viewFrom,U=0;U<h;U++)I+=O[U].size;if(I!=s){if(c>0){if(h==O.length-1)return null;y=I+O[h].size-s,h++}else y=I-s;s+=y,f+=y}for(;Zn(o.doc,f)!=f;){if(h==(c<0?0:O.length-1))return null;f+=c*O[h-(c<0?1:0)].size,h+=c}return{index:h,lineN:f}}function Il(o,s,f){var c=o.display,h=c.view;h.length==0||s>=c.viewTo||f<=c.viewFrom?(c.view=Sa(o,s,f),c.viewFrom=s):(c.viewFrom>s?c.view=Sa(o,s,c.viewFrom).concat(c.view):c.viewFrom<s&&(c.view=c.view.slice(Zo(o,s))),c.viewFrom=s,c.viewTo<f?c.view=c.view.concat(Sa(o,c.viewTo,f)):c.viewTo>f&&(c.view=c.view.slice(0,Zo(o,f)))),c.viewTo=f}function jl(o){for(var s=o.display.view,f=0,c=0;c<s.length;c++){var h=s[c];!h.hidden&&(!h.node||h.changes)&&++f}return f}function As(o){o.display.input.showSelection(o.display.input.prepareSelection())}function Gc(o,s){s===void 0&&(s=!0);var f=o.doc,c={},h=c.cursors=document.createDocumentFragment(),y=c.selection=document.createDocumentFragment(),O=o.options.$customCursor;O&&(s=!0);for(var I=0;I<f.sel.ranges.length;I++)if(!(!s&&I==f.sel.primIndex)){var U=f.sel.ranges[I];if(!(U.from().line>=o.display.viewTo||U.to().line<o.display.viewFrom)){var rt=U.empty();if(O){var xt=O(o,U);xt&&Lu(o,xt,h)}else(rt||o.options.showCursorWhenSelecting)&&Lu(o,U.head,h);rt||Du(o,U,y)}}return c}function Lu(o,s,f){var c=Un(o,s,"div",null,null,!o.options.singleCursorHeightPerLine),h=f.appendChild($("div","","CodeMirror-cursor"));if(h.style.left=c.left+"px",h.style.top=c.top+"px",h.style.height=Math.max(0,c.bottom-c.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var y=Al(o,s,"div",null,null),O=y.right-y.left;h.style.width=(O>0?O:o.defaultCharWidth())+"px"}if(c.other){var I=f.appendChild($("div","","CodeMirror-cursor CodeMirror-secondarycursor"));I.style.display="",I.style.left=c.other.left+"px",I.style.top=c.other.top+"px",I.style.height=(c.other.bottom-c.other.top)*.85+"px"}}function qo(o,s){return o.top-s.top||o.left-s.left}function Du(o,s,f){var c=o.display,h=o.doc,y=document.createDocumentFragment(),O=G(o.display),I=O.left,U=Math.max(c.sizerWidth,Et(o)-c.sizer.offsetLeft)-O.right,rt=h.direction=="ltr";function xt(Se,Ae,Be,Ne){Ae<0&&(Ae=0),Ae=Math.round(Ae),Ne=Math.round(Ne),y.appendChild($("div",null,"CodeMirror-selected","position: absolute; left: "+Se+`px;
                             top: `+Ae+"px; width: "+(Be??U-Se)+`px;
                             height: `+(Ne-Ae)+"px"))}function At(Se,Ae,Be){var Ne=De(h,Se),er=Ne.text.length,xr,nn;function Mr(br,Nn){return Al(o,K(Se,br),"div",Ne,Nn)}function dn(br,Nn,on){var Jr=ks(o,Ne,null,br),$r=Nn=="ltr"==(on=="after")?"left":"right",Lr=on=="after"?Jr.begin:Jr.end-(/\s/.test(Ne.text.charAt(Jr.end-1))?2:1);return Mr(Lr,$r)[$r]}var kn=Me(Ne,h.direction);return ae(kn,Ae||0,Be??er,function(br,Nn,on,Jr){var $r=on=="ltr",Lr=Mr(br,$r?"left":"right"),Vn=Mr(Nn-1,$r?"right":"left"),Za=Ae==null&&br==0,Eo=Be==null&&Nn==er,pn=Jr==0,Xn=!kn||Jr==kn.length-1;if(Vn.top-Lr.top<=3){var an=(rt?Za:Eo)&&pn,aa=(rt?Eo:Za)&&Xn,li=an?I:($r?Lr:Vn).left,sa=aa?U:($r?Vn:Lr).right;xt(li,Lr.top,sa-li,Lr.bottom)}else{var Po,An,qa,lc;$r?(Po=rt&&Za&&pn?I:Lr.left,An=rt?U:dn(br,on,"before"),qa=rt?I:dn(Nn,on,"after"),lc=rt&&Eo&&Xn?U:Vn.right):(Po=rt?dn(br,on,"before"):I,An=!rt&&Za&&pn?U:Lr.right,qa=!rt&&Eo&&Xn?I:Vn.left,lc=rt?dn(Nn,on,"after"):U),xt(Po,Lr.top,An-Po,Lr.bottom),Lr.bottom<Vn.top&&xt(I,Lr.bottom,null,Vn.top),xt(qa,Vn.top,lc-qa,Vn.bottom)}(!xr||qo(Lr,xr)<0)&&(xr=Lr),qo(Vn,xr)<0&&(xr=Vn),(!nn||qo(Lr,nn)<0)&&(nn=Lr),qo(Vn,nn)<0&&(nn=Vn)}),{start:xr,end:nn}}var Gt=s.from(),Ht=s.to();if(Gt.line==Ht.line)At(Gt.line,Gt.ch,Ht.ch);else{var ie=De(h,Gt.line),se=De(h,Ht.line),_e=or(ie)==or(se),Ce=At(Gt.line,Gt.ch,_e?ie.text.length+1:null).end,ke=At(Ht.line,_e?0:null,Ht.ch).start;_e&&(Ce.top<ke.top-2?(xt(Ce.right,Ce.top,null,Ce.bottom),xt(I,ke.top,ke.left,ke.bottom)):xt(Ce.right,Ce.top,ke.left-Ce.right,Ce.bottom)),Ce.bottom<ke.top&&xt(I,Ce.bottom,null,ke.top)}f.appendChild(y)}function Iu(o){if(o.state.focused){var s=o.display;clearInterval(s.blinker);var f=!0;s.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?s.blinker=setInterval(function(){o.hasFocus()||La(o),s.cursorDiv.style.visibility=(f=!f)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(s.cursorDiv.style.visibility="hidden")}}function Rl(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||Ma(o))}function ju(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&La(o))},100)}function Ma(o,s){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),o.options.readOnly!="nocursor"&&(o.state.focused||(sr(o,"focus",o,s),o.state.focused=!0,gt(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),b&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),Iu(o))}function La(o,s){o.state.delayingBlurEvent||(o.state.focused&&(sr(o,"blur",o,s),o.state.focused=!1,X(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function Fl(o){for(var s=o.display,f=s.lineDiv.offsetTop,c=Math.max(0,s.scroller.getBoundingClientRect().top),h=s.lineDiv.getBoundingClientRect().top,y=0,O=0;O<s.view.length;O++){var I=s.view[O],U=o.options.lineWrapping,rt=void 0,xt=0;if(!I.hidden){if(h+=I.line.height,M&&R<8){var At=I.node.offsetTop+I.node.offsetHeight;rt=At-f,f=At}else{var Gt=I.node.getBoundingClientRect();rt=Gt.bottom-Gt.top,!U&&I.text.firstChild&&(xt=I.text.firstChild.getBoundingClientRect().right-Gt.left-1)}var Ht=I.line.height-rt;if((Ht>.005||Ht<-.005)&&(h<c&&(y-=Ht),Wr(I.line,rt),$c(I.line),I.rest))for(var ie=0;ie<I.rest.length;ie++)$c(I.rest[ie]);if(xt>o.display.sizerWidth){var se=Math.ceil(xt/ka(o.display));se>o.display.maxLineLength&&(o.display.maxLineLength=se,o.display.maxLine=I.line,o.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(s.scroller.scrollTop+=y)}function $c(o){if(o.widgets)for(var s=0;s<o.widgets.length;++s){var f=o.widgets[s],c=f.node.parentNode;c&&(f.height=c.offsetHeight)}}function Yo(o,s,f){var c=f&&f.top!=null?Math.max(0,f.top):o.scroller.scrollTop;c=Math.floor(c-wi(o));var h=f&&f.bottom!=null?f.bottom:c+o.wrapper.clientHeight,y=un(s,c),O=un(s,h);if(f&&f.ensure){var I=f.ensure.from.line,U=f.ensure.to.line;I<y?(y=I,O=un(s,hr(De(s,I))+o.wrapper.clientHeight)):Math.min(U,s.lastLine())>=O&&(y=un(s,hr(De(s,U))-o.wrapper.clientHeight),O=U)}return{from:y,to:Math.max(O,y+1)}}function Ru(o,s){if(!Ke(o,"scrollCursorIntoView")){var f=o.display,c=f.sizer.getBoundingClientRect(),h=null,y=f.wrapper.ownerDocument;if(s.top+c.top<0?h=!0:s.bottom+c.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(h=!1),h!=null&&!tt){var O=$("div","",null,`position: absolute;
                         top: `+(s.top-f.viewOffset-wi(o.display))+`px;
                         height: `+(s.bottom-s.top+ct(o)+f.barHeight)+`px;
                         left: `+s.left+"px; width: "+Math.max(2,s.right-s.left)+"px;");o.display.lineSpace.appendChild(O),O.scrollIntoView(h),o.display.lineSpace.removeChild(O)}}}function pp(o,s,f,c){c==null&&(c=0);var h;!o.options.lineWrapping&&s==f&&(f=s.sticky=="before"?K(s.line,s.ch+1,"before"):s,s=s.ch?K(s.line,s.sticky=="before"?s.ch-1:s.ch,"after"):s);for(var y=0;y<5;y++){var O=!1,I=Un(o,s),U=!f||f==s?I:Un(o,f);h={left:Math.min(I.left,U.left),top:Math.min(I.top,U.top)-c,right:Math.max(I.left,U.left),bottom:Math.max(I.bottom,U.bottom)+c};var rt=Fu(o,h),xt=o.doc.scrollTop,At=o.doc.scrollLeft;if(rt.scrollTop!=null&&(Ia(o,rt.scrollTop),Math.abs(o.doc.scrollTop-xt)>1&&(O=!0)),rt.scrollLeft!=null&&(Xo(o,rt.scrollLeft),Math.abs(o.doc.scrollLeft-At)>1&&(O=!0)),!O)break}return h}function hp(o,s){var f=Fu(o,s);f.scrollTop!=null&&Ia(o,f.scrollTop),f.scrollLeft!=null&&Xo(o,f.scrollLeft)}function Fu(o,s){var f=o.display,c=Pa(o.display);s.top<0&&(s.top=0);var h=o.curOp&&o.curOp.scrollTop!=null?o.curOp.scrollTop:f.scroller.scrollTop,y=Dt(o),O={};s.bottom-s.top>y&&(s.bottom=s.top+y);var I=o.doc.height+Os(f),U=s.top<c,rt=s.bottom>I-c;if(s.top<h)O.scrollTop=U?0:s.top;else if(s.bottom>h+y){var xt=Math.min(s.top,(rt?I:s.bottom)-y);xt!=h&&(O.scrollTop=xt)}var At=o.options.fixedGutter?0:f.gutters.offsetWidth,Gt=o.curOp&&o.curOp.scrollLeft!=null?o.curOp.scrollLeft:f.scroller.scrollLeft-At,Ht=Et(o)-f.gutters.offsetWidth,ie=s.right-s.left>Ht;return ie&&(s.right=s.left+Ht),s.left<10?O.scrollLeft=0:s.left<Gt?O.scrollLeft=Math.max(0,s.left+At-(ie?0:10)):s.right>Ht+Gt-3&&(O.scrollLeft=s.right+(ie?0:10)-Ht),O}function Da(o,s){s!=null&&(Nl(o),o.curOp.scrollTop=(o.curOp.scrollTop==null?o.doc.scrollTop:o.curOp.scrollTop)+s)}function go(o){Nl(o);var s=o.getCursor();o.curOp.scrollToPos={from:s,to:s,margin:o.options.cursorScrollMargin}}function Ms(o,s,f){(s!=null||f!=null)&&Nl(o),s!=null&&(o.curOp.scrollLeft=s),f!=null&&(o.curOp.scrollTop=f)}function vp(o,s){Nl(o),o.curOp.scrollToPos=s}function Nl(o){var s=o.curOp.scrollToPos;if(s){o.curOp.scrollToPos=null;var f=Tu(o,s.from),c=Tu(o,s.to);Ls(o,f,c,s.margin)}}function Ls(o,s,f,c){var h=Fu(o,{left:Math.min(s.left,f.left),top:Math.min(s.top,f.top)-c,right:Math.max(s.right,f.right),bottom:Math.max(s.bottom,f.bottom)+c});Ms(o,h.scrollLeft,h.scrollTop)}function Ia(o,s){Math.abs(o.doc.scrollTop-s)<2||(w||Hu(o,{top:s}),Zc(o,s,!0),w&&Hu(o),Ar(o,100))}function Zc(o,s,f){s=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,s)),!(o.display.scroller.scrollTop==s&&!f)&&(o.doc.scrollTop=s,o.display.scrollbars.setScrollTop(s),o.display.scroller.scrollTop!=s&&(o.display.scroller.scrollTop=s))}function Xo(o,s,f,c){s=Math.max(0,Math.min(s,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),!((f?s==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-s)<2)&&!c)&&(o.doc.scrollLeft=s,Hl(o),o.display.scroller.scrollLeft!=s&&(o.display.scroller.scrollLeft=s),o.display.scrollbars.setScrollLeft(s))}function Ds(o){var s=o.display,f=s.gutters.offsetWidth,c=Math.round(o.doc.height+Os(o.display));return{clientHeight:s.scroller.clientHeight,viewHeight:s.wrapper.clientHeight,scrollWidth:s.scroller.scrollWidth,clientWidth:s.scroller.clientWidth,viewWidth:s.wrapper.clientWidth,barLeft:o.options.fixedGutter?f:0,docHeight:c,scrollHeight:c+ct(o)+s.barHeight,nativeBarWidth:s.nativeBarWidth,gutterWidth:f}}var Mi=function(o,s,f){this.cm=f;var c=this.vert=$("div",[$("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),h=this.horiz=$("div",[$("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");c.tabIndex=h.tabIndex=-1,o(c),o(h),we(c,"scroll",function(){c.clientHeight&&s(c.scrollTop,"vertical")}),we(h,"scroll",function(){h.clientWidth&&s(h.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,M&&R<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Mi.prototype.update=function(o){var s=o.scrollWidth>o.clientWidth+1,f=o.scrollHeight>o.clientHeight+1,c=o.nativeBarWidth;if(f){this.vert.style.display="block",this.vert.style.bottom=s?c+"px":"0";var h=o.viewHeight-(s?c:0);this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+h)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(s){this.horiz.style.display="block",this.horiz.style.right=f?c+"px":"0",this.horiz.style.left=o.barLeft+"px";var y=o.viewWidth-o.barLeft-(f?c:0);this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&o.clientHeight>0&&(c==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:f?c:0,bottom:s?c:0}},Mi.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Mi.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Mi.prototype.zeroWidthHack=function(){var o=D&&!H?"12px":"18px";this.horiz.style.height=this.vert.style.width=o,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new zt,this.disableVert=new zt},Mi.prototype.enableZeroWidthBar=function(o,s,f){o.style.visibility="";function c(){var h=o.getBoundingClientRect(),y=f=="vert"?document.elementFromPoint(h.right-1,(h.top+h.bottom)/2):document.elementFromPoint((h.right+h.left)/2,h.bottom-1);y!=o?o.style.visibility="hidden":s.set(1e3,c)}s.set(1e3,c)},Mi.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var Jo=function(){};Jo.prototype.update=function(){return{bottom:0,right:0}},Jo.prototype.setScrollLeft=function(){},Jo.prototype.setScrollTop=function(){},Jo.prototype.clear=function(){};function xi(o,s){s||(s=Ds(o));var f=o.display.barWidth,c=o.display.barHeight;Qo(o,s);for(var h=0;h<4&&f!=o.display.barWidth||c!=o.display.barHeight;h++)f!=o.display.barWidth&&o.options.lineWrapping&&Fl(o),Qo(o,Ds(o)),f=o.display.barWidth,c=o.display.barHeight}function Qo(o,s){var f=o.display,c=f.scrollbars.update(s);f.sizer.style.paddingRight=(f.barWidth=c.right)+"px",f.sizer.style.paddingBottom=(f.barHeight=c.bottom)+"px",f.heightForcer.style.borderBottom=c.bottom+"px solid transparent",c.right&&c.bottom?(f.scrollbarFiller.style.display="block",f.scrollbarFiller.style.height=c.bottom+"px",f.scrollbarFiller.style.width=c.right+"px"):f.scrollbarFiller.style.display="",c.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=c.bottom+"px",f.gutterFiller.style.width=s.gutterWidth+"px"):f.gutterFiller.style.display=""}var ta={native:Mi,null:Jo};function Nu(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&X(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new ta[o.options.scrollbarStyle](function(s){o.display.wrapper.insertBefore(s,o.display.scrollbarFiller),we(s,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),s.setAttribute("cm-not-content","true")},function(s,f){f=="horizontal"?Xo(o,s):Ia(o,s)},o),o.display.scrollbars.addClass&&gt(o.display.wrapper,o.display.scrollbars.addClass)}var Vu=0;function ea(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vu,markArrays:null},Sl(o.curOp)}function ra(o){var s=o.curOp;s&&uo(s,function(f){for(var c=0;c<f.ops.length;c++)f.ops[c].cm.curOp=null;gp(f)})}function gp(o){for(var s=o.ops,f=0;f<s.length;f++)Vl(s[f]);for(var c=0;c<s.length;c++)mp(s[c]);for(var h=0;h<s.length;h++)yp(s[h]);for(var y=0;y<s.length;y++)_p(s[y]);for(var O=0;O<s.length;O++)bp(s[O])}function Vl(o){var s=o.cm,f=s.display;qc(s),o.updateMaxLine&&mi(s),o.mustUpdate=o.viewChanged||o.forceUpdate||o.scrollTop!=null||o.scrollToPos&&(o.scrollToPos.from.line<f.viewFrom||o.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&s.options.lineWrapping,o.update=o.mustUpdate&&new Bl(s,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function mp(o){o.updatedDisplay=o.mustUpdate&&Bu(o.cm,o.update)}function yp(o){var s=o.cm,f=s.display;o.updatedDisplay&&Fl(s),o.barMeasure=Ds(s),f.maxLineChanged&&!s.options.lineWrapping&&(o.adjustWidthTo=Te(s,f.maxLine,f.maxLine.text.length).left+3,s.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(f.scroller.clientWidth,f.sizer.offsetLeft+o.adjustWidthTo+ct(s)+s.display.barWidth),o.maxScrollLeft=Math.max(0,f.sizer.offsetLeft+o.adjustWidthTo-Et(s))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=f.input.prepareSelection())}function _p(o){var s=o.cm;o.adjustWidthTo!=null&&(s.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<s.doc.scrollLeft&&Xo(s,Math.min(s.display.scroller.scrollLeft,o.maxScrollLeft),!0),s.display.maxLineChanged=!1);var f=o.focus&&o.focus==Mt(Lt(s));o.preparedSelection&&s.display.input.showSelection(o.preparedSelection,f),(o.updatedDisplay||o.startHeight!=s.doc.height)&&xi(s,o.barMeasure),o.updatedDisplay&&Uu(s,o.barMeasure),o.selectionChanged&&Iu(s),s.state.focused&&o.updateInput&&s.display.input.reset(o.typing),f&&Rl(o.cm)}function bp(o){var s=o.cm,f=s.display,c=s.doc;if(o.updatedDisplay&&Yc(s,o.update),f.wheelStartX!=null&&(o.scrollTop!=null||o.scrollLeft!=null||o.scrollToPos)&&(f.wheelStartX=f.wheelStartY=null),o.scrollTop!=null&&Zc(s,o.scrollTop,o.forceScroll),o.scrollLeft!=null&&Xo(s,o.scrollLeft,!0,!0),o.scrollToPos){var h=pp(s,je(c,o.scrollToPos.from),je(c,o.scrollToPos.to),o.scrollToPos.margin);Ru(s,h)}var y=o.maybeHiddenMarkers,O=o.maybeUnhiddenMarkers;if(y)for(var I=0;I<y.length;++I)y[I].lines.length||sr(y[I],"hide");if(O)for(var U=0;U<O.length;++U)O[U].lines.length&&sr(O[U],"unhide");f.wrapper.offsetHeight&&(c.scrollTop=s.display.scroller.scrollTop),o.changeObjs&&sr(s,"changes",s,o.changeObjs),o.update&&o.update.finish()}function Rn(o,s){if(o.curOp)return s();ea(o);try{return s()}finally{ra(o)}}function en(o,s){return function(){if(o.curOp)return s.apply(o,arguments);ea(o);try{return s.apply(o,arguments)}finally{ra(o)}}}function Er(o){return function(){if(this.curOp)return o.apply(this,arguments);ea(this);try{return o.apply(this,arguments)}finally{ra(this)}}}function rn(o){return function(){var s=this.cm;if(!s||s.curOp)return o.apply(this,arguments);ea(s);try{return o.apply(this,arguments)}finally{ra(s)}}}function Ar(o,s){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(s,Nt(wp,o))}function wp(o){var s=o.doc;if(!(s.highlightFrontier>=o.display.viewTo)){var f=+new Date+o.options.workTime,c=hi(o,s.highlightFrontier),h=[];s.iter(c.line,Math.min(s.first+s.size,o.display.viewTo+500),function(y){if(c.line>=o.display.viewFrom){var O=y.styles,I=y.text.length>o.options.maxHighlightLength?Hn(s.mode,c.state):null,U=ma(o,y,c,!0);I&&(c.state=I),y.styles=U.styles;var rt=y.styleClasses,xt=U.classes;xt?y.styleClasses=xt:rt&&(y.styleClasses=null);for(var At=!O||O.length!=y.styles.length||rt!=xt&&(!rt||!xt||rt.bgClass!=xt.bgClass||rt.textClass!=xt.textClass),Gt=0;!At&&Gt<O.length;++Gt)At=O[Gt]!=y.styles[Gt];At&&h.push(c.line),y.stateAfter=c.save(),c.nextLine()}else y.text.length<=o.options.maxHighlightLength&&ya(o,y.text,c),y.stateAfter=c.line%5==0?c.save():null,c.nextLine();if(+new Date>f)return Ar(o,o.options.workDelay),!0}),s.highlightFrontier=c.line,s.modeFrontier=Math.max(s.modeFrontier,c.line),h.length&&Rn(o,function(){for(var y=0;y<h.length;y++)ho(o,h[y],"text")})}}var Bl=function(o,s,f){var c=o.display;this.viewport=s,this.visible=Yo(c,o.doc,s),this.editorIsHidden=!c.wrapper.offsetWidth,this.wrapperHeight=c.wrapper.clientHeight,this.wrapperWidth=c.wrapper.clientWidth,this.oldDisplayWidth=Et(o),this.force=f,this.dims=Au(o),this.events=[]};Bl.prototype.signal=function(o,s){pe(o,s)&&this.events.push(arguments)},Bl.prototype.finish=function(){for(var o=0;o<this.events.length;o++)sr.apply(null,this.events[o])};function qc(o){var s=o.display;!s.scrollbarsClipped&&s.scroller.offsetWidth&&(s.nativeBarWidth=s.scroller.offsetWidth-s.scroller.clientWidth,s.heightForcer.style.height=ct(o)+"px",s.sizer.style.marginBottom=-s.nativeBarWidth+"px",s.sizer.style.borderRightWidth=ct(o)+"px",s.scrollbarsClipped=!0)}function xp(o){if(o.hasFocus())return null;var s=Mt(Lt(o));if(!s||!kt(o.display.lineDiv,s))return null;var f={activeElt:s};if(window.getSelection){var c=le(o).getSelection();c.anchorNode&&c.extend&&kt(o.display.lineDiv,c.anchorNode)&&(f.anchorNode=c.anchorNode,f.anchorOffset=c.anchorOffset,f.focusNode=c.focusNode,f.focusOffset=c.focusOffset)}return f}function Cp(o){if(!(!o||!o.activeElt||o.activeElt==Mt(o.activeElt.ownerDocument))&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&kt(document.body,o.anchorNode)&&kt(document.body,o.focusNode))){var s=o.activeElt.ownerDocument,f=s.defaultView.getSelection(),c=s.createRange();c.setEnd(o.anchorNode,o.anchorOffset),c.collapse(!1),f.removeAllRanges(),f.addRange(c),f.extend(o.focusNode,o.focusOffset)}}function Bu(o,s){var f=o.display,c=o.doc;if(s.editorIsHidden)return vo(o),!1;if(!s.force&&s.visible.from>=f.viewFrom&&s.visible.to<=f.viewTo&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&jl(o)==0)return!1;Xc(o)&&(vo(o),s.dims=Au(o));var h=c.first+c.size,y=Math.max(s.visible.from-o.options.viewportMargin,c.first),O=Math.min(h,s.visible.to+o.options.viewportMargin);f.viewFrom<y&&y-f.viewFrom<20&&(y=Math.max(c.first,f.viewFrom)),f.viewTo>O&&f.viewTo-O<20&&(O=Math.min(h,f.viewTo)),zn&&(y=Zn(o.doc,y),O=Hi(o.doc,O));var I=y!=f.viewFrom||O!=f.viewTo||f.lastWrapHeight!=s.wrapperHeight||f.lastWrapWidth!=s.wrapperWidth;Il(o,y,O),f.viewOffset=hr(De(o.doc,f.viewFrom)),o.display.mover.style.top=f.viewOffset+"px";var U=jl(o);if(!I&&U==0&&!s.force&&f.renderedView==f.view&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo))return!1;var rt=xp(o);return U>4&&(f.lineDiv.style.display="none"),Sp(o,f.updateLineNumbers,s.dims),U>4&&(f.lineDiv.style.display=""),f.renderedView=f.view,Cp(rt),et(f.cursorDiv),et(f.selectionDiv),f.gutters.style.height=f.sizer.style.minHeight=0,I&&(f.lastWrapHeight=s.wrapperHeight,f.lastWrapWidth=s.wrapperWidth,Ar(o,400)),f.updateLineNumbers=null,!0}function Yc(o,s){for(var f=s.viewport,c=!0;;c=!1){if(!c||!o.options.lineWrapping||s.oldDisplayWidth==Et(o)){if(f&&f.top!=null&&(f={top:Math.min(o.doc.height+Os(o.display)-Dt(o),f.top)}),s.visible=Yo(o.display,o.doc,f),s.visible.from>=o.display.viewFrom&&s.visible.to<=o.display.viewTo)break}else c&&(s.visible=Yo(o.display,o.doc,f));if(!Bu(o,s))break;Fl(o);var h=Ds(o);As(o),xi(o,h),Uu(o,h),s.force=!1}s.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(s.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function Hu(o,s){var f=new Bl(o,s);if(Bu(o,f)){Fl(o),Yc(o,f);var c=Ds(o);As(o),xi(o,c),Uu(o,c),f.finish()}}function Sp(o,s,f){var c=o.display,h=o.options.lineNumbers,y=c.lineDiv,O=y.firstChild;function I(ie){var se=ie.nextSibling;return b&&D&&o.display.currentWheelTarget==ie?ie.style.display="none":ie.parentNode.removeChild(ie),se}for(var U=c.view,rt=c.viewFrom,xt=0;xt<U.length;xt++){var At=U[xt];if(!At.hidden)if(!At.node||At.node.parentNode!=y){var Gt=ki(o,At,rt,f);y.insertBefore(Gt,O)}else{for(;O!=At.node;)O=I(O);var Ht=h&&s!=null&&s<=rt&&At.lineNumber;At.changes&&(Pt(At.changes,"gutter")>-1&&(Ht=!1),ws(o,At,rt,f)),Ht&&(et(At.lineNumber),At.lineNumber.appendChild(document.createTextNode(On(o.options,rt)))),O=At.node.nextSibling}rt+=At.size}for(;O;)O=I(O)}function zu(o){var s=o.gutters.offsetWidth;o.sizer.style.marginLeft=s+"px",Hr(o,"gutterChanged",o)}function Uu(o,s){o.display.sizer.style.minHeight=s.docHeight+"px",o.display.heightForcer.style.top=s.docHeight+"px",o.display.gutters.style.height=s.docHeight+o.display.barHeight+ct(o)+"px"}function Hl(o){var s=o.display,f=s.view;if(!(!s.alignWidgets&&(!s.gutters.firstChild||!o.options.fixedGutter))){for(var c=Aa(s)-s.scroller.scrollLeft+o.doc.scrollLeft,h=s.gutters.offsetWidth,y=c+"px",O=0;O<f.length;O++)if(!f[O].hidden){o.options.fixedGutter&&(f[O].gutter&&(f[O].gutter.style.left=y),f[O].gutterBackground&&(f[O].gutterBackground.style.left=y));var I=f[O].alignable;if(I)for(var U=0;U<I.length;U++)I[U].style.left=y}o.options.fixedGutter&&(s.gutters.style.left=c+h+"px")}}function Xc(o){if(!o.options.lineNumbers)return!1;var s=o.doc,f=On(o.options,s.first+s.size-1),c=o.display;if(f.length!=c.lineNumChars){var h=c.measure.appendChild($("div",[$("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=h.firstChild.offsetWidth,O=h.offsetWidth-y;return c.lineGutter.style.width="",c.lineNumInnerWidth=Math.max(y,c.lineGutter.offsetWidth-O)+1,c.lineNumWidth=c.lineNumInnerWidth+O,c.lineNumChars=c.lineNumInnerWidth?f.length:-1,c.lineGutter.style.width=c.lineNumWidth+"px",zu(o.display),!0}return!1}function na(o,s){for(var f=[],c=!1,h=0;h<o.length;h++){var y=o[h],O=null;if(typeof y!="string"&&(O=y.style,y=y.className),y=="CodeMirror-linenumbers")if(s)c=!0;else continue;f.push({className:y,style:O})}return s&&!c&&f.push({className:"CodeMirror-linenumbers",style:null}),f}function Is(o){var s=o.gutters,f=o.gutterSpecs;et(s),o.lineGutter=null;for(var c=0;c<f.length;++c){var h=f[c],y=h.className,O=h.style,I=s.appendChild($("div",null,"CodeMirror-gutter "+y));O&&(I.style.cssText=O),y=="CodeMirror-linenumbers"&&(o.lineGutter=I,I.style.width=(o.lineNumWidth||1)+"px")}s.style.display=f.length?"":"none",zu(o)}function mo(o){Is(o.display),fn(o),Hl(o)}function Op(o,s,f,c){var h=this;this.input=f,h.scrollbarFiller=$("div",null,"CodeMirror-scrollbar-filler"),h.scrollbarFiller.setAttribute("cm-not-content","true"),h.gutterFiller=$("div",null,"CodeMirror-gutter-filler"),h.gutterFiller.setAttribute("cm-not-content","true"),h.lineDiv=mt("div",null,"CodeMirror-code"),h.selectionDiv=$("div",null,null,"position: relative; z-index: 1"),h.cursorDiv=$("div",null,"CodeMirror-cursors"),h.measure=$("div",null,"CodeMirror-measure"),h.lineMeasure=$("div",null,"CodeMirror-measure"),h.lineSpace=mt("div",[h.measure,h.lineMeasure,h.selectionDiv,h.cursorDiv,h.lineDiv],null,"position: relative; outline: none");var y=mt("div",[h.lineSpace],"CodeMirror-lines");h.mover=$("div",[y],null,"position: relative"),h.sizer=$("div",[h.mover],"CodeMirror-sizer"),h.sizerWidth=null,h.heightForcer=$("div",null,null,"position: absolute; height: "+It+"px; width: 1px;"),h.gutters=$("div",null,"CodeMirror-gutters"),h.lineGutter=null,h.scroller=$("div",[h.sizer,h.heightForcer,h.gutters],"CodeMirror-scroll"),h.scroller.setAttribute("tabIndex","-1"),h.wrapper=$("div",[h.scrollbarFiller,h.gutterFiller,h.scroller],"CodeMirror"),S&&x>=105&&(h.wrapper.style.clipPath="inset(0px)"),h.wrapper.setAttribute("translate","no"),M&&R<8&&(h.gutters.style.zIndex=-1,h.scroller.style.paddingRight=0),!b&&!(w&&q)&&(h.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(h.wrapper):o(h.wrapper)),h.viewFrom=h.viewTo=s.first,h.reportedViewFrom=h.reportedViewTo=s.first,h.view=[],h.renderedView=null,h.externalMeasured=null,h.viewOffset=0,h.lastWrapHeight=h.lastWrapWidth=0,h.updateLineNumbers=null,h.nativeBarWidth=h.barHeight=h.barWidth=0,h.scrollbarsClipped=!1,h.lineNumWidth=h.lineNumInnerWidth=h.lineNumChars=null,h.alignWidgets=!1,h.cachedCharWidth=h.cachedTextHeight=h.cachedPaddingH=null,h.maxLine=null,h.maxLineLength=0,h.maxLineChanged=!1,h.wheelDX=h.wheelDY=h.wheelStartX=h.wheelStartY=null,h.shift=!1,h.selForContextMenu=null,h.activeTouch=null,h.gutterSpecs=na(c.gutters,c.lineNumbers),Is(h),f.init(h)}var js=0,Wi=null;M?Wi=-.53:w?Wi=15:S?Wi=-.7:L&&(Wi=-1/3);function Jc(o){var s=o.wheelDeltaX,f=o.wheelDeltaY;return s==null&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(s=o.detail),f==null&&o.detail&&o.axis==o.VERTICAL_AXIS?f=o.detail:f==null&&(f=o.wheelDelta),{x:s,y:f}}function Qc(o){var s=Jc(o);return s.x*=Wi,s.y*=Wi,s}function tf(o,s){S&&x==102&&(o.display.chromeScrollHack==null?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var f=Jc(s),c=f.x,h=f.y,y=Wi;s.deltaMode===0&&(c=s.deltaX,h=s.deltaY,y=1);var O=o.display,I=O.scroller,U=I.scrollWidth>I.clientWidth,rt=I.scrollHeight>I.clientHeight;if(c&&U||h&&rt){if(h&&D&&b){t:for(var xt=s.target,At=O.view;xt!=I;xt=xt.parentNode)for(var Gt=0;Gt<At.length;Gt++)if(At[Gt].node==xt){o.display.currentWheelTarget=xt;break t}}if(c&&!w&&!T&&y!=null){h&&rt&&Ia(o,Math.max(0,I.scrollTop+h*y)),Xo(o,Math.max(0,I.scrollLeft+c*y)),(!h||h&&rt)&&vt(s),O.wheelStartX=null;return}if(h&&y!=null){var Ht=h*y,ie=o.doc.scrollTop,se=ie+O.wrapper.clientHeight;Ht<0?ie=Math.max(0,ie+Ht-50):se=Math.min(o.doc.height,se+Ht+50),Hu(o,{top:ie,bottom:se})}js<20&&s.deltaMode!==0&&(O.wheelStartX==null?(O.wheelStartX=I.scrollLeft,O.wheelStartY=I.scrollTop,O.wheelDX=c,O.wheelDY=h,setTimeout(function(){if(O.wheelStartX!=null){var _e=I.scrollLeft-O.wheelStartX,Ce=I.scrollTop-O.wheelStartY,ke=Ce&&O.wheelDY&&Ce/O.wheelDY||_e&&O.wheelDX&&_e/O.wheelDX;O.wheelStartX=O.wheelStartY=null,ke&&(Wi=(Wi*js+ke)/(js+1),++js)}},200)):(O.wheelDX+=c,O.wheelDY+=h))}}var qn=function(o,s){this.ranges=o,this.primIndex=s};qn.prototype.primary=function(){return this.ranges[this.primIndex]},qn.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var s=0;s<this.ranges.length;s++){var f=this.ranges[s],c=o.ranges[s];if(!ue(f.anchor,c.anchor)||!ue(f.head,c.head))return!1}return!0},qn.prototype.deepCopy=function(){for(var o=[],s=0;s<this.ranges.length;s++)o[s]=new vr(me(this.ranges[s].anchor),me(this.ranges[s].head));return new qn(o,this.primIndex)},qn.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},qn.prototype.contains=function(o,s){s||(s=o);for(var f=0;f<this.ranges.length;f++){var c=this.ranges[f];if(_t(s,c.from())>=0&&_t(o,c.to())<=0)return f}return-1};var vr=function(o,s){this.anchor=o,this.head=s};vr.prototype.from=function(){return ir(this.anchor,this.head)},vr.prototype.to=function(){return Ge(this.anchor,this.head)},vr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Ci(o,s,f){var c=o&&o.options.selectionsMayTouch,h=s[f];s.sort(function(Gt,Ht){return _t(Gt.from(),Ht.from())}),f=Pt(s,h);for(var y=1;y<s.length;y++){var O=s[y],I=s[y-1],U=_t(I.to(),O.from());if(c&&!O.empty()?U>0:U>=0){var rt=ir(I.from(),O.from()),xt=Ge(I.to(),O.to()),At=I.empty()?O.from()==O.head:I.from()==I.head;y<=f&&--f,s.splice(--y,2,new vr(At?xt:rt,At?rt:xt))}}return new qn(s,f)}function yo(o,s){return new qn([new vr(o,s||o)],0)}function _o(o){return o.text?K(o.from.line+o.text.length-1,Bt(o.text).length+(o.text.length==1?o.from.ch:0)):o.to}function ef(o,s){if(_t(o,s.from)<0)return o;if(_t(o,s.to)<=0)return _o(s);var f=o.line+s.text.length-(s.to.line-s.from.line)-1,c=o.ch;return o.line==s.to.line&&(c+=_o(s).ch-s.to.ch),K(f,c)}function Wu(o,s){for(var f=[],c=0;c<o.sel.ranges.length;c++){var h=o.sel.ranges[c];f.push(new vr(ef(h.anchor,s),ef(h.head,s)))}return Ci(o.cm,f,o.sel.primIndex)}function rf(o,s,f){return o.line==s.line?K(f.line,o.ch-s.ch+f.ch):K(f.line+(o.line-s.line),o.ch)}function Tp(o,s,f){for(var c=[],h=K(o.first,0),y=h,O=0;O<s.length;O++){var I=s[O],U=rf(I.from,h,y),rt=rf(_o(I),h,y);if(h=I.to,y=rt,f=="around"){var xt=o.sel.ranges[O],At=_t(xt.head,xt.anchor)<0;c[O]=new vr(At?rt:U,At?U:rt)}else c[O]=new vr(U,U)}return new qn(c,o.sel.primIndex)}function Ku(o){o.doc.mode=ln(o.options,o.doc.modeOption),ja(o)}function ja(o){o.doc.iter(function(s){s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,Ar(o,100),o.state.modeGen++,o.curOp&&fn(o)}function nf(o,s){return s.from.ch==0&&s.to.ch==0&&Bt(s.text)==""&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function Gu(o,s,f,c){function h(ke){return f?f[ke]:null}function y(ke,Se,Ae){ys(ke,Se,Ae,c),Hr(ke,"change",ke,s)}function O(ke,Se){for(var Ae=[],Be=ke;Be<Se;++Be)Ae.push(new yi(rt[Be],h(Be),c));return Ae}var I=s.from,U=s.to,rt=s.text,xt=De(o,I.line),At=De(o,U.line),Gt=Bt(rt),Ht=h(rt.length-1),ie=U.line-I.line;if(s.full)o.insert(0,O(0,rt.length)),o.remove(rt.length,o.size-rt.length);else if(nf(o,s)){var se=O(0,rt.length-1);y(At,At.text,Ht),ie&&o.remove(I.line,ie),se.length&&o.insert(I.line,se)}else if(xt==At)if(rt.length==1)y(xt,xt.text.slice(0,I.ch)+Gt+xt.text.slice(U.ch),Ht);else{var _e=O(1,rt.length-1);_e.push(new yi(Gt+xt.text.slice(U.ch),Ht,c)),y(xt,xt.text.slice(0,I.ch)+rt[0],h(0)),o.insert(I.line+1,_e)}else if(rt.length==1)y(xt,xt.text.slice(0,I.ch)+rt[0]+At.text.slice(U.ch),h(0)),o.remove(I.line+1,ie);else{y(xt,xt.text.slice(0,I.ch)+rt[0],h(0)),y(At,Gt+At.text.slice(U.ch),Ht);var Ce=O(1,rt.length-1);ie>1&&o.remove(I.line+1,ie-1),o.insert(I.line+1,Ce)}Hr(o,"change",o,s)}function bo(o,s,f){function c(h,y,O){if(h.linked)for(var I=0;I<h.linked.length;++I){var U=h.linked[I];if(U.doc!=y){var rt=O&&U.sharedHist;f&&!rt||(s(U.doc,rt),c(U.doc,h,rt))}}}c(o,null,!0)}function of(o,s){if(s.cm)throw new Error("This document is already in use.");o.doc=s,s.cm=o,Mu(o),Ku(o),af(o),o.options.direction=s.direction,o.options.lineWrapping||mi(o),o.options.mode=s.modeOption,fn(o)}function af(o){(o.doc.direction=="rtl"?gt:X)(o.display.lineDiv,"CodeMirror-rtl")}function Ep(o){Rn(o,function(){af(o),fn(o)})}function zl(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function $u(o,s){var f={from:me(s.from),to:_o(s),text:mn(o,s.from,s.to)};return uf(o,f,s.from.line,s.to.line+1),bo(o,function(c){return uf(c,f,s.from.line,s.to.line+1)},!0),f}function sf(o){for(;o.length;){var s=Bt(o);if(s.ranges)o.pop();else break}}function Pp(o,s){if(s)return sf(o.done),Bt(o.done);if(o.done.length&&!Bt(o.done).ranges)return Bt(o.done);if(o.done.length>1&&!o.done[o.done.length-2].ranges)return o.done.pop(),Bt(o.done)}function lf(o,s,f,c){var h=o.history;h.undone.length=0;var y=+new Date,O,I;if((h.lastOp==c||h.lastOrigin==s.origin&&s.origin&&(s.origin.charAt(0)=="+"&&h.lastModTime>y-(o.cm?o.cm.options.historyEventDelay:500)||s.origin.charAt(0)=="*"))&&(O=Pp(h,h.lastOp==c)))I=Bt(O.changes),_t(s.from,s.to)==0&&_t(s.from,I.to)==0?I.to=_o(s):O.changes.push($u(o,s));else{var U=Bt(h.done);for((!U||!U.ranges)&&Ul(o.sel,h.done),O={changes:[$u(o,s)],generation:h.generation},h.done.push(O);h.done.length>h.undoDepth;)h.done.shift(),h.done[0].ranges||h.done.shift()}h.done.push(f),h.generation=++h.maxGeneration,h.lastModTime=h.lastSelTime=y,h.lastOp=h.lastSelOp=c,h.lastOrigin=h.lastSelOrigin=s.origin,I||sr(o,"historyAdded")}function kp(o,s,f,c){var h=s.charAt(0);return h=="*"||h=="+"&&f.ranges.length==c.ranges.length&&f.somethingSelected()==c.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}function Ap(o,s,f,c){var h=o.history,y=c&&c.origin;f==h.lastSelOp||y&&h.lastSelOrigin==y&&(h.lastModTime==h.lastSelTime&&h.lastOrigin==y||kp(o,y,Bt(h.done),s))?h.done[h.done.length-1]=s:Ul(s,h.done),h.lastSelTime=+new Date,h.lastSelOrigin=y,h.lastSelOp=f,c&&c.clearRedo!==!1&&sf(h.undone)}function Ul(o,s){var f=Bt(s);f&&f.ranges&&f.equals(o)||s.push(o)}function uf(o,s,f,c){var h=s["spans_"+o.id],y=0;o.iter(Math.max(o.first,f),Math.min(o.first+o.size,c),function(O){O.markedSpans&&((h||(h=s["spans_"+o.id]={}))[y]=O.markedSpans),++y})}function Mp(o){if(!o)return null;for(var s,f=0;f<o.length;++f)o[f].marker.explicitlyCleared?s||(s=o.slice(0,f)):s&&s.push(o[f]);return s?s.length?s:null:o}function Lp(o,s){var f=s["spans_"+o.id];if(!f)return null;for(var c=[],h=0;h<s.text.length;++h)c.push(Mp(f[h]));return c}function cf(o,s){var f=Lp(o,s),c=Ni(o,s);if(!f)return c;if(!c)return f;for(var h=0;h<f.length;++h){var y=f[h],O=c[h];if(y&&O)t:for(var I=0;I<O.length;++I){for(var U=O[I],rt=0;rt<y.length;++rt)if(y[rt].marker==U.marker)continue t;y.push(U)}else O&&(f[h]=O)}return f}function Ra(o,s,f){for(var c=[],h=0;h<o.length;++h){var y=o[h];if(y.ranges){c.push(f?qn.prototype.deepCopy.call(y):y);continue}var O=y.changes,I=[];c.push({changes:I});for(var U=0;U<O.length;++U){var rt=O[U],xt=void 0;if(I.push({from:rt.from,to:rt.to,text:rt.text}),s)for(var At in rt)(xt=At.match(/^spans_(\d+)$/))&&Pt(s,Number(xt[1]))>-1&&(Bt(I)[At]=rt[At],delete rt[At])}}return c}function Zu(o,s,f,c){if(c){var h=o.anchor;if(f){var y=_t(s,h)<0;y!=_t(f,h)<0?(h=s,s=f):y!=_t(s,f)<0&&(s=f)}return new vr(h,s)}else return new vr(f||s,s)}function Wl(o,s,f,c,h){h==null&&(h=o.cm&&(o.cm.display.shift||o.extend)),bn(o,new qn([Zu(o.sel.primary(),s,f,h)],0),c)}function ff(o,s,f){for(var c=[],h=o.cm&&(o.cm.display.shift||o.extend),y=0;y<o.sel.ranges.length;y++)c[y]=Zu(o.sel.ranges[y],s[y],null,h);var O=Ci(o.cm,c,o.sel.primIndex);bn(o,O,f)}function qu(o,s,f,c){var h=o.sel.ranges.slice(0);h[s]=f,bn(o,Ci(o.cm,h,o.sel.primIndex),c)}function df(o,s,f,c){bn(o,yo(s,f),c)}function Dp(o,s,f){var c={ranges:s.ranges,update:function(h){this.ranges=[];for(var y=0;y<h.length;y++)this.ranges[y]=new vr(je(o,h[y].anchor),je(o,h[y].head))},origin:f&&f.origin};return sr(o,"beforeSelectionChange",o,c),o.cm&&sr(o.cm,"beforeSelectionChange",o.cm,c),c.ranges!=s.ranges?Ci(o.cm,c.ranges,c.ranges.length-1):s}function Rs(o,s,f){var c=o.history.done,h=Bt(c);h&&h.ranges?(c[c.length-1]=s,Kl(o,s,f)):bn(o,s,f)}function bn(o,s,f){Kl(o,s,f),Ap(o,o.sel,o.cm?o.cm.curOp.id:NaN,f)}function Kl(o,s,f){(pe(o,"beforeSelectionChange")||o.cm&&pe(o.cm,"beforeSelectionChange"))&&(s=Dp(o,s,f));var c=f&&f.bias||(_t(s.primary().head,o.sel.primary().head)<0?-1:1);pf(o,hf(o,s,c,!0)),!(f&&f.scroll===!1)&&o.cm&&o.cm.getOption("readOnly")!="nocursor"&&go(o.cm)}function pf(o,s){s.equals(o.sel)||(o.sel=s,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,dr(o.cm)),Hr(o,"cursorActivity",o))}function wn(o){pf(o,hf(o,o.sel,null,!1))}function hf(o,s,f,c){for(var h,y=0;y<s.ranges.length;y++){var O=s.ranges[y],I=s.ranges.length==o.sel.ranges.length&&o.sel.ranges[y],U=wo(o,O.anchor,I&&I.anchor,f,c),rt=O.head==O.anchor?U:wo(o,O.head,I&&I.head,f,c);(h||U!=O.anchor||rt!=O.head)&&(h||(h=s.ranges.slice(0,y)),h[y]=new vr(U,rt))}return h?Ci(o.cm,h,s.primIndex):s}function Fa(o,s,f,c,h){var y=De(o,s.line);if(y.markedSpans)for(var O=0;O<y.markedSpans.length;++O){var I=y.markedSpans[O],U=I.marker,rt="selectLeft"in U?!U.selectLeft:U.inclusiveLeft,xt="selectRight"in U?!U.selectRight:U.inclusiveRight;if((I.from==null||(rt?I.from<=s.ch:I.from<s.ch))&&(I.to==null||(xt?I.to>=s.ch:I.to>s.ch))){if(h&&(sr(U,"beforeCursorEnter"),U.explicitlyCleared))if(y.markedSpans){--O;continue}else break;if(!U.atomic)continue;if(f){var At=U.find(c<0?1:-1),Gt=void 0;if((c<0?xt:rt)&&(At=vf(o,At,-c,At&&At.line==s.line?y:null)),At&&At.line==s.line&&(Gt=_t(At,f))&&(c<0?Gt<0:Gt>0))return Fa(o,At,s,c,h)}var Ht=U.find(c<0?-1:1);return(c<0?rt:xt)&&(Ht=vf(o,Ht,c,Ht.line==s.line?y:null)),Ht?Fa(o,Ht,s,c,h):null}}return s}function wo(o,s,f,c,h){var y=c||1,O=Fa(o,s,f,y,h)||!h&&Fa(o,s,f,y,!0)||Fa(o,s,f,-y,h)||!h&&Fa(o,s,f,-y,!0);return O||(o.cantEdit=!0,K(o.first,0))}function vf(o,s,f,c){return f<0&&s.ch==0?s.line>o.first?je(o,K(s.line-1)):null:f>0&&s.ch==(c||De(o,s.line)).text.length?s.line<o.first+o.size-1?K(s.line+1,0):null:new K(s.line,s.ch+f)}function gf(o){o.setSelection(K(o.firstLine(),0),K(o.lastLine()),Qt)}function mf(o,s,f){var c={canceled:!1,from:s.from,to:s.to,text:s.text,origin:s.origin,cancel:function(){return c.canceled=!0}};return f&&(c.update=function(h,y,O,I){h&&(c.from=je(o,h)),y&&(c.to=je(o,y)),O&&(c.text=O),I!==void 0&&(c.origin=I)}),sr(o,"beforeChange",o,c),o.cm&&sr(o.cm,"beforeChange",o.cm,c),c.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:c.from,to:c.to,text:c.text,origin:c.origin}}function Na(o,s,f){if(o.cm){if(!o.cm.curOp)return en(o.cm,Na)(o,s,f);if(o.cm.state.suppressEdits)return}if(!((pe(o,"beforeChange")||o.cm&&pe(o.cm,"beforeChange"))&&(s=mf(o,s,!0),!s))){var c=vs&&!f&&wa(o,s.from,s.to);if(c)for(var h=c.length-1;h>=0;--h)yf(o,{from:c[h].from,to:c[h].to,text:h?[""]:s.text,origin:s.origin});else yf(o,s)}}function yf(o,s){if(!(s.text.length==1&&s.text[0]==""&&_t(s.from,s.to)==0)){var f=Wu(o,s);lf(o,s,f,o.cm?o.cm.curOp.id:NaN),Fs(o,s,f,Ni(o,s));var c=[];bo(o,function(h,y){!y&&Pt(c,h.history)==-1&&($l(h.history,s),c.push(h.history)),Fs(h,s,null,Ni(h,s))})}}function Gl(o,s,f){var c=o.cm&&o.cm.state.suppressEdits;if(!(c&&!f)){for(var h=o.history,y,O=o.sel,I=s=="undo"?h.done:h.undone,U=s=="undo"?h.undone:h.done,rt=0;rt<I.length&&(y=I[rt],!(f?y.ranges&&!y.equals(o.sel):!y.ranges));rt++);if(rt!=I.length){for(h.lastOrigin=h.lastSelOrigin=null;;)if(y=I.pop(),y.ranges){if(Ul(y,U),f&&!y.equals(o.sel)){bn(o,y,{clearRedo:!1});return}O=y}else if(c){I.push(y);return}else break;var xt=[];Ul(O,U),U.push({changes:xt,generation:h.generation}),h.generation=y.generation||++h.maxGeneration;for(var At=pe(o,"beforeChange")||o.cm&&pe(o.cm,"beforeChange"),Gt=function(se){var _e=y.changes[se];if(_e.origin=s,At&&!mf(o,_e,!1))return I.length=0,{};xt.push($u(o,_e));var Ce=se?Wu(o,_e):Bt(I);Fs(o,_e,Ce,cf(o,_e)),!se&&o.cm&&o.cm.scrollIntoView({from:_e.from,to:_o(_e)});var ke=[];bo(o,function(Se,Ae){!Ae&&Pt(ke,Se.history)==-1&&($l(Se.history,_e),ke.push(Se.history)),Fs(Se,_e,null,cf(Se,_e))})},Ht=y.changes.length-1;Ht>=0;--Ht){var ie=Gt(Ht);if(ie)return ie.v}}}}function _f(o,s){if(s!=0&&(o.first+=s,o.sel=new qn(V(o.sel.ranges,function(h){return new vr(K(h.anchor.line+s,h.anchor.ch),K(h.head.line+s,h.head.ch))}),o.sel.primIndex),o.cm)){fn(o.cm,o.first,o.first-s,s);for(var f=o.cm.display,c=f.viewFrom;c<f.viewTo;c++)ho(o.cm,c,"gutter")}}function Fs(o,s,f,c){if(o.cm&&!o.cm.curOp)return en(o.cm,Fs)(o,s,f,c);if(s.to.line<o.first){_f(o,s.text.length-1-(s.to.line-s.from.line));return}if(!(s.from.line>o.lastLine())){if(s.from.line<o.first){var h=s.text.length-1-(o.first-s.from.line);_f(o,h),s={from:K(o.first,0),to:K(s.to.line+h,s.to.ch),text:[Bt(s.text)],origin:s.origin}}var y=o.lastLine();s.to.line>y&&(s={from:s.from,to:K(y,De(o,y).text.length),text:[s.text[0]],origin:s.origin}),s.removed=mn(o,s.from,s.to),f||(f=Wu(o,s)),o.cm?Ip(o.cm,s,c):Gu(o,s,c),Kl(o,f,Qt),o.cantEdit&&wo(o,K(o.firstLine(),0))&&(o.cantEdit=!1)}}function Ip(o,s,f){var c=o.doc,h=o.display,y=s.from,O=s.to,I=!1,U=y.line;o.options.lineWrapping||(U=nr(or(De(c,y.line))),c.iter(U,O.line+1,function(Ht){if(Ht==h.maxLine)return I=!0,!0})),c.sel.contains(s.from,s.to)>-1&&dr(o),Gu(c,s,f,Ll(o)),o.options.lineWrapping||(c.iter(U,y.line+s.text.length,function(Ht){var ie=gi(Ht);ie>h.maxLineLength&&(h.maxLine=Ht,h.maxLineLength=ie,h.maxLineChanged=!0,I=!1)}),I&&(o.curOp.updateMaxLine=!0)),vi(c,y.line),Ar(o,400);var rt=s.text.length-(O.line-y.line)-1;s.full?fn(o):y.line==O.line&&s.text.length==1&&!nf(o.doc,s)?ho(o,y.line,"text"):fn(o,y.line,O.line+1,rt);var xt=pe(o,"changes"),At=pe(o,"change");if(At||xt){var Gt={from:y,to:O,text:s.text,removed:s.removed,origin:s.origin};At&&Hr(o,"change",o,Gt),xt&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(Gt)}o.display.selForContextMenu=null}function Va(o,s,f,c,h){var y;c||(c=f),_t(c,f)<0&&(y=[c,f],f=y[0],c=y[1]),typeof s=="string"&&(s=o.splitLines(s)),Na(o,{from:f,to:c,text:s,origin:h})}function Ba(o,s,f,c){f<o.line?o.line+=c:s<o.line&&(o.line=s,o.ch=0)}function bf(o,s,f,c){for(var h=0;h<o.length;++h){var y=o[h],O=!0;if(y.ranges){y.copied||(y=o[h]=y.deepCopy(),y.copied=!0);for(var I=0;I<y.ranges.length;I++)Ba(y.ranges[I].anchor,s,f,c),Ba(y.ranges[I].head,s,f,c);continue}for(var U=0;U<y.changes.length;++U){var rt=y.changes[U];if(f<rt.from.line)rt.from=K(rt.from.line+c,rt.from.ch),rt.to=K(rt.to.line+c,rt.to.ch);else if(s<=rt.to.line){O=!1;break}}O||(o.splice(0,h+1),h=0)}}function $l(o,s){var f=s.from.line,c=s.to.line,h=s.text.length-(c-f)-1;bf(o.done,f,c,h),bf(o.undone,f,c,h)}function Ns(o,s,f,c){var h=s,y=s;return typeof s=="number"?y=De(o,fr(o,s)):h=nr(s),h==null?null:(c(y,h)&&o.cm&&ho(o.cm,h,f),y)}function Ha(o){this.lines=o,this.parent=null;for(var s=0,f=0;f<o.length;++f)o[f].parent=this,s+=o[f].height;this.height=s}Ha.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,s){for(var f=o,c=o+s;f<c;++f){var h=this.lines[f];this.height-=h.height,tn(h),Hr(h,"delete")}this.lines.splice(o,s)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,s,f){this.height+=f,this.lines=this.lines.slice(0,o).concat(s).concat(this.lines.slice(o));for(var c=0;c<s.length;++c)s[c].parent=this},iterN:function(o,s,f){for(var c=o+s;o<c;++o)if(f(this.lines[o]))return!0}};function Vs(o){this.children=o;for(var s=0,f=0,c=0;c<o.length;++c){var h=o[c];s+=h.chunkSize(),f+=h.height,h.parent=this}this.size=s,this.height=f,this.parent=null}Vs.prototype={chunkSize:function(){return this.size},removeInner:function(o,s){this.size-=s;for(var f=0;f<this.children.length;++f){var c=this.children[f],h=c.chunkSize();if(o<h){var y=Math.min(s,h-o),O=c.height;if(c.removeInner(o,y),this.height-=O-c.height,h==y&&(this.children.splice(f--,1),c.parent=null),(s-=y)==0)break;o=0}else o-=h}if(this.size-s<25&&(this.children.length>1||!(this.children[0]instanceof Ha))){var I=[];this.collapse(I),this.children=[new Ha(I)],this.children[0].parent=this}},collapse:function(o){for(var s=0;s<this.children.length;++s)this.children[s].collapse(o)},insertInner:function(o,s,f){this.size+=s.length,this.height+=f;for(var c=0;c<this.children.length;++c){var h=this.children[c],y=h.chunkSize();if(o<=y){if(h.insertInner(o,s,f),h.lines&&h.lines.length>50){for(var O=h.lines.length%25+25,I=O;I<h.lines.length;){var U=new Ha(h.lines.slice(I,I+=25));h.height-=U.height,this.children.splice(++c,0,U),U.parent=this}h.lines=h.lines.slice(0,O),this.maybeSpill()}break}o-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var s=o.children.splice(o.children.length-5,5),f=new Vs(s);if(o.parent){o.size-=f.size,o.height-=f.height;var h=Pt(o.parent.children,o);o.parent.children.splice(h+1,0,f)}else{var c=new Vs(o.children);c.parent=o,o.children=[c,f],o=c}f.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,s,f){for(var c=0;c<this.children.length;++c){var h=this.children[c],y=h.chunkSize();if(o<y){var O=Math.min(s,y-o);if(h.iterN(o,O,f))return!0;if((s-=O)==0)break;o=0}else o-=y}}};var za=function(o,s,f){if(f)for(var c in f)f.hasOwnProperty(c)&&(this[c]=f[c]);this.doc=o,this.node=s};za.prototype.clear=function(){var o=this.doc.cm,s=this.line.widgets,f=this.line,c=nr(f);if(!(c==null||!s)){for(var h=0;h<s.length;++h)s[h]==this&&s.splice(h--,1);s.length||(f.widgets=null);var y=Ai(this);Wr(f,Math.max(0,f.height-y)),o&&(Rn(o,function(){wf(o,f,-y),ho(o,c,"widget")}),Hr(o,"lineWidgetCleared",o,this,c))}},za.prototype.changed=function(){var o=this,s=this.height,f=this.doc.cm,c=this.line;this.height=null;var h=Ai(this)-s;h&&(jn(this.doc,c)||Wr(c,c.height+h),f&&Rn(f,function(){f.curOp.forceUpdate=!0,wf(f,c,h),Hr(f,"lineWidgetChanged",f,o,nr(c))}))},Rr(za);function wf(o,s,f){hr(s)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Da(o,f)}function jp(o,s,f,c){var h=new za(o,f,c),y=o.cm;return y&&h.noHScroll&&(y.display.alignWidgets=!0),Ns(o,s,"widget",function(O){var I=O.widgets||(O.widgets=[]);if(h.insertAt==null?I.push(h):I.splice(Math.min(I.length,Math.max(0,h.insertAt)),0,h),h.line=O,y&&!jn(o,O)){var U=hr(O)<o.scrollTop;Wr(O,O.height+Ai(h)),U&&Da(y,h.height),y.curOp.forceUpdate=!0}return!0}),y&&Hr(y,"lineWidgetAdded",y,h,typeof s=="number"?s:nr(s)),h}var xo=0,Co=function(o,s){this.lines=[],this.type=s,this.doc=o,this.id=++xo};Co.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,s=o&&!o.curOp;if(s&&ea(o),pe(this,"clear")){var f=this.find();f&&Hr(this,"clear",f.from,f.to)}for(var c=null,h=null,y=0;y<this.lines.length;++y){var O=this.lines[y],I=io(O.markedSpans,this);o&&!this.collapsed?ho(o,nr(O),"text"):o&&(I.to!=null&&(h=nr(O)),I.from!=null&&(c=nr(O))),O.markedSpans=zo(O.markedSpans,I),I.from==null&&this.collapsed&&!jn(this.doc,O)&&o&&Wr(O,Pa(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var U=0;U<this.lines.length;++U){var rt=or(this.lines[U]),xt=gi(rt);xt>o.display.maxLineLength&&(o.display.maxLine=rt,o.display.maxLineLength=xt,o.display.maxLineChanged=!0)}c!=null&&o&&this.collapsed&&fn(o,c,h+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&wn(o.doc)),o&&Hr(o,"markerCleared",o,this,c,h),s&&ra(o),this.parent&&this.parent.clear()}},Co.prototype.find=function(o,s){o==null&&this.type=="bookmark"&&(o=1);for(var f,c,h=0;h<this.lines.length;++h){var y=this.lines[h],O=io(y.markedSpans,this);if(O.from!=null&&(f=K(s?y:nr(y),O.from),o==-1))return f;if(O.to!=null&&(c=K(s?y:nr(y),O.to),o==1))return c}return f&&{from:f,to:c}},Co.prototype.changed=function(){var o=this,s=this.find(-1,!0),f=this,c=this.doc.cm;!s||!c||Rn(c,function(){var h=s.line,y=nr(s.line),O=Ye(c,y);if(O&&(Ts(O),c.curOp.selectionChanged=c.curOp.forceUpdate=!0),c.curOp.updateMaxLine=!0,!jn(f.doc,h)&&f.height!=null){var I=f.height;f.height=null;var U=Ai(f)-I;U&&Wr(h,h.height+U)}Hr(c,"markerChanged",c,o)})},Co.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(!s.maybeHiddenMarkers||Pt(s.maybeHiddenMarkers,this)==-1)&&(s.maybeUnhiddenMarkers||(s.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},Co.prototype.detachLine=function(o){if(this.lines.splice(Pt(this.lines,o),1),!this.lines.length&&this.doc.cm){var s=this.doc.cm.curOp;(s.maybeHiddenMarkers||(s.maybeHiddenMarkers=[])).push(this)}},Rr(Co);function Ua(o,s,f,c,h){if(c&&c.shared)return Rp(o,s,f,c,h);if(o.cm&&!o.cm.curOp)return en(o.cm,Ua)(o,s,f,c,h);var y=new Co(o,h),O=_t(s,f);if(c&&ge(c,y,!1),O>0||O==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=mt("span",[y.replacedWith],"CodeMirror-widget"),c.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),c.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(si(o,s.line,s,f,y)||s.line!=f.line&&si(o,f.line,s,f,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");ro()}y.addToHistory&&lf(o,{from:s,to:f,origin:"markText"},o.sel,NaN);var I=s.line,U=o.cm,rt;if(o.iter(I,f.line+1,function(At){U&&y.collapsed&&!U.options.lineWrapping&&or(At)==U.display.maxLine&&(rt=!0),y.collapsed&&I!=s.line&&Wr(At,0),gs(At,new no(y,I==s.line?s.ch:null,I==f.line?f.ch:null),o.cm&&o.cm.curOp),++I}),y.collapsed&&o.iter(s.line,f.line+1,function(At){jn(o,At)&&Wr(At,0)}),y.clearOnEnter&&we(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(_l(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),y.collapsed&&(y.id=++xo,y.atomic=!0),U){if(rt&&(U.curOp.updateMaxLine=!0),y.collapsed)fn(U,s.line,f.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var xt=s.line;xt<=f.line;xt++)ho(U,xt,"text");y.atomic&&wn(U.doc),Hr(U,"markerAdded",U,y)}return y}var Bs=function(o,s){this.markers=o,this.primary=s;for(var f=0;f<o.length;++f)o[f].parent=this};Bs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();Hr(this,"clear")}},Bs.prototype.find=function(o,s){return this.primary.find(o,s)},Rr(Bs);function Rp(o,s,f,c,h){c=ge(c),c.shared=!1;var y=[Ua(o,s,f,c,h)],O=y[0],I=c.widgetNode;return bo(o,function(U){I&&(c.widgetNode=I.cloneNode(!0)),y.push(Ua(U,je(U,s),je(U,f),c,h));for(var rt=0;rt<U.linked.length;++rt)if(U.linked[rt].isParent)return;O=Bt(y)}),new Bs(y,O)}function xf(o){return o.findMarks(K(o.first,0),o.clipPos(K(o.lastLine())),function(s){return s.parent})}function Fp(o,s){for(var f=0;f<s.length;f++){var c=s[f],h=c.find(),y=o.clipPos(h.from),O=o.clipPos(h.to);if(_t(y,O)){var I=Ua(o,y,O,c.primary,c.primary.type);c.markers.push(I),I.parent=c}}}function Np(o){for(var s=function(c){var h=o[c],y=[h.primary.doc];bo(h.primary.doc,function(U){return y.push(U)});for(var O=0;O<h.markers.length;O++){var I=h.markers[O];Pt(y,I.doc)==-1&&(I.parent=null,h.markers.splice(O--,1))}},f=0;f<o.length;f++)s(f)}var Cf=0,Fn=function(o,s,f,c,h){if(!(this instanceof Fn))return new Fn(o,s,f,c,h);f==null&&(f=0),Vs.call(this,[new Ha([new yi("",null)])]),this.first=f,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=f;var y=K(f,0);this.sel=yo(y),this.history=new zl(null),this.id=++Cf,this.modeOption=s,this.lineSep=c,this.direction=h=="rtl"?"rtl":"ltr",this.extend=!1,typeof o=="string"&&(o=this.splitLines(o)),Gu(this,{from:y,to:y,text:o}),bn(this,yo(y),Qt)};Fn.prototype=C(Vs.prototype,{constructor:Fn,iter:function(o,s,f){f?this.iterN(o-this.first,s-o,f):this.iterN(this.first,this.first+this.size,o)},insert:function(o,s){for(var f=0,c=0;c<s.length;++c)f+=s[c].height;this.insertInner(o-this.first,s,f)},remove:function(o,s){this.removeInner(o-this.first,s)},getValue:function(o){var s=Sr(this,this.first,this.first+this.size);return o===!1?s:s.join(o||this.lineSeparator())},setValue:rn(function(o){var s=K(this.first,0),f=this.first+this.size-1;Na(this,{from:s,to:K(f,De(this,f).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&Ms(this.cm,0,0),bn(this,yo(s),Qt)}),replaceRange:function(o,s,f,c){s=je(this,s),f=f?je(this,f):s,Va(this,o,s,f,c)},getRange:function(o,s,f){var c=mn(this,je(this,o),je(this,s));return f===!1?c:f===""?c.join(""):c.join(f||this.lineSeparator())},getLine:function(o){var s=this.getLineHandle(o);return s&&s.text},getLineHandle:function(o){if(Vr(this,o))return De(this,o)},getLineNumber:function(o){return nr(o)},getLineHandleVisualStart:function(o){return typeof o=="number"&&(o=De(this,o)),or(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return je(this,o)},getCursor:function(o){var s=this.sel.primary(),f;return o==null||o=="head"?f=s.head:o=="anchor"?f=s.anchor:o=="end"||o=="to"||o===!1?f=s.to():f=s.from(),f},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:rn(function(o,s,f){df(this,je(this,typeof o=="number"?K(o,s||0):o),null,f)}),setSelection:rn(function(o,s,f){df(this,je(this,o),je(this,s||o),f)}),extendSelection:rn(function(o,s,f){Wl(this,je(this,o),s&&je(this,s),f)}),extendSelections:rn(function(o,s){ff(this,Fi(this,o),s)}),extendSelectionsBy:rn(function(o,s){var f=V(this.sel.ranges,o);ff(this,Fi(this,f),s)}),setSelections:rn(function(o,s,f){if(o.length){for(var c=[],h=0;h<o.length;h++)c[h]=new vr(je(this,o[h].anchor),je(this,o[h].head||o[h].anchor));s==null&&(s=Math.min(o.length-1,this.sel.primIndex)),bn(this,Ci(this.cm,c,s),f)}}),addSelection:rn(function(o,s,f){var c=this.sel.ranges.slice(0);c.push(new vr(je(this,o),je(this,s||o))),bn(this,Ci(this.cm,c,c.length-1),f)}),getSelection:function(o){for(var s=this.sel.ranges,f,c=0;c<s.length;c++){var h=mn(this,s[c].from(),s[c].to());f=f?f.concat(h):h}return o===!1?f:f.join(o||this.lineSeparator())},getSelections:function(o){for(var s=[],f=this.sel.ranges,c=0;c<f.length;c++){var h=mn(this,f[c].from(),f[c].to());o!==!1&&(h=h.join(o||this.lineSeparator())),s[c]=h}return s},replaceSelection:function(o,s,f){for(var c=[],h=0;h<this.sel.ranges.length;h++)c[h]=o;this.replaceSelections(c,s,f||"+input")},replaceSelections:rn(function(o,s,f){for(var c=[],h=this.sel,y=0;y<h.ranges.length;y++){var O=h.ranges[y];c[y]={from:O.from(),to:O.to(),text:this.splitLines(o[y]),origin:f}}for(var I=s&&s!="end"&&Tp(this,c,s),U=c.length-1;U>=0;U--)Na(this,c[U]);I?Rs(this,I):this.cm&&go(this.cm)}),undo:rn(function(){Gl(this,"undo")}),redo:rn(function(){Gl(this,"redo")}),undoSelection:rn(function(){Gl(this,"undo",!0)}),redoSelection:rn(function(){Gl(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,s=0,f=0,c=0;c<o.done.length;c++)o.done[c].ranges||++s;for(var h=0;h<o.undone.length;h++)o.undone[h].ranges||++f;return{undo:s,redo:f}},clearHistory:function(){var o=this;this.history=new zl(this.history),bo(this,function(s){return s.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Ra(this.history.done),undone:Ra(this.history.undone)}},setHistory:function(o){var s=this.history=new zl(this.history);s.done=Ra(o.done.slice(0),null,!0),s.undone=Ra(o.undone.slice(0),null,!0)},setGutterMarker:rn(function(o,s,f){return Ns(this,o,"gutter",function(c){var h=c.gutterMarkers||(c.gutterMarkers={});return h[s]=f,!f&&z(h)&&(c.gutterMarkers=null),!0})}),clearGutter:rn(function(o){var s=this;this.iter(function(f){f.gutterMarkers&&f.gutterMarkers[o]&&Ns(s,f,"gutter",function(){return f.gutterMarkers[o]=null,z(f.gutterMarkers)&&(f.gutterMarkers=null),!0})})}),lineInfo:function(o){var s;if(typeof o=="number"){if(!Vr(this,o)||(s=o,o=De(this,o),!o))return null}else if(s=nr(o),s==null)return null;return{line:s,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:rn(function(o,s,f){return Ns(this,o,s=="gutter"?"gutter":"class",function(c){var h=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass";if(!c[h])c[h]=f;else{if(ut(f).test(c[h]))return!1;c[h]+=" "+f}return!0})}),removeLineClass:rn(function(o,s,f){return Ns(this,o,s=="gutter"?"gutter":"class",function(c){var h=s=="text"?"textClass":s=="background"?"bgClass":s=="gutter"?"gutterClass":"wrapClass",y=c[h];if(y)if(f==null)c[h]=null;else{var O=y.match(ut(f));if(!O)return!1;var I=O.index+O[0].length;c[h]=y.slice(0,O.index)+(!O.index||I==y.length?"":" ")+y.slice(I)||null}else return!1;return!0})}),addLineWidget:rn(function(o,s,f){return jp(this,o,s,f)}),removeLineWidget:function(o){o.clear()},markText:function(o,s,f){return Ua(this,je(this,o),je(this,s),f,f&&f.type||"range")},setBookmark:function(o,s){var f={replacedWith:s&&(s.nodeType==null?s.widget:s),insertLeft:s&&s.insertLeft,clearWhenEmpty:!1,shared:s&&s.shared,handleMouseEvents:s&&s.handleMouseEvents};return o=je(this,o),Ua(this,o,o,f,"bookmark")},findMarksAt:function(o){o=je(this,o);var s=[],f=De(this,o.line).markedSpans;if(f)for(var c=0;c<f.length;++c){var h=f[c];(h.from==null||h.from<=o.ch)&&(h.to==null||h.to>=o.ch)&&s.push(h.marker.parent||h.marker)}return s},findMarks:function(o,s,f){o=je(this,o),s=je(this,s);var c=[],h=o.line;return this.iter(o.line,s.line+1,function(y){var O=y.markedSpans;if(O)for(var I=0;I<O.length;I++){var U=O[I];!(U.to!=null&&h==o.line&&o.ch>=U.to||U.from==null&&h!=o.line||U.from!=null&&h==s.line&&U.from>=s.ch)&&(!f||f(U.marker))&&c.push(U.marker.parent||U.marker)}++h}),c},getAllMarks:function(){var o=[];return this.iter(function(s){var f=s.markedSpans;if(f)for(var c=0;c<f.length;++c)f[c].from!=null&&o.push(f[c].marker)}),o},posFromIndex:function(o){var s,f=this.first,c=this.lineSeparator().length;return this.iter(function(h){var y=h.text.length+c;if(y>o)return s=o,!0;o-=y,++f}),je(this,K(f,s))},indexFromPos:function(o){o=je(this,o);var s=o.ch;if(o.line<this.first||o.ch<0)return 0;var f=this.lineSeparator().length;return this.iter(this.first,o.line,function(c){s+=c.text.length+f}),s},copy:function(o){var s=new Fn(Sr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return s.scrollTop=this.scrollTop,s.scrollLeft=this.scrollLeft,s.sel=this.sel,s.extend=!1,o&&(s.history.undoDepth=this.history.undoDepth,s.setHistory(this.getHistory())),s},linkedDoc:function(o){o||(o={});var s=this.first,f=this.first+this.size;o.from!=null&&o.from>s&&(s=o.from),o.to!=null&&o.to<f&&(f=o.to);var c=new Fn(Sr(this,s,f),o.mode||this.modeOption,s,this.lineSep,this.direction);return o.sharedHist&&(c.history=this.history),(this.linked||(this.linked=[])).push({doc:c,sharedHist:o.sharedHist}),c.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],Fp(c,xf(this)),c},unlinkDoc:function(o){if(o instanceof Or&&(o=o.doc),this.linked)for(var s=0;s<this.linked.length;++s){var f=this.linked[s];if(f.doc==o){this.linked.splice(s,1),o.unlinkDoc(this),Np(xf(this));break}}if(o.history==this.history){var c=[o.id];bo(o,function(h){return c.push(h.id)},!0),o.history=new zl(null),o.history.done=Ra(this.history.done,c),o.history.undone=Ra(this.history.undone,c)}},iterLinkedDocs:function(o){bo(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):Sn(o)},lineSeparator:function(){return this.lineSep||`
`},setDirection:rn(function(o){o!="rtl"&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(s){return s.order=null}),this.cm&&Ep(this.cm))})}),Fn.prototype.eachLine=Fn.prototype.iter;var Yu=0;function Zl(o){var s=this;if(Sf(s),!(Ke(s,o)||bi(s.display,o))){vt(o),M&&(Yu=+new Date);var f=po(s,o,!0),c=o.dataTransfer.files;if(!(!f||s.isReadOnly()))if(c&&c.length&&window.FileReader&&window.File)for(var h=c.length,y=Array(h),O=0,I=function(){++O==h&&en(s,function(){f=je(s.doc,f);var Ht={from:f,to:f,text:s.doc.splitLines(y.filter(function(ie){return ie!=null}).join(s.doc.lineSeparator())),origin:"paste"};Na(s.doc,Ht),Rs(s.doc,yo(je(s.doc,f),je(s.doc,_o(Ht))))})()},U=function(Ht,ie){if(s.options.allowDropFileTypes&&Pt(s.options.allowDropFileTypes,Ht.type)==-1){I();return}var se=new FileReader;se.onerror=function(){return I()},se.onload=function(){var _e=se.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(_e)){I();return}y[ie]=_e,I()},se.readAsText(Ht)},rt=0;rt<c.length;rt++)U(c[rt],rt);else{if(s.state.draggingText&&s.doc.sel.contains(f)>-1){s.state.draggingText(o),setTimeout(function(){return s.display.input.focus()},20);return}try{var xt=o.dataTransfer.getData("Text");if(xt){var At;if(s.state.draggingText&&!s.state.draggingText.copy&&(At=s.listSelections()),Kl(s.doc,yo(f,f)),At)for(var Gt=0;Gt<At.length;++Gt)Va(s.doc,"",At[Gt].anchor,At[Gt].head,"drag");s.replaceSelection(xt,"around","paste"),s.display.input.focus()}}catch{}}}}function Hs(o,s){if(M&&(!o.state.draggingText||+new Date-Yu<100)){fe(s);return}if(!(Ke(o,s)||bi(o.display,s))&&(s.dataTransfer.setData("Text",o.getSelection()),s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setDragImage&&!L)){var f=$("img",null,null,"position: fixed; left: 0; top: 0;");f.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",T&&(f.width=f.height=1,o.display.wrapper.appendChild(f),f._top=f.offsetTop),s.dataTransfer.setDragImage(f,0,0),T&&f.parentNode.removeChild(f)}}function Vp(o,s){var f=po(o,s);if(f){var c=document.createDocumentFragment();Lu(o,f,c),o.display.dragCursor||(o.display.dragCursor=$("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),pt(o.display.dragCursor,c)}}function Sf(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Of(o){if(document.getElementsByClassName){for(var s=document.getElementsByClassName("CodeMirror"),f=[],c=0;c<s.length;c++){var h=s[c].CodeMirror;h&&f.push(h)}f.length&&f[0].operation(function(){for(var y=0;y<f.length;y++)o(f[y])})}}var Tf=!1;function Bp(){Tf||(Hp(),Tf=!0)}function Hp(){var o;we(window,"resize",function(){o==null&&(o=setTimeout(function(){o=null,Of(Ef)},100))}),we(window,"blur",function(){return Of(La)})}function Ef(o){var s=o.display;s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.scrollbarsClipped=!1,o.setSize()}for(var Ki={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zs=0;zs<10;zs++)Ki[zs+48]=Ki[zs+96]=String(zs);for(var ia=65;ia<=90;ia++)Ki[ia]=String.fromCharCode(ia);for(var Us=1;Us<=12;Us++)Ki[Us+111]=Ki[Us+63235]="F"+Us;var Li={};Li.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Li.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Li.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Li.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Li.default=D?Li.macDefault:Li.pcDefault;function zp(o){var s=o.split(/-(?!$)/);o=s[s.length-1];for(var f,c,h,y,O=0;O<s.length-1;O++){var I=s[O];if(/^(cmd|meta|m)$/i.test(I))y=!0;else if(/^a(lt)?$/i.test(I))f=!0;else if(/^(c|ctrl|control)$/i.test(I))c=!0;else if(/^s(hift)?$/i.test(I))h=!0;else throw new Error("Unrecognized modifier name: "+I)}return f&&(o="Alt-"+o),c&&(o="Ctrl-"+o),y&&(o="Cmd-"+o),h&&(o="Shift-"+o),o}function So(o){var s={};for(var f in o)if(o.hasOwnProperty(f)){var c=o[f];if(/^(name|fallthrough|(de|at)tach)$/.test(f))continue;if(c=="..."){delete o[f];continue}for(var h=V(f.split(" "),zp),y=0;y<h.length;y++){var O=void 0,I=void 0;y==h.length-1?(I=h.join(" "),O=c):(I=h.slice(0,y+1).join(" "),O="...");var U=s[I];if(!U)s[I]=O;else if(U!=O)throw new Error("Inconsistent bindings for "+I)}delete o[f]}for(var rt in s)o[rt]=s[rt];return o}function Wa(o,s,f,c){s=ql(s);var h=s.call?s.call(o,c):s[o];if(h===!1)return"nothing";if(h==="...")return"multi";if(h!=null&&f(h))return"handled";if(s.fallthrough){if(Object.prototype.toString.call(s.fallthrough)!="[object Array]")return Wa(o,s.fallthrough,f,c);for(var y=0;y<s.fallthrough.length;y++){var O=Wa(o,s.fallthrough[y],f,c);if(O)return O}}}function Pf(o){var s=typeof o=="string"?o:Ki[o.keyCode];return s=="Ctrl"||s=="Alt"||s=="Shift"||s=="Mod"}function kf(o,s,f){var c=o;return s.altKey&&c!="Alt"&&(o="Alt-"+o),(it?s.metaKey:s.ctrlKey)&&c!="Ctrl"&&(o="Ctrl-"+o),(it?s.ctrlKey:s.metaKey)&&c!="Mod"&&(o="Cmd-"+o),!f&&s.shiftKey&&c!="Shift"&&(o="Shift-"+o),o}function Af(o,s){if(T&&o.keyCode==34&&o.char)return!1;var f=Ki[o.keyCode];return f==null||o.altGraphKey?!1:(o.keyCode==3&&o.code&&(f=o.code),kf(f,o,s))}function ql(o){return typeof o=="string"?Li[o]:o}function oa(o,s){for(var f=o.doc.sel.ranges,c=[],h=0;h<f.length;h++){for(var y=s(f[h]);c.length&&_t(y.from,Bt(c).to)<=0;){var O=c.pop();if(_t(O.from,y.from)<0){y.from=O.from;break}}c.push(y)}Rn(o,function(){for(var I=c.length-1;I>=0;I--)Va(o.doc,"",c[I].from,c[I].to,"+delete");go(o)})}function Ws(o,s,f){var c=Jt(o.text,s+f,f);return c<0||c>o.text.length?null:c}function Xu(o,s,f){var c=Ws(o,s.ch,f);return c==null?null:new K(s.line,c,f<0?"after":"before")}function Ju(o,s,f,c,h){if(o){s.doc.direction=="rtl"&&(h=-h);var y=Me(f,s.doc.direction);if(y){var O=h<0?Bt(y):y[0],I=h<0==(O.level==1),U=I?"after":"before",rt;if(O.level>0||s.doc.direction=="rtl"){var xt=Ue(s,f);rt=h<0?f.text.length-1:0;var At=_r(s,xt,rt).top;rt=Ft(function(Gt){return _r(s,xt,Gt).top==At},h<0==(O.level==1)?O.from:O.to-1,rt),U=="before"&&(rt=Ws(f,rt,1))}else rt=h<0?O.to:O.from;return new K(c,rt,U)}}return new K(c,h<0?f.text.length:0,h<0?"before":"after")}function Mf(o,s,f,c){var h=Me(s,o.doc.direction);if(!h)return Xu(s,f,c);f.ch>=s.text.length?(f.ch=s.text.length,f.sticky="before"):f.ch<=0&&(f.ch=0,f.sticky="after");var y=ce(h,f.ch,f.sticky),O=h[y];if(o.doc.direction=="ltr"&&O.level%2==0&&(c>0?O.to>f.ch:O.from<f.ch))return Xu(s,f,c);var I=function(Ce,ke){return Ws(s,Ce instanceof K?Ce.ch:Ce,ke)},U,rt=function(Ce){return o.options.lineWrapping?(U=U||Ue(o,s),ks(o,s,U,Ce)):{begin:0,end:s.text.length}},xt=rt(f.sticky=="before"?I(f,-1):f.ch);if(o.doc.direction=="rtl"||O.level==1){var At=O.level==1==c<0,Gt=I(f,At?1:-1);if(Gt!=null&&(At?Gt<=O.to&&Gt<=xt.end:Gt>=O.from&&Gt>=xt.begin)){var Ht=At?"before":"after";return new K(f.line,Gt,Ht)}}var ie=function(Ce,ke,Se){for(var Ae=function(xr,nn){return nn?new K(f.line,I(xr,1),"before"):new K(f.line,xr,"after")};Ce>=0&&Ce<h.length;Ce+=ke){var Be=h[Ce],Ne=ke>0==(Be.level!=1),er=Ne?Se.begin:I(Se.end,-1);if(Be.from<=er&&er<Be.to||(er=Ne?Be.from:I(Be.to,-1),Se.begin<=er&&er<Se.end))return Ae(er,Ne)}},se=ie(y+c,c,xt);if(se)return se;var _e=c>0?xt.end:I(xt.begin,-1);return _e!=null&&!(c>0&&_e==s.text.length)&&(se=ie(c>0?0:h.length-1,c,rt(_e)),se)?se:null}var Ks={selectAll:gf,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),Qt)},killLine:function(o){return oa(o,function(s){if(s.empty()){var f=De(o.doc,s.head.line).text.length;return s.head.ch==f&&s.head.line<o.lastLine()?{from:s.head,to:K(s.head.line+1,0)}:{from:s.head,to:K(s.head.line,f)}}else return{from:s.from(),to:s.to()}})},deleteLine:function(o){return oa(o,function(s){return{from:K(s.from().line,0),to:je(o.doc,K(s.to().line+1,0))}})},delLineLeft:function(o){return oa(o,function(s){return{from:K(s.from().line,0),to:s.from()}})},delWrappedLineLeft:function(o){return oa(o,function(s){var f=o.charCoords(s.head,"div").top+5,c=o.coordsChar({left:0,top:f},"div");return{from:c,to:s.from()}})},delWrappedLineRight:function(o){return oa(o,function(s){var f=o.charCoords(s.head,"div").top+5,c=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:f},"div");return{from:s.from(),to:c}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(K(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(K(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(s){return Lf(o,s.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(s){return If(o,s.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(s){return Df(o,s.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(s){var f=o.cursorCoords(s.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:f},"div")},Tt)},goLineLeft:function(o){return o.extendSelectionsBy(function(s){var f=o.cursorCoords(s.head,"div").top+5;return o.coordsChar({left:0,top:f},"div")},Tt)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(s){var f=o.cursorCoords(s.head,"div").top+5,c=o.coordsChar({left:0,top:f},"div");return c.ch<o.getLine(c.line).search(/\S/)?If(o,s.head):c},Tt)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("	")},insertSoftTab:function(o){for(var s=[],f=o.listSelections(),c=o.options.tabSize,h=0;h<f.length;h++){var y=f[h].from(),O=Ct(o.getLine(y.line),y.ch,c);s.push(ee(c-O%c))}o.replaceSelections(s)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Rn(o,function(){for(var s=o.listSelections(),f=[],c=0;c<s.length;c++)if(s[c].empty()){var h=s[c].head,y=De(o.doc,h.line).text;if(y){if(h.ch==y.length&&(h=new K(h.line,h.ch-1)),h.ch>0)h=new K(h.line,h.ch+1),o.replaceRange(y.charAt(h.ch-1)+y.charAt(h.ch-2),K(h.line,h.ch-2),h,"+transpose");else if(h.line>o.doc.first){var O=De(o.doc,h.line-1).text;O&&(h=new K(h.line,1),o.replaceRange(y.charAt(0)+o.doc.lineSeparator()+O.charAt(O.length-1),K(h.line-1,O.length-1),h,"+transpose"))}}f.push(new vr(h,h))}o.setSelections(f)})},newlineAndIndent:function(o){return Rn(o,function(){for(var s=o.listSelections(),f=s.length-1;f>=0;f--)o.replaceRange(o.doc.lineSeparator(),s[f].anchor,s[f].head,"+input");s=o.listSelections();for(var c=0;c<s.length;c++)o.indentLine(s[c].from().line,null,!0);go(o)})},openLine:function(o){return o.replaceSelection(`
`,"start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function Lf(o,s){var f=De(o.doc,s),c=or(f);return c!=f&&(s=nr(c)),Ju(!0,o,c,s,1)}function Df(o,s){var f=De(o.doc,s),c=so(f);return c!=f&&(s=nr(c)),Ju(!0,o,f,s,-1)}function If(o,s){var f=Lf(o,s.line),c=De(o.doc,f.line),h=Me(c,o.doc.direction);if(!h||h[0].level==0){var y=Math.max(f.ch,c.text.search(/\S/)),O=s.line==f.line&&s.ch<=y&&s.ch;return K(f.line,O?0:y,f.sticky)}return f}function Oo(o,s,f){if(typeof s=="string"&&(s=Ks[s],!s))return!1;o.display.input.ensurePolled();var c=o.display.shift,h=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),f&&(o.display.shift=!1),h=s(o)!=oe}finally{o.display.shift=c,o.state.suppressEdits=!1}return h}function Up(o,s,f){for(var c=0;c<o.state.keyMaps.length;c++){var h=Wa(s,o.state.keyMaps[c],f,o);if(h)return h}return o.options.extraKeys&&Wa(s,o.options.extraKeys,f,o)||Wa(s,o.options.keyMap,f,o)}var Wp=new zt;function Ka(o,s,f,c){var h=o.state.keySeq;if(h){if(Pf(s))return"handled";if(/\'$/.test(s)?o.state.keySeq=null:Wp.set(50,function(){o.state.keySeq==h&&(o.state.keySeq=null,o.display.input.reset())}),Qu(o,h+" "+s,f,c))return!0}return Qu(o,s,f,c)}function Qu(o,s,f,c){var h=Up(o,s,c);return h=="multi"&&(o.state.keySeq=s),h=="handled"&&Hr(o,"keyHandled",o,s,f),(h=="handled"||h=="multi")&&(vt(f),Iu(o)),!!h}function tc(o,s){var f=Af(s,!0);return f?s.shiftKey&&!o.state.keySeq?Ka(o,"Shift-"+f,s,function(c){return Oo(o,c,!0)})||Ka(o,f,s,function(c){if(typeof c=="string"?/^go[A-Z]/.test(c):c.motion)return Oo(o,c)}):Ka(o,f,s,function(c){return Oo(o,c)}):!1}function jf(o,s,f){return Ka(o,"'"+f+"'",s,function(c){return Oo(o,c,!0)})}var Yl=null;function Rf(o){var s=this;if(!(o.target&&o.target!=s.display.input.getField())&&(s.curOp.focus=Mt(Lt(s)),!Ke(s,o))){M&&R<11&&o.keyCode==27&&(o.returnValue=!1);var f=o.keyCode;s.display.shift=f==16||o.shiftKey;var c=tc(s,o);T&&(Yl=c?f:null,!c&&f==88&&!Ri&&(D?o.metaKey:o.ctrlKey)&&s.replaceSelection("",null,"cut")),w&&!D&&!c&&f==46&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),f==18&&!/\bCodeMirror-crosshair\b/.test(s.display.lineDiv.className)&&Gs(s)}}function Gs(o){var s=o.display.lineDiv;gt(s,"CodeMirror-crosshair");function f(c){(c.keyCode==18||!c.altKey)&&(X(s,"CodeMirror-crosshair"),Ie(document,"keyup",f),Ie(document,"mouseover",f))}we(document,"keyup",f),we(document,"mouseover",f)}function Xl(o){o.keyCode==16&&(this.doc.sel.shift=!1),Ke(this,o)}function ec(o){var s=this;if(!(o.target&&o.target!=s.display.input.getField())&&!(bi(s.display,o)||Ke(s,o)||o.ctrlKey&&!o.altKey||D&&o.metaKey)){var f=o.keyCode,c=o.charCode;if(T&&f==Yl){Yl=null,vt(o);return}if(!(T&&(!o.which||o.which<10)&&tc(s,o))){var h=String.fromCharCode(c??f);h!="\b"&&(jf(s,o,h)||s.display.input.onKeyPress(o))}}}var Ff=400,Jl=function(o,s,f){this.time=o,this.pos=s,this.button=f};Jl.prototype.compare=function(o,s,f){return this.time+Ff>o&&_t(s,this.pos)==0&&f==this.button};var Gi,$s;function Kp(o,s){var f=+new Date;return $s&&$s.compare(f,o,s)?(Gi=$s=null,"triple"):Gi&&Gi.compare(f,o,s)?($s=new Jl(f,o,s),Gi=null,"double"):(Gi=new Jl(f,o,s),$s=null,"single")}function rc(o){var s=this,f=s.display;if(!(Ke(s,o)||f.activeTouch&&f.input.supportsTouch())){if(f.input.ensurePolled(),f.shift=o.shiftKey,bi(f,o)){b||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100));return}if(!Yn(s,o)){var c=po(s,o),h=Ve(o),y=c?Kp(c,h):"single";le(s).focus(),h==1&&s.state.selectingText&&s.state.selectingText(o),!(c&&Gp(s,h,c,y,o))&&(h==1?c?Nf(s,c,y,o):Oe(o)==f.scroller&&vt(o):h==2?(c&&Wl(s.doc,c),setTimeout(function(){return f.input.focus()},20)):h==3&&(Q?s.display.input.onContextMenu(o):ju(s)))}}}function Gp(o,s,f,c,h){var y="Click";return c=="double"?y="Double"+y:c=="triple"&&(y="Triple"+y),y=(s==1?"Left":s==2?"Middle":"Right")+y,Ka(o,kf(y,h),h,function(O){if(typeof O=="string"&&(O=Ks[O]),!O)return!1;var I=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),I=O(o,f)!=oe}finally{o.state.suppressEdits=!1}return I})}function $p(o,s,f){var c=o.getOption("configureMouse"),h=c?c(o,s,f):{};if(h.unit==null){var y=at?f.shiftKey&&f.metaKey:f.altKey;h.unit=y?"rectangle":s=="single"?"char":s=="double"?"word":"line"}return(h.extend==null||o.doc.extend)&&(h.extend=o.doc.extend||f.shiftKey),h.addNew==null&&(h.addNew=D?f.metaKey:f.ctrlKey),h.moveOnDrag==null&&(h.moveOnDrag=!(D?f.altKey:f.ctrlKey)),h}function Nf(o,s,f,c){M?setTimeout(Nt(Rl,o),0):o.curOp.focus=Mt(Lt(o));var h=$p(o,f,c),y=o.doc.sel,O;o.options.dragDrop&&Xe&&!o.isReadOnly()&&f=="single"&&(O=y.contains(s))>-1&&(_t((O=y.ranges[O]).from(),s)<0||s.xRel>0)&&(_t(O.to(),s)>0||s.xRel<0)?Zp(o,c,s,h):qp(o,c,s,h)}function Zp(o,s,f,c){var h=o.display,y=!1,O=en(o,function(rt){b&&(h.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:ju(o)),Ie(h.wrapper.ownerDocument,"mouseup",O),Ie(h.wrapper.ownerDocument,"mousemove",I),Ie(h.scroller,"dragstart",U),Ie(h.scroller,"drop",O),y||(vt(rt),c.addNew||Wl(o.doc,f,null,null,c.extend),b&&!L||M&&R==9?setTimeout(function(){h.wrapper.ownerDocument.body.focus({preventScroll:!0}),h.input.focus()},20):h.input.focus())}),I=function(rt){y=y||Math.abs(s.clientX-rt.clientX)+Math.abs(s.clientY-rt.clientY)>=10},U=function(){return y=!0};b&&(h.scroller.draggable=!0),o.state.draggingText=O,O.copy=!c.moveOnDrag,we(h.wrapper.ownerDocument,"mouseup",O),we(h.wrapper.ownerDocument,"mousemove",I),we(h.scroller,"dragstart",U),we(h.scroller,"drop",O),o.state.delayingBlurEvent=!0,setTimeout(function(){return h.input.focus()},20),h.scroller.dragDrop&&h.scroller.dragDrop()}function Vf(o,s,f){if(f=="char")return new vr(s,s);if(f=="word")return o.findWordAt(s);if(f=="line")return new vr(K(s.line,0),je(o.doc,K(s.line+1,0)));var c=f(o,s);return new vr(c.from,c.to)}function qp(o,s,f,c){M&&ju(o);var h=o.display,y=o.doc;vt(s);var O,I,U=y.sel,rt=U.ranges;if(c.addNew&&!c.extend?(I=y.sel.contains(f),I>-1?O=rt[I]:O=new vr(f,f)):(O=y.sel.primary(),I=y.sel.primIndex),c.unit=="rectangle")c.addNew||(O=new vr(f,f)),f=po(o,s,!0,!0),I=-1;else{var xt=Vf(o,f,c.unit);c.extend?O=Zu(O,xt.anchor,xt.head,c.extend):O=xt}c.addNew?I==-1?(I=rt.length,bn(y,Ci(o,rt.concat([O]),I),{scroll:!1,origin:"*mouse"})):rt.length>1&&rt[I].empty()&&c.unit=="char"&&!c.extend?(bn(y,Ci(o,rt.slice(0,I).concat(rt.slice(I+1)),0),{scroll:!1,origin:"*mouse"}),U=y.sel):qu(y,I,O,re):(I=0,bn(y,new qn([O],0),re),U=y.sel);var At=f;function Gt(Se){if(_t(At,Se)!=0)if(At=Se,c.unit=="rectangle"){for(var Ae=[],Be=o.options.tabSize,Ne=Ct(De(y,f.line).text,f.ch,Be),er=Ct(De(y,Se.line).text,Se.ch,Be),xr=Math.min(Ne,er),nn=Math.max(Ne,er),Mr=Math.min(f.line,Se.line),dn=Math.min(o.lastLine(),Math.max(f.line,Se.line));Mr<=dn;Mr++){var kn=De(y,Mr).text,br=Rt(kn,xr,Be);xr==nn?Ae.push(new vr(K(Mr,br),K(Mr,br))):kn.length>br&&Ae.push(new vr(K(Mr,br),K(Mr,Rt(kn,nn,Be))))}Ae.length||Ae.push(new vr(f,f)),bn(y,Ci(o,U.ranges.slice(0,I).concat(Ae),I),{origin:"*mouse",scroll:!1}),o.scrollIntoView(Se)}else{var Nn=O,on=Vf(o,Se,c.unit),Jr=Nn.anchor,$r;_t(on.anchor,Jr)>0?($r=on.head,Jr=ir(Nn.from(),on.anchor)):($r=on.anchor,Jr=Ge(Nn.to(),on.head));var Lr=U.ranges.slice(0);Lr[I]=Yp(o,new vr(je(y,Jr),$r)),bn(y,Ci(o,Lr,I),re)}}var Ht=h.wrapper.getBoundingClientRect(),ie=0;function se(Se){var Ae=++ie,Be=po(o,Se,!0,c.unit=="rectangle");if(Be)if(_t(Be,At)!=0){o.curOp.focus=Mt(Lt(o)),Gt(Be);var Ne=Yo(h,y);(Be.line>=Ne.to||Be.line<Ne.from)&&setTimeout(en(o,function(){ie==Ae&&se(Se)}),150)}else{var er=Se.clientY<Ht.top?-20:Se.clientY>Ht.bottom?20:0;er&&setTimeout(en(o,function(){ie==Ae&&(h.scroller.scrollTop+=er,se(Se))}),50)}}function _e(Se){o.state.selectingText=!1,ie=1/0,Se&&(vt(Se),h.input.focus()),Ie(h.wrapper.ownerDocument,"mousemove",Ce),Ie(h.wrapper.ownerDocument,"mouseup",ke),y.history.lastSelOrigin=null}var Ce=en(o,function(Se){Se.buttons===0||!Ve(Se)?_e(Se):se(Se)}),ke=en(o,_e);o.state.selectingText=ke,we(h.wrapper.ownerDocument,"mousemove",Ce),we(h.wrapper.ownerDocument,"mouseup",ke)}function Yp(o,s){var f=s.anchor,c=s.head,h=De(o.doc,f.line);if(_t(f,c)==0&&f.sticky==c.sticky)return s;var y=Me(h);if(!y)return s;var O=ce(y,f.ch,f.sticky),I=y[O];if(I.from!=f.ch&&I.to!=f.ch)return s;var U=O+(I.from==f.ch==(I.level!=1)?0:1);if(U==0||U==y.length)return s;var rt;if(c.line!=f.line)rt=(c.line-f.line)*(o.doc.direction=="ltr"?1:-1)>0;else{var xt=ce(y,c.ch,c.sticky),At=xt-O||(c.ch-f.ch)*(I.level==1?-1:1);xt==U-1||xt==U?rt=At<0:rt=At>0}var Gt=y[U+(rt?-1:0)],Ht=rt==(Gt.level==1),ie=Ht?Gt.from:Gt.to,se=Ht?"after":"before";return f.ch==ie&&f.sticky==se?s:new vr(new K(f.line,ie,se),c)}function Bf(o,s,f,c){var h,y;if(s.touches)h=s.touches[0].clientX,y=s.touches[0].clientY;else try{h=s.clientX,y=s.clientY}catch{return!1}if(h>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;c&&vt(s);var O=o.display,I=O.lineDiv.getBoundingClientRect();if(y>I.bottom||!pe(o,f))return Ut(s);y-=I.top-O.viewOffset;for(var U=0;U<o.display.gutterSpecs.length;++U){var rt=O.gutters.childNodes[U];if(rt&&rt.getBoundingClientRect().right>=h){var xt=un(o.doc,y),At=o.display.gutterSpecs[U];return sr(o,f,o,xt,At.className,s),Ut(s)}}}function Yn(o,s){return Bf(o,s,"gutterClick",!0)}function Wn(o,s){bi(o.display,s)||Ga(o,s)||Ke(o,s,"contextmenu")||Q||o.display.input.onContextMenu(s)}function Ga(o,s){return pe(o,"gutterContextMenu")?Bf(o,s,"gutterContextMenu",!1):!1}function nc(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$o(o)}var To={toString:function(){return"CodeMirror.Init"}},Hf={},Ql={};function zf(o){var s=o.optionHandlers;function f(c,h,y,O){o.defaults[c]=h,y&&(s[c]=O?function(I,U,rt){rt!=To&&y(I,U,rt)}:y)}o.defineOption=f,o.Init=To,f("value","",function(c,h){return c.setValue(h)},!0),f("mode",null,function(c,h){c.doc.modeOption=h,Ku(c)},!0),f("indentUnit",2,Ku,!0),f("indentWithTabs",!1),f("smartIndent",!0),f("tabSize",4,function(c){ja(c),$o(c),fn(c)},!0),f("lineSeparator",null,function(c,h){if(c.doc.lineSep=h,!!h){var y=[],O=c.doc.first;c.doc.iter(function(U){for(var rt=0;;){var xt=U.text.indexOf(h,rt);if(xt==-1)break;rt=xt+h.length,y.push(K(O,xt))}O++});for(var I=y.length-1;I>=0;I--)Va(c.doc,h,y[I],K(y[I].line,y[I].ch+h.length))}}),f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(c,h,y){c.state.specialChars=new RegExp(h.source+(h.test("	")?"":"|	"),"g"),y!=To&&c.refresh()}),f("specialCharPlaceholder",wl,function(c){return c.refresh()},!0),f("electricChars",!0),f("inputStyle",q?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),f("spellcheck",!1,function(c,h){return c.getInputField().spellcheck=h},!0),f("autocorrect",!1,function(c,h){return c.getInputField().autocorrect=h},!0),f("autocapitalize",!1,function(c,h){return c.getInputField().autocapitalize=h},!0),f("rtlMoveVisually",!W),f("wholeLineUpdateBefore",!0),f("theme","default",function(c){nc(c),mo(c)},!0),f("keyMap","default",function(c,h,y){var O=ql(h),I=y!=To&&ql(y);I&&I.detach&&I.detach(c,O),O.attach&&O.attach(c,I||null)}),f("extraKeys",null),f("configureMouse",null),f("lineWrapping",!1,Uf,!0),f("gutters",[],function(c,h){c.display.gutterSpecs=na(h,c.options.lineNumbers),mo(c)},!0),f("fixedGutter",!0,function(c,h){c.display.gutters.style.left=h?Aa(c.display)+"px":"0",c.refresh()},!0),f("coverGutterNextToScrollbar",!1,function(c){return xi(c)},!0),f("scrollbarStyle","native",function(c){Nu(c),xi(c),c.display.scrollbars.setScrollTop(c.doc.scrollTop),c.display.scrollbars.setScrollLeft(c.doc.scrollLeft)},!0),f("lineNumbers",!1,function(c,h){c.display.gutterSpecs=na(c.options.gutters,h),mo(c)},!0),f("firstLineNumber",1,mo,!0),f("lineNumberFormatter",function(c){return c},mo,!0),f("showCursorWhenSelecting",!1,As,!0),f("resetSelectionOnContextMenu",!0),f("lineWiseCopyCut",!0),f("pasteLinesPerSelection",!0),f("selectionsMayTouch",!1),f("readOnly",!1,function(c,h){h=="nocursor"&&(La(c),c.display.input.blur()),c.display.input.readOnlyChanged(h)}),f("screenReaderLabel",null,function(c,h){h=h===""?null:h,c.display.input.screenReaderLabelChanged(h)}),f("disableInput",!1,function(c,h){h||c.display.input.reset()},!0),f("dragDrop",!0,Xp),f("allowDropFileTypes",null),f("cursorBlinkRate",530),f("cursorScrollMargin",0),f("cursorHeight",1,As,!0),f("singleCursorHeightPerLine",!0,As,!0),f("workTime",100),f("workDelay",100),f("flattenSpans",!0,ja,!0),f("addModeClass",!1,ja,!0),f("pollInterval",100),f("undoDepth",200,function(c,h){return c.doc.history.undoDepth=h}),f("historyEventDelay",1250),f("viewportMargin",10,function(c){return c.refresh()},!0),f("maxHighlightLength",1e4,ja,!0),f("moveInputWithCursor",!0,function(c,h){h||c.display.input.resetPosition()}),f("tabindex",null,function(c,h){return c.display.input.getField().tabIndex=h||""}),f("autofocus",null),f("direction","ltr",function(c,h){return c.doc.setDirection(h)},!0),f("phrases",null)}function Xp(o,s,f){var c=f&&f!=To;if(!s!=!c){var h=o.display.dragFunctions,y=s?we:Ie;y(o.display.scroller,"dragstart",h.start),y(o.display.scroller,"dragenter",h.enter),y(o.display.scroller,"dragover",h.over),y(o.display.scroller,"dragleave",h.leave),y(o.display.scroller,"drop",h.drop)}}function Uf(o){o.options.lineWrapping?(gt(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(X(o.display.wrapper,"CodeMirror-wrap"),mi(o)),Mu(o),fn(o),$o(o),setTimeout(function(){return xi(o)},100)}function Or(o,s){var f=this;if(!(this instanceof Or))return new Or(o,s);this.options=s=s?ge(s):{},ge(Hf,s,!1);var c=s.value;typeof c=="string"?c=new Fn(c,s.mode,null,s.lineSeparator,s.direction):s.mode&&(c.modeOption=s.mode),this.doc=c;var h=new Or.inputStyles[s.inputStyle](this),y=this.display=new Op(o,c,h,s);y.wrapper.CodeMirror=this,nc(this),s.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Nu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new zt,keySeq:null,specialChars:null},s.autofocus&&!q&&y.input.focus(),M&&R<11&&setTimeout(function(){return f.display.input.reset(!0)},20),Wf(this),Bp(),ea(this),this.curOp.forceUpdate=!0,of(this,c),s.autofocus&&!q||this.hasFocus()?setTimeout(function(){f.hasFocus()&&!f.state.focused&&Ma(f)},20):La(this);for(var O in Ql)Ql.hasOwnProperty(O)&&Ql[O](this,s[O],To);Xc(this),s.finishInit&&s.finishInit(this);for(var I=0;I<tu.length;++I)tu[I](this);ra(this),b&&s.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}Or.defaults=Hf,Or.optionHandlers=Ql;function Wf(o){var s=o.display;we(s.scroller,"mousedown",en(o,rc)),M&&R<11?we(s.scroller,"dblclick",en(o,function(U){if(!Ke(o,U)){var rt=po(o,U);if(!(!rt||Yn(o,U)||bi(o.display,U))){vt(U);var xt=o.findWordAt(rt);Wl(o.doc,xt.anchor,xt.head)}}})):we(s.scroller,"dblclick",function(U){return Ke(o,U)||vt(U)}),we(s.scroller,"contextmenu",function(U){return Wn(o,U)}),we(s.input.getField(),"contextmenu",function(U){s.scroller.contains(U.target)||Wn(o,U)});var f,c={end:0};function h(){s.activeTouch&&(f=setTimeout(function(){return s.activeTouch=null},1e3),c=s.activeTouch,c.end=+new Date)}function y(U){if(U.touches.length!=1)return!1;var rt=U.touches[0];return rt.radiusX<=1&&rt.radiusY<=1}function O(U,rt){if(rt.left==null)return!0;var xt=rt.left-U.left,At=rt.top-U.top;return xt*xt+At*At>20*20}we(s.scroller,"touchstart",function(U){if(!Ke(o,U)&&!y(U)&&!Yn(o,U)){s.input.ensurePolled(),clearTimeout(f);var rt=+new Date;s.activeTouch={start:rt,moved:!1,prev:rt-c.end<=300?c:null},U.touches.length==1&&(s.activeTouch.left=U.touches[0].pageX,s.activeTouch.top=U.touches[0].pageY)}}),we(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),we(s.scroller,"touchend",function(U){var rt=s.activeTouch;if(rt&&!bi(s,U)&&rt.left!=null&&!rt.moved&&new Date-rt.start<300){var xt=o.coordsChar(s.activeTouch,"page"),At;!rt.prev||O(rt,rt.prev)?At=new vr(xt,xt):!rt.prev.prev||O(rt,rt.prev.prev)?At=o.findWordAt(xt):At=new vr(K(xt.line,0),je(o.doc,K(xt.line+1,0))),o.setSelection(At.anchor,At.head),o.focus(),vt(U)}h()}),we(s.scroller,"touchcancel",h),we(s.scroller,"scroll",function(){s.scroller.clientHeight&&(Ia(o,s.scroller.scrollTop),Xo(o,s.scroller.scrollLeft,!0),sr(o,"scroll",o))}),we(s.scroller,"mousewheel",function(U){return tf(o,U)}),we(s.scroller,"DOMMouseScroll",function(U){return tf(o,U)}),we(s.wrapper,"scroll",function(){return s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),s.dragFunctions={enter:function(U){Ke(o,U)||fe(U)},over:function(U){Ke(o,U)||(Vp(o,U),fe(U))},start:function(U){return Hs(o,U)},drop:en(o,Zl),leave:function(U){Ke(o,U)||Sf(o)}};var I=s.input.getField();we(I,"keyup",function(U){return Xl.call(o,U)}),we(I,"keydown",en(o,Rf)),we(I,"keypress",en(o,ec)),we(I,"focus",function(U){return Ma(o,U)}),we(I,"blur",function(U){return La(o,U)})}var tu=[];Or.defineInitHook=function(o){return tu.push(o)};function Zs(o,s,f,c){var h=o.doc,y;f==null&&(f="add"),f=="smart"&&(h.mode.indent?y=hi(o,s).state:f="prev");var O=o.options.tabSize,I=De(h,s),U=Ct(I.text,null,O);I.stateAfter&&(I.stateAfter=null);var rt=I.text.match(/^\s*/)[0],xt;if(!c&&!/\S/.test(I.text))xt=0,f="not";else if(f=="smart"&&(xt=h.mode.indent(y,I.text.slice(rt.length),I.text),xt==oe||xt>150)){if(!c)return;f="prev"}f=="prev"?s>h.first?xt=Ct(De(h,s-1).text,null,O):xt=0:f=="add"?xt=U+o.options.indentUnit:f=="subtract"?xt=U-o.options.indentUnit:typeof f=="number"&&(xt=U+f),xt=Math.max(0,xt);var At="",Gt=0;if(o.options.indentWithTabs)for(var Ht=Math.floor(xt/O);Ht;--Ht)Gt+=O,At+="	";if(Gt<xt&&(At+=ee(xt-Gt)),At!=rt)return Va(h,At,K(s,0),K(s,rt.length),"+input"),I.stateAfter=null,!0;for(var ie=0;ie<h.sel.ranges.length;ie++){var se=h.sel.ranges[ie];if(se.head.line==s&&se.head.ch<rt.length){var _e=K(s,rt.length);qu(h,ie,new vr(_e,_e));break}}}var Si=null;function eu(o){Si=o}function ic(o,s,f,c,h){var y=o.doc;o.display.shift=!1,c||(c=y.sel);var O=+new Date-200,I=h=="paste"||o.state.pasteIncoming>O,U=Sn(s),rt=null;if(I&&c.ranges.length>1)if(Si&&Si.text.join(`
`)==s){if(c.ranges.length%Si.text.length==0){rt=[];for(var xt=0;xt<Si.text.length;xt++)rt.push(y.splitLines(Si.text[xt]))}}else U.length==c.ranges.length&&o.options.pasteLinesPerSelection&&(rt=V(U,function(Ce){return[Ce]}));for(var At=o.curOp.updateInput,Gt=c.ranges.length-1;Gt>=0;Gt--){var Ht=c.ranges[Gt],ie=Ht.from(),se=Ht.to();Ht.empty()&&(f&&f>0?ie=K(ie.line,ie.ch-f):o.state.overwrite&&!I?se=K(se.line,Math.min(De(y,se.line).text.length,se.ch+Bt(U).length)):I&&Si&&Si.lineWise&&Si.text.join(`
`)==U.join(`
`)&&(ie=se=K(ie.line,0)));var _e={from:ie,to:se,text:rt?rt[Gt%rt.length]:U,origin:h||(I?"paste":o.state.cutIncoming>O?"cut":"+input")};Na(o.doc,_e),Hr(o,"inputRead",o,_e)}s&&!I&&Gf(o,s),go(o),o.curOp.updateInput<2&&(o.curOp.updateInput=At),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function Kf(o,s){var f=o.clipboardData&&o.clipboardData.getData("Text");if(f)return o.preventDefault(),!s.isReadOnly()&&!s.options.disableInput&&s.hasFocus()&&Rn(s,function(){return ic(s,f,0,null,"paste")}),!0}function Gf(o,s){if(!(!o.options.electricChars||!o.options.smartIndent))for(var f=o.doc.sel,c=f.ranges.length-1;c>=0;c--){var h=f.ranges[c];if(!(h.head.ch>100||c&&f.ranges[c-1].head.line==h.head.line)){var y=o.getModeAt(h.head),O=!1;if(y.electricChars){for(var I=0;I<y.electricChars.length;I++)if(s.indexOf(y.electricChars.charAt(I))>-1){O=Zs(o,h.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(De(o.doc,h.head.line).text.slice(0,h.head.ch))&&(O=Zs(o,h.head.line,"smart"));O&&Hr(o,"electricInput",o,h.head.line)}}}function $f(o){for(var s=[],f=[],c=0;c<o.doc.sel.ranges.length;c++){var h=o.doc.sel.ranges[c].head.line,y={anchor:K(h,0),head:K(h+1,0)};f.push(y),s.push(o.getRange(y.anchor,y.head))}return{text:s,ranges:f}}function oc(o,s,f,c){o.setAttribute("autocorrect",f?"on":"off"),o.setAttribute("autocapitalize",c?"on":"off"),o.setAttribute("spellcheck",!!s)}function ac(){var o=$("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),s=$("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return b?o.style.width="1000px":o.setAttribute("wrap","off"),lt&&(o.style.border="1px solid black"),s}function Zf(o){var s=o.optionHandlers,f=o.helpers={};o.prototype={constructor:o,focus:function(){le(this).focus(),this.display.input.focus()},setOption:function(c,h){var y=this.options,O=y[c];y[c]==h&&c!="mode"||(y[c]=h,s.hasOwnProperty(c)&&en(this,s[c])(this,h,O),sr(this,"optionChange",this,c))},getOption:function(c){return this.options[c]},getDoc:function(){return this.doc},addKeyMap:function(c,h){this.state.keyMaps[h?"push":"unshift"](ql(c))},removeKeyMap:function(c){for(var h=this.state.keyMaps,y=0;y<h.length;++y)if(h[y]==c||h[y].name==c)return h.splice(y,1),!0},addOverlay:Er(function(c,h){var y=c.token?c:o.getMode(this.options,c);if(y.startState)throw new Error("Overlays may not be stateful.");ot(this.state.overlays,{mode:y,modeSpec:c,opaque:h&&h.opaque,priority:h&&h.priority||0},function(O){return O.priority}),this.state.modeGen++,fn(this)}),removeOverlay:Er(function(c){for(var h=this.state.overlays,y=0;y<h.length;++y){var O=h[y].modeSpec;if(O==c||typeof c=="string"&&O.name==c){h.splice(y,1),this.state.modeGen++,fn(this);return}}}),indentLine:Er(function(c,h,y){typeof h!="string"&&typeof h!="number"&&(h==null?h=this.options.smartIndent?"smart":"prev":h=h?"add":"subtract"),Vr(this.doc,c)&&Zs(this,c,h,y)}),indentSelection:Er(function(c){for(var h=this.doc.sel.ranges,y=-1,O=0;O<h.length;O++){var I=h[O];if(I.empty())I.head.line>y&&(Zs(this,I.head.line,c,!0),y=I.head.line,O==this.doc.sel.primIndex&&go(this));else{var U=I.from(),rt=I.to(),xt=Math.max(y,U.line);y=Math.min(this.lastLine(),rt.line-(rt.ch?0:1))+1;for(var At=xt;At<y;++At)Zs(this,At,c);var Gt=this.doc.sel.ranges;U.ch==0&&h.length==Gt.length&&Gt[O].from().ch>0&&qu(this.doc,O,new vr(U,Gt[O].to()),Qt)}}}),getTokenAt:function(c,h){return Br(this,c,h)},getLineTokens:function(c,h){return Br(this,K(c),h,!0)},getTokenTypeAt:function(c){c=je(this.doc,c);var h=hs(this,De(this.doc,c.line)),y=0,O=(h.length-1)/2,I=c.ch,U;if(I==0)U=h[2];else for(;;){var rt=y+O>>1;if((rt?h[rt*2-1]:0)>=I)O=rt;else if(h[rt*2+1]<I)y=rt+1;else{U=h[rt*2+2];break}}var xt=U?U.indexOf("overlay "):-1;return xt<0?U:xt==0?null:U.slice(0,xt-1)},getModeAt:function(c){var h=this.doc.mode;return h.innerMode?o.innerMode(h,this.getTokenAt(c).state).mode:h},getHelper:function(c,h){return this.getHelpers(c,h)[0]},getHelpers:function(c,h){var y=[];if(!f.hasOwnProperty(h))return y;var O=f[h],I=this.getModeAt(c);if(typeof I[h]=="string")O[I[h]]&&y.push(O[I[h]]);else if(I[h])for(var U=0;U<I[h].length;U++){var rt=O[I[h][U]];rt&&y.push(rt)}else I.helperType&&O[I.helperType]?y.push(O[I.helperType]):O[I.name]&&y.push(O[I.name]);for(var xt=0;xt<O._global.length;xt++){var At=O._global[xt];At.pred(I,this)&&Pt(y,At.val)==-1&&y.push(At.val)}return y},getStateAfter:function(c,h){var y=this.doc;return c=fr(y,c??y.first+y.size-1),hi(this,c+1,h).state},cursorCoords:function(c,h){var y,O=this.doc.sel.primary();return c==null?y=O.head:typeof c=="object"?y=je(this.doc,c):y=c?O.from():O.to(),Un(this,y,h||"page")},charCoords:function(c,h){return Al(this,je(this.doc,c),h||"page")},coordsChar:function(c,h){return c=Wc(this,c,h||"page"),Pu(this,c.left,c.top)},lineAtHeight:function(c,h){return c=Wc(this,{top:c,left:0},h||"page").top,un(this.doc,c+this.display.viewOffset)},heightAtLine:function(c,h,y){var O=!1,I;if(typeof c=="number"){var U=this.doc.first+this.doc.size-1;c<this.doc.first?c=this.doc.first:c>U&&(c=U,O=!0),I=De(this.doc,c)}else I=c;return kl(this,I,{top:0,left:0},h||"page",y||O).top+(O?this.doc.height-hr(I):0)},defaultTextHeight:function(){return Pa(this.display)},defaultCharWidth:function(){return ka(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(c,h,y,O,I){var U=this.display;c=Un(this,je(this.doc,c));var rt=c.bottom,xt=c.left;if(h.style.position="absolute",h.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(h),U.sizer.appendChild(h),O=="over")rt=c.top;else if(O=="above"||O=="near"){var At=Math.max(U.wrapper.clientHeight,this.doc.height),Gt=Math.max(U.sizer.clientWidth,U.lineSpace.clientWidth);(O=="above"||c.bottom+h.offsetHeight>At)&&c.top>h.offsetHeight?rt=c.top-h.offsetHeight:c.bottom+h.offsetHeight<=At&&(rt=c.bottom),xt+h.offsetWidth>Gt&&(xt=Gt-h.offsetWidth)}h.style.top=rt+"px",h.style.left=h.style.right="",I=="right"?(xt=U.sizer.clientWidth-h.offsetWidth,h.style.right="0px"):(I=="left"?xt=0:I=="middle"&&(xt=(U.sizer.clientWidth-h.offsetWidth)/2),h.style.left=xt+"px"),y&&hp(this,{left:xt,top:rt,right:xt+h.offsetWidth,bottom:rt+h.offsetHeight})},triggerOnKeyDown:Er(Rf),triggerOnKeyPress:Er(ec),triggerOnKeyUp:Xl,triggerOnMouseDown:Er(rc),execCommand:function(c){if(Ks.hasOwnProperty(c))return Ks[c].call(null,this)},triggerElectric:Er(function(c){Gf(this,c)}),findPosH:function(c,h,y,O){var I=1;h<0&&(I=-1,h=-h);for(var U=je(this.doc,c),rt=0;rt<h&&(U=sc(this.doc,U,I,y,O),!U.hitSide);++rt);return U},moveH:Er(function(c,h){var y=this;this.extendSelectionsBy(function(O){return y.display.shift||y.doc.extend||O.empty()?sc(y.doc,O.head,c,h,y.options.rtlMoveVisually):c<0?O.from():O.to()},Tt)}),deleteH:Er(function(c,h){var y=this.doc.sel,O=this.doc;y.somethingSelected()?O.replaceSelection("",null,"+delete"):oa(this,function(I){var U=sc(O,I.head,c,h,!1);return c<0?{from:U,to:I.head}:{from:I.head,to:U}})}),findPosV:function(c,h,y,O){var I=1,U=O;h<0&&(I=-1,h=-h);for(var rt=je(this.doc,c),xt=0;xt<h;++xt){var At=Un(this,rt,"div");if(U==null?U=At.left:At.left=U,rt=qf(this,At,I,y),rt.hitSide)break}return rt},moveV:Er(function(c,h){var y=this,O=this.doc,I=[],U=!this.display.shift&&!O.extend&&O.sel.somethingSelected();if(O.extendSelectionsBy(function(xt){if(U)return c<0?xt.from():xt.to();var At=Un(y,xt.head,"div");xt.goalColumn!=null&&(At.left=xt.goalColumn),I.push(At.left);var Gt=qf(y,At,c,h);return h=="page"&&xt==O.sel.primary()&&Da(y,Al(y,Gt,"div").top-At.top),Gt},Tt),I.length)for(var rt=0;rt<O.sel.ranges.length;rt++)O.sel.ranges[rt].goalColumn=I[rt]}),findWordAt:function(c){var h=this.doc,y=De(h,c.line).text,O=c.ch,I=c.ch;if(y){var U=this.getHelper(c,"wordChars");(c.sticky=="before"||I==y.length)&&O?--O:++I;for(var rt=y.charAt(O),xt=Y(rt,U)?function(At){return Y(At,U)}:/\s/.test(rt)?function(At){return/\s/.test(At)}:function(At){return!/\s/.test(At)&&!Y(At)};O>0&&xt(y.charAt(O-1));)--O;for(;I<y.length&&xt(y.charAt(I));)++I}return new vr(K(c.line,O),K(c.line,I))},toggleOverwrite:function(c){c!=null&&c==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?gt(this.display.cursorDiv,"CodeMirror-overwrite"):X(this.display.cursorDiv,"CodeMirror-overwrite"),sr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Mt(Lt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Er(function(c,h){Ms(this,c,h)}),getScrollInfo:function(){var c=this.display.scroller;return{left:c.scrollLeft,top:c.scrollTop,height:c.scrollHeight-ct(this)-this.display.barHeight,width:c.scrollWidth-ct(this)-this.display.barWidth,clientHeight:Dt(this),clientWidth:Et(this)}},scrollIntoView:Er(function(c,h){c==null?(c={from:this.doc.sel.primary().head,to:null},h==null&&(h=this.options.cursorScrollMargin)):typeof c=="number"?c={from:K(c,0),to:null}:c.from==null&&(c={from:c,to:null}),c.to||(c.to=c.from),c.margin=h||0,c.from.line!=null?vp(this,c):Ls(this,c.from,c.to,c.margin)}),setSize:Er(function(c,h){var y=this,O=function(U){return typeof U=="number"||/^\d+$/.test(String(U))?U+"px":U};c!=null&&(this.display.wrapper.style.width=O(c)),h!=null&&(this.display.wrapper.style.height=O(h)),this.options.lineWrapping&&zc(this);var I=this.display.viewFrom;this.doc.iter(I,this.display.viewTo,function(U){if(U.widgets){for(var rt=0;rt<U.widgets.length;rt++)if(U.widgets[rt].noHScroll){ho(y,I,"widget");break}}++I}),this.curOp.forceUpdate=!0,sr(this,"refresh",this)}),operation:function(c){return Rn(this,c)},startOperation:function(){return ea(this)},endOperation:function(){return ra(this)},refresh:Er(function(){var c=this.display.cachedTextHeight;fn(this),this.curOp.forceUpdate=!0,$o(this),Ms(this,this.doc.scrollLeft,this.doc.scrollTop),zu(this.display),(c==null||Math.abs(c-Pa(this.display))>.5||this.options.lineWrapping)&&Mu(this),sr(this,"refresh",this)}),swapDoc:Er(function(c){var h=this.doc;return h.cm=null,this.state.selectingText&&this.state.selectingText(),of(this,c),$o(this),this.display.input.reset(),Ms(this,c.scrollLeft,c.scrollTop),this.curOp.forceScroll=!0,Hr(this,"swapDoc",this,h),h}),phrase:function(c){var h=this.options.phrases;return h&&Object.prototype.hasOwnProperty.call(h,c)?h[c]:c},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Rr(o),o.registerHelper=function(c,h,y){f.hasOwnProperty(c)||(f[c]=o[c]={_global:[]}),f[c][h]=y},o.registerGlobalHelper=function(c,h,y,O){o.registerHelper(c,h,O),f[c]._global.push({pred:y,val:O})}}function sc(o,s,f,c,h){var y=s,O=f,I=De(o,s.line),U=h&&o.direction=="rtl"?-f:f;function rt(){var ke=s.line+U;return ke<o.first||ke>=o.first+o.size?!1:(s=new K(ke,s.ch,s.sticky),I=De(o,ke))}function xt(ke){var Se;if(c=="codepoint"){var Ae=I.text.charCodeAt(s.ch+(f>0?0:-1));if(isNaN(Ae))Se=null;else{var Be=f>0?Ae>=55296&&Ae<56320:Ae>=56320&&Ae<57343;Se=new K(s.line,Math.max(0,Math.min(I.text.length,s.ch+f*(Be?2:1))),-f)}}else h?Se=Mf(o.cm,I,s,f):Se=Xu(I,s,f);if(Se==null)if(!ke&&rt())s=Ju(h,o.cm,I,s.line,U);else return!1;else s=Se;return!0}if(c=="char"||c=="codepoint")xt();else if(c=="column")xt(!0);else if(c=="word"||c=="group")for(var At=null,Gt=c=="group",Ht=o.cm&&o.cm.getHelper(s,"wordChars"),ie=!0;!(f<0&&!xt(!ie));ie=!1){var se=I.text.charAt(s.ch)||`
`,_e=Y(se,Ht)?"w":Gt&&se==`
`?"n":!Gt||/\s/.test(se)?null:"p";if(Gt&&!ie&&!_e&&(_e="s"),At&&At!=_e){f<0&&(f=1,xt(),s.sticky="after");break}if(_e&&(At=_e),f>0&&!xt(!ie))break}var Ce=wo(o,s,y,O,!0);return ue(y,Ce)&&(Ce.hitSide=!0),Ce}function qf(o,s,f,c){var h=o.doc,y=s.left,O;if(c=="page"){var I=Math.min(o.display.wrapper.clientHeight,le(o).innerHeight||h(o).documentElement.clientHeight),U=Math.max(I-.5*Pa(o.display),3);O=(f>0?s.bottom:s.top)+f*U}else c=="line"&&(O=f>0?s.bottom+3:s.top-3);for(var rt;rt=Pu(o,y,O),!!rt.outside;){if(f<0?O<=0:O>=h.height){rt.hitSide=!0;break}O+=f*5}return rt}var cr=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new zt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};cr.prototype.init=function(o){var s=this,f=this,c=f.cm,h=f.div=o.lineDiv;h.contentEditable=!0,oc(h,c.options.spellcheck,c.options.autocorrect,c.options.autocapitalize);function y(I){for(var U=I.target;U;U=U.parentNode){if(U==h)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(U.className))break}return!1}we(h,"paste",function(I){!y(I)||Ke(c,I)||Kf(I,c)||R<=11&&setTimeout(en(c,function(){return s.updateFromDOM()}),20)}),we(h,"compositionstart",function(I){s.composing={data:I.data,done:!1}}),we(h,"compositionupdate",function(I){s.composing||(s.composing={data:I.data,done:!1})}),we(h,"compositionend",function(I){s.composing&&(I.data!=s.composing.data&&s.readFromDOMSoon(),s.composing.done=!0)}),we(h,"touchstart",function(){return f.forceCompositionEnd()}),we(h,"input",function(){s.composing||s.readFromDOMSoon()});function O(I){if(!(!y(I)||Ke(c,I))){if(c.somethingSelected())eu({lineWise:!1,text:c.getSelections()}),I.type=="cut"&&c.replaceSelection("",null,"cut");else if(c.options.lineWiseCopyCut){var U=$f(c);eu({lineWise:!0,text:U.text}),I.type=="cut"&&c.operation(function(){c.setSelections(U.ranges,0,Qt),c.replaceSelection("",null,"cut")})}else return;if(I.clipboardData){I.clipboardData.clearData();var rt=Si.text.join(`
`);if(I.clipboardData.setData("Text",rt),I.clipboardData.getData("Text")==rt){I.preventDefault();return}}var xt=ac(),At=xt.firstChild;oc(At),c.display.lineSpace.insertBefore(xt,c.display.lineSpace.firstChild),At.value=Si.text.join(`
`);var Gt=Mt(h.ownerDocument);F(At),setTimeout(function(){c.display.lineSpace.removeChild(xt),Gt.focus(),Gt==h&&f.showPrimarySelection()},50)}}we(h,"copy",O),we(h,"cut",O)},cr.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},cr.prototype.prepareSelection=function(){var o=Gc(this.cm,!1);return o.focus=Mt(this.div.ownerDocument)==this.div,o},cr.prototype.showSelection=function(o,s){!o||!this.cm.display.view.length||((o.focus||s)&&this.showPrimarySelection(),this.showMultipleSelections(o))},cr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},cr.prototype.showPrimarySelection=function(){var o=this.getSelection(),s=this.cm,f=s.doc.sel.primary(),c=f.from(),h=f.to();if(s.display.viewTo==s.display.viewFrom||c.line>=s.display.viewTo||h.line<s.display.viewFrom){o.removeAllRanges();return}var y=qs(s,o.anchorNode,o.anchorOffset),O=qs(s,o.focusNode,o.focusOffset);if(!(y&&!y.bad&&O&&!O.bad&&_t(ir(y,O),c)==0&&_t(Ge(y,O),h)==0)){var I=s.display.view,U=c.line>=s.display.viewFrom&&Yf(s,c)||{node:I[0].measure.map[2],offset:0},rt=h.line<s.display.viewTo&&Yf(s,h);if(!rt){var xt=I[I.length-1].measure,At=xt.maps?xt.maps[xt.maps.length-1]:xt.map;rt={node:At[At.length-1],offset:At[At.length-2]-At[At.length-3]}}if(!U||!rt){o.removeAllRanges();return}var Gt=o.rangeCount&&o.getRangeAt(0),Ht;try{Ht=N(U.node,U.offset,rt.offset,rt.node)}catch{}Ht&&(!w&&s.state.focused?(o.collapse(U.node,U.offset),Ht.collapsed||(o.removeAllRanges(),o.addRange(Ht))):(o.removeAllRanges(),o.addRange(Ht)),Gt&&o.anchorNode==null?o.addRange(Gt):w&&this.startGracePeriod()),this.rememberSelection()}},cr.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},cr.prototype.showMultipleSelections=function(o){pt(this.cm.display.cursorDiv,o.cursors),pt(this.cm.display.selectionDiv,o.selection)},cr.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},cr.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var s=o.getRangeAt(0).commonAncestorContainer;return kt(this.div,s)},cr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||Mt(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},cr.prototype.blur=function(){this.div.blur()},cr.prototype.getField=function(){return this.div},cr.prototype.supportsTouch=function(){return!0},cr.prototype.receivedFocus=function(){var o=this,s=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Rn(this.cm,function(){return s.cm.curOp.selectionChanged=!0});function f(){s.cm.state.focused&&(s.pollSelection(),s.polling.set(s.cm.options.pollInterval,f))}this.polling.set(this.cm.options.pollInterval,f)},cr.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},cr.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var o=this.getSelection(),s=this.cm;if(nt&&S&&this.cm.display.gutterSpecs.length&&Jp(o.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var f=qs(s,o.anchorNode,o.anchorOffset),c=qs(s,o.focusNode,o.focusOffset);f&&c&&Rn(s,function(){bn(s.doc,yo(f,c),Qt),(f.bad||c.bad)&&(s.curOp.selectionChanged=!0)})}}},cr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var o=this.cm,s=o.display,f=o.doc.sel.primary(),c=f.from(),h=f.to();if(c.ch==0&&c.line>o.firstLine()&&(c=K(c.line-1,De(o.doc,c.line-1).length)),h.ch==De(o.doc,h.line).text.length&&h.line<o.lastLine()&&(h=K(h.line+1,0)),c.line<s.viewFrom||h.line>s.viewTo-1)return!1;var y,O,I;c.line==s.viewFrom||(y=Zo(o,c.line))==0?(O=nr(s.view[0].line),I=s.view[0].node):(O=nr(s.view[y].line),I=s.view[y-1].node.nextSibling);var U=Zo(o,h.line),rt,xt;if(U==s.view.length-1?(rt=s.viewTo-1,xt=s.lineDiv.lastChild):(rt=nr(s.view[U+1].line)-1,xt=s.view[U+1].node.previousSibling),!I)return!1;for(var At=o.doc.splitLines(Qp(o,I,xt,O,rt)),Gt=mn(o.doc,K(O,0),K(rt,De(o.doc,rt).text.length));At.length>1&&Gt.length>1;)if(Bt(At)==Bt(Gt))At.pop(),Gt.pop(),rt--;else if(At[0]==Gt[0])At.shift(),Gt.shift(),O++;else break;for(var Ht=0,ie=0,se=At[0],_e=Gt[0],Ce=Math.min(se.length,_e.length);Ht<Ce&&se.charCodeAt(Ht)==_e.charCodeAt(Ht);)++Ht;for(var ke=Bt(At),Se=Bt(Gt),Ae=Math.min(ke.length-(At.length==1?Ht:0),Se.length-(Gt.length==1?Ht:0));ie<Ae&&ke.charCodeAt(ke.length-ie-1)==Se.charCodeAt(Se.length-ie-1);)++ie;if(At.length==1&&Gt.length==1&&O==c.line)for(;Ht&&Ht>c.ch&&ke.charCodeAt(ke.length-ie-1)==Se.charCodeAt(Se.length-ie-1);)Ht--,ie++;At[At.length-1]=ke.slice(0,ke.length-ie).replace(/^\u200b+/,""),At[0]=At[0].slice(Ht).replace(/\u200b+$/,"");var Be=K(O,Ht),Ne=K(rt,Gt.length?Bt(Gt).length-ie:0);if(At.length>1||At[0]||_t(Be,Ne))return Va(o.doc,At,Be,Ne,"+input"),!0},cr.prototype.ensurePolled=function(){this.forceCompositionEnd()},cr.prototype.reset=function(){this.forceCompositionEnd()},cr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},cr.prototype.readFromDOMSoon=function(){var o=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing)if(o.composing.done)o.composing=null;else return;o.updateFromDOM()},80))},cr.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Rn(this.cm,function(){return fn(o.cm)})},cr.prototype.setUneditable=function(o){o.contentEditable="false"},cr.prototype.onKeyPress=function(o){o.charCode==0||this.composing||(o.preventDefault(),this.cm.isReadOnly()||en(this.cm,ic)(this.cm,String.fromCharCode(o.charCode==null?o.keyCode:o.charCode),0))},cr.prototype.readOnlyChanged=function(o){this.div.contentEditable=String(o!="nocursor")},cr.prototype.onContextMenu=function(){},cr.prototype.resetPosition=function(){},cr.prototype.needsContentAttribute=!0;function Yf(o,s){var f=Ye(o,s.line);if(!f||f.hidden)return null;var c=De(o.doc,s.line),h=Wt(f,c,s.line),y=Me(c,o.doc.direction),O="left";if(y){var I=ce(y,s.ch);O=I%2?"right":"left"}var U=Ea(h.map,s.ch,O);return U.offset=U.collapse=="right"?U.end:U.start,U}function Jp(o){for(var s=o;s;s=s.parentNode)if(/CodeMirror-gutter-wrapper/.test(s.className))return!0;return!1}function $a(o,s){return s&&(o.bad=!0),o}function Qp(o,s,f,c,h){var y="",O=!1,I=o.doc.lineSeparator(),U=!1;function rt(Ht){return function(ie){return ie.id==Ht}}function xt(){O&&(y+=I,U&&(y+=I),O=U=!1)}function At(Ht){Ht&&(xt(),y+=Ht)}function Gt(Ht){if(Ht.nodeType==1){var ie=Ht.getAttribute("cm-text");if(ie){At(ie);return}var se=Ht.getAttribute("cm-marker"),_e;if(se){var Ce=o.findMarks(K(c,0),K(h+1,0),rt(+se));Ce.length&&(_e=Ce[0].find(0))&&At(mn(o.doc,_e.from,_e.to).join(I));return}if(Ht.getAttribute("contenteditable")=="false")return;var ke=/^(pre|div|p|li|table|br)$/i.test(Ht.nodeName);if(!/^br$/i.test(Ht.nodeName)&&Ht.textContent.length==0)return;ke&&xt();for(var Se=0;Se<Ht.childNodes.length;Se++)Gt(Ht.childNodes[Se]);/^(pre|p)$/i.test(Ht.nodeName)&&(U=!0),ke&&(O=!0)}else Ht.nodeType==3&&At(Ht.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Gt(s),s!=f;)s=s.nextSibling,U=!1;return y}function qs(o,s,f){var c;if(s==o.display.lineDiv){if(c=o.display.lineDiv.childNodes[f],!c)return $a(o.clipPos(K(o.display.viewTo-1)),!0);s=null,f=0}else for(c=s;;c=c.parentNode){if(!c||c==o.display.lineDiv)return null;if(c.parentNode&&c.parentNode==o.display.lineDiv)break}for(var h=0;h<o.display.view.length;h++){var y=o.display.view[h];if(y.node==c)return th(y,s,f)}}function th(o,s,f){var c=o.text.firstChild,h=!1;if(!s||!kt(c,s))return $a(K(nr(o.line),0),!0);if(s==c&&(h=!0,s=c.childNodes[f],f=0,!s)){var y=o.rest?Bt(o.rest):o.line;return $a(K(nr(y),y.text.length),h)}var O=s.nodeType==3?s:null,I=s;for(!O&&s.childNodes.length==1&&s.firstChild.nodeType==3&&(O=s.firstChild,f&&(f=O.nodeValue.length));I.parentNode!=c;)I=I.parentNode;var U=o.measure,rt=U.maps;function xt(_e,Ce,ke){for(var Se=-1;Se<(rt?rt.length:0);Se++)for(var Ae=Se<0?U.map:rt[Se],Be=0;Be<Ae.length;Be+=3){var Ne=Ae[Be+2];if(Ne==_e||Ne==Ce){var er=nr(Se<0?o.line:o.rest[Se]),xr=Ae[Be]+ke;return(ke<0||Ne!=_e)&&(xr=Ae[Be+(ke?1:0)]),K(er,xr)}}}var At=xt(O,I,f);if(At)return $a(At,h);for(var Gt=I.nextSibling,Ht=O?O.nodeValue.length-f:0;Gt;Gt=Gt.nextSibling){if(At=xt(Gt,Gt.firstChild,0),At)return $a(K(At.line,At.ch-Ht),h);Ht+=Gt.textContent.length}for(var ie=I.previousSibling,se=f;ie;ie=ie.previousSibling){if(At=xt(ie,ie.firstChild,-1),At)return $a(K(At.line,At.ch+se),h);se+=ie.textContent.length}}var zr=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new zt,this.hasSelection=!1,this.composing=null,this.resetting=!1};zr.prototype.init=function(o){var s=this,f=this,c=this.cm;this.createField(o);var h=this.textarea;o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),lt&&(h.style.width="0px"),we(h,"input",function(){M&&R>=9&&s.hasSelection&&(s.hasSelection=null),f.poll()}),we(h,"paste",function(O){Ke(c,O)||Kf(O,c)||(c.state.pasteIncoming=+new Date,f.fastPoll())});function y(O){if(!Ke(c,O)){if(c.somethingSelected())eu({lineWise:!1,text:c.getSelections()});else if(c.options.lineWiseCopyCut){var I=$f(c);eu({lineWise:!0,text:I.text}),O.type=="cut"?c.setSelections(I.ranges,null,Qt):(f.prevInput="",h.value=I.text.join(`
`),F(h))}else return;O.type=="cut"&&(c.state.cutIncoming=+new Date)}}we(h,"cut",y),we(h,"copy",y),we(o.scroller,"paste",function(O){if(!(bi(o,O)||Ke(c,O))){if(!h.dispatchEvent){c.state.pasteIncoming=+new Date,f.focus();return}var I=new Event("paste");I.clipboardData=O.clipboardData,h.dispatchEvent(I)}}),we(o.lineSpace,"selectstart",function(O){bi(o,O)||vt(O)}),we(h,"compositionstart",function(){var O=c.getCursor("from");f.composing&&f.composing.range.clear(),f.composing={start:O,range:c.markText(O,c.getCursor("to"),{className:"CodeMirror-composing"})}}),we(h,"compositionend",function(){f.composing&&(f.poll(),f.composing.range.clear(),f.composing=null)})},zr.prototype.createField=function(o){this.wrapper=ac(),this.textarea=this.wrapper.firstChild;var s=this.cm.options;oc(this.textarea,s.spellcheck,s.autocorrect,s.autocapitalize)},zr.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},zr.prototype.prepareSelection=function(){var o=this.cm,s=o.display,f=o.doc,c=Gc(o);if(o.options.moveInputWithCursor){var h=Un(o,f.sel.primary().head,"div"),y=s.wrapper.getBoundingClientRect(),O=s.lineDiv.getBoundingClientRect();c.teTop=Math.max(0,Math.min(s.wrapper.clientHeight-10,h.top+O.top-y.top)),c.teLeft=Math.max(0,Math.min(s.wrapper.clientWidth-10,h.left+O.left-y.left))}return c},zr.prototype.showSelection=function(o){var s=this.cm,f=s.display;pt(f.cursorDiv,o.cursors),pt(f.selectionDiv,o.selection),o.teTop!=null&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},zr.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var s=this.cm;if(this.resetting=!0,s.somethingSelected()){this.prevInput="";var f=s.getSelection();this.textarea.value=f,s.state.focused&&F(this.textarea),M&&R>=9&&(this.hasSelection=f)}else o||(this.prevInput=this.textarea.value="",M&&R>=9&&(this.hasSelection=null));this.resetting=!1}},zr.prototype.getField=function(){return this.textarea},zr.prototype.supportsTouch=function(){return!1},zr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!q||Mt(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},zr.prototype.blur=function(){this.textarea.blur()},zr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},zr.prototype.receivedFocus=function(){this.slowPoll()},zr.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},zr.prototype.fastPoll=function(){var o=!1,s=this;s.pollingFast=!0;function f(){var c=s.poll();!c&&!o?(o=!0,s.polling.set(60,f)):(s.pollingFast=!1,s.slowPoll())}s.polling.set(20,f)},zr.prototype.poll=function(){var o=this,s=this.cm,f=this.textarea,c=this.prevInput;if(this.contextMenuPending||this.resetting||!s.state.focused||Ln(f)&&!c&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var h=f.value;if(h==c&&!s.somethingSelected())return!1;if(M&&R>=9&&this.hasSelection===h||D&&/[\uf700-\uf7ff]/.test(h))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var y=h.charCodeAt(0);if(y==8203&&!c&&(c=""),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var O=0,I=Math.min(c.length,h.length);O<I&&c.charCodeAt(O)==h.charCodeAt(O);)++O;return Rn(s,function(){ic(s,h.slice(O),c.length-O,null,o.composing?"*compose":null),h.length>1e3||h.indexOf(`
`)>-1?f.value=o.prevInput="":o.prevInput=h,o.composing&&(o.composing.range.clear(),o.composing.range=s.markText(o.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},zr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},zr.prototype.onKeyPress=function(){M&&R>=9&&(this.hasSelection=null),this.fastPoll()},zr.prototype.onContextMenu=function(o){var s=this,f=s.cm,c=f.display,h=s.textarea;s.contextMenuPending&&s.contextMenuPending();var y=po(f,o),O=c.scroller.scrollTop;if(!y||T)return;var I=f.options.resetSelectionOnContextMenu;I&&f.doc.sel.contains(y)==-1&&en(f,bn)(f.doc,yo(y),Qt);var U=h.style.cssText,rt=s.wrapper.style.cssText,xt=s.wrapper.offsetParent.getBoundingClientRect();s.wrapper.style.cssText="position: static",h.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(o.clientY-xt.top-5)+"px; left: "+(o.clientX-xt.left-5)+`px;
      z-index: 1000; background: `+(M?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var At;b&&(At=h.ownerDocument.defaultView.scrollY),c.input.focus(),b&&h.ownerDocument.defaultView.scrollTo(null,At),c.input.reset(),f.somethingSelected()||(h.value=s.prevInput=" "),s.contextMenuPending=Ht,c.selForContextMenu=f.doc.sel,clearTimeout(c.detectingSelectAll);function Gt(){if(h.selectionStart!=null){var se=f.somethingSelected(),_e=""+(se?h.value:"");h.value="",h.value=_e,s.prevInput=se?"":"",h.selectionStart=1,h.selectionEnd=_e.length,c.selForContextMenu=f.doc.sel}}function Ht(){if(s.contextMenuPending==Ht&&(s.contextMenuPending=!1,s.wrapper.style.cssText=rt,h.style.cssText=U,M&&R<9&&c.scrollbars.setScrollTop(c.scroller.scrollTop=O),h.selectionStart!=null)){(!M||M&&R<9)&&Gt();var se=0,_e=function(){c.selForContextMenu==f.doc.sel&&h.selectionStart==0&&h.selectionEnd>0&&s.prevInput==""?en(f,gf)(f):se++<10?c.detectingSelectAll=setTimeout(_e,500):(c.selForContextMenu=null,c.input.reset())};c.detectingSelectAll=setTimeout(_e,200)}}if(M&&R>=9&&Gt(),Q){fe(o);var ie=function(){Ie(window,"mouseup",ie),setTimeout(Ht,20)};we(window,"mouseup",ie)}else setTimeout(Ht,50)},zr.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled=o=="nocursor",this.textarea.readOnly=!!o},zr.prototype.setUneditable=function(){},zr.prototype.needsContentAttribute=!1;function eh(o,s){if(s=s?ge(s):{},s.value=o.value,!s.tabindex&&o.tabIndex&&(s.tabindex=o.tabIndex),!s.placeholder&&o.placeholder&&(s.placeholder=o.placeholder),s.autofocus==null){var f=Mt(o.ownerDocument);s.autofocus=f==o||o.getAttribute("autofocus")!=null&&f==document.body}function c(){o.value=I.getValue()}var h;if(o.form&&(we(o.form,"submit",c),!s.leaveSubmitMethodAlone)){var y=o.form;h=y.submit;try{var O=y.submit=function(){c(),y.submit=h,y.submit(),y.submit=O}}catch{}}s.finishInit=function(U){U.save=c,U.getTextArea=function(){return o},U.toTextArea=function(){U.toTextArea=isNaN,c(),o.parentNode.removeChild(U.getWrapperElement()),o.style.display="",o.form&&(Ie(o.form,"submit",c),!s.leaveSubmitMethodAlone&&typeof o.form.submit=="function"&&(o.form.submit=h))}},o.style.display="none";var I=Or(function(U){return o.parentNode.insertBefore(U,o.nextSibling)},s);return I}function Xf(o){o.off=Ie,o.on=we,o.wheelEventPixels=Qc,o.Doc=Fn,o.splitLines=Sn,o.countColumn=Ct,o.findColumn=Rt,o.isWordChar=Z,o.Pass=oe,o.signal=sr,o.Line=yi,o.changeEnd=_o,o.scrollbarModel=ta,o.Pos=K,o.cmpPos=_t,o.modes=Yr,o.mimeModes=Dn,o.resolveMode=$n,o.getMode=ln,o.modeExtensions=Xr,o.extendMode=ai,o.copyState=Hn,o.startState=Nr,o.innerMode=In,o.commands=Ks,o.keyMap=Li,o.keyName=Af,o.isModifierKey=Pf,o.lookupKey=Wa,o.normalizeKeyMap=So,o.StringStream=pr,o.SharedTextMarker=Bs,o.TextMarker=Co,o.LineWidget=za,o.e_preventDefault=vt,o.e_stopPropagation=jt,o.e_stop=fe,o.addClass=gt,o.contains=kt,o.rmClass=X,o.keyNames=Ki}zf(Or),Zf(Or);var rh="iter insert remove copy getEditor constructor".split(" ");for(var ru in Fn.prototype)Fn.prototype.hasOwnProperty(ru)&&Pt(rh,ru)<0&&(Or.prototype[ru]=function(o){return function(){return o.apply(this.doc,arguments)}}(Fn.prototype[ru]));return Rr(Fn),Or.inputStyles={textarea:zr,contenteditable:cr},Or.defineMode=function(o){!Or.defaults.mode&&o!="null"&&(Or.defaults.mode=o),oi.apply(this,arguments)},Or.defineMIME=Qi,Or.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Or.defineMIME("text/plain","null"),Or.defineExtension=function(o,s){Or.prototype[o]=s},Or.defineDocExtension=function(o,s){Fn.prototype[o]=s},Or.fromTextArea=eh,Xf(Or),Or.version="5.65.15",Or})},629:(u,g,_)=>{(function(w){w(_(631))})(function(w){w.defineMode("css",function(X,et){var pt=et.inline;et.propertyKeywords||(et=w.resolveMode("text/css"));var $=X.indentUnit,mt=et.tokenHooks,N=et.documentTypes||{},kt=et.mediaTypes||{},Mt=et.mediaFeatures||{},gt=et.mediaValueKeywords||{},Kt=et.propertyKeywords||{},F=et.nonStandardPropertyKeywords||{},Lt=et.fontProperties||{},le=et.counterDescriptors||{},Nt=et.colorKeywords||{},ge=et.valueKeywords||{},Ct=et.allowNested,zt=et.lineComment,Pt=et.supportsAtComponent===!0,It=X.highlightNonStandardPropertyKeywords!==!1,oe,Qt;function re(Z,Y){return oe=Y,Z}function Tt(Z,Y){var z=Z.next();if(mt[z]){var Ot=mt[z](Z,Y);if(Ot!==!1)return Ot}if(z=="@")return Z.eatWhile(/[\w\\\-]/),re("def",Z.current());if(z=="="||(z=="~"||z=="|")&&Z.eat("="))return re(null,"compare");if(z=='"'||z=="'")return Y.tokenize=Rt(z),Y.tokenize(Z,Y);if(z=="#")return Z.eatWhile(/[\w\\\-]/),re("atom","hash");if(z=="!")return Z.match(/^\s*\w*/),re("keyword","important");if(/\d/.test(z)||z=="."&&Z.eat(/\d/))return Z.eatWhile(/[\w.%]/),re("number","unit");if(z==="-"){if(/[\d.]/.test(Z.peek()))return Z.eatWhile(/[\w.%]/),re("number","unit");if(Z.match(/^-[\w\\\-]*/))return Z.eatWhile(/[\w\\\-]/),Z.match(/^\s*:/,!1)?re("variable-2","variable-definition"):re("variable-2","variable");if(Z.match(/^\w+-/))return re("meta","meta")}else return/[,+>*\/]/.test(z)?re(null,"select-op"):z=="."&&Z.match(/^-?[_a-z][_a-z0-9-]*/i)?re("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(z)?re(null,z):Z.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Z.current())&&(Y.tokenize=Yt),re("variable callee","variable")):/[\w\\\-]/.test(z)?(Z.eatWhile(/[\w\\\-]/),re("property","word")):re(null,null)}function Rt(Z){return function(Y,z){for(var Ot=!1,Zt;(Zt=Y.next())!=null;){if(Zt==Z&&!Ot){Z==")"&&Y.backUp(1);break}Ot=!Ot&&Zt=="\\"}return(Zt==Z||!Ot&&Z!=")")&&(z.tokenize=null),re("string","string")}}function Yt(Z,Y){return Z.next(),Z.match(/^\s*[\"\')]/,!1)?Y.tokenize=null:Y.tokenize=Rt(")"),re(null,"(")}function ee(Z,Y,z){this.type=Z,this.indent=Y,this.prev=z}function Bt(Z,Y,z,Ot){return Z.context=new ee(z,Y.indentation()+(Ot===!1?0:$),Z.context),z}function V(Z){return Z.context.prev&&(Z.context=Z.context.prev),Z.context.type}function ot(Z,Y,z){return ft[z.context.type](Z,Y,z)}function dt(Z,Y,z,Ot){for(var Zt=Ot||1;Zt>0;Zt--)z.context=z.context.prev;return ot(Z,Y,z)}function C(Z){var Y=Z.current().toLowerCase();ge.hasOwnProperty(Y)?Qt="atom":Nt.hasOwnProperty(Y)?Qt="keyword":Qt="variable"}var ft={};return ft.top=function(Z,Y,z){if(Z=="{")return Bt(z,Y,"block");if(Z=="}"&&z.context.prev)return V(z);if(Pt&&/@component/i.test(Z))return Bt(z,Y,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Z))return Bt(z,Y,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Z))return Bt(z,Y,"atBlock");if(/^@(font-face|counter-style)/i.test(Z))return z.stateArg=Z,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Z))return"keyframes";if(Z&&Z.charAt(0)=="@")return Bt(z,Y,"at");if(Z=="hash")Qt="builtin";else if(Z=="word")Qt="tag";else{if(Z=="variable-definition")return"maybeprop";if(Z=="interpolation")return Bt(z,Y,"interpolation");if(Z==":")return"pseudo";if(Ct&&Z=="(")return Bt(z,Y,"parens")}return z.context.type},ft.block=function(Z,Y,z){if(Z=="word"){var Ot=Y.current().toLowerCase();return Kt.hasOwnProperty(Ot)?(Qt="property","maybeprop"):F.hasOwnProperty(Ot)?(Qt=It?"string-2":"property","maybeprop"):Ct?(Qt=Y.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Qt+=" error","maybeprop")}else return Z=="meta"?"block":!Ct&&(Z=="hash"||Z=="qualifier")?(Qt="error","block"):ft.top(Z,Y,z)},ft.maybeprop=function(Z,Y,z){return Z==":"?Bt(z,Y,"prop"):ot(Z,Y,z)},ft.prop=function(Z,Y,z){if(Z==";")return V(z);if(Z=="{"&&Ct)return Bt(z,Y,"propBlock");if(Z=="}"||Z=="{")return dt(Z,Y,z);if(Z=="(")return Bt(z,Y,"parens");if(Z=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(Y.current()))Qt+=" error";else if(Z=="word")C(Y);else if(Z=="interpolation")return Bt(z,Y,"interpolation");return"prop"},ft.propBlock=function(Z,Y,z){return Z=="}"?V(z):Z=="word"?(Qt="property","maybeprop"):z.context.type},ft.parens=function(Z,Y,z){return Z=="{"||Z=="}"?dt(Z,Y,z):Z==")"?V(z):Z=="("?Bt(z,Y,"parens"):Z=="interpolation"?Bt(z,Y,"interpolation"):(Z=="word"&&C(Y),"parens")},ft.pseudo=function(Z,Y,z){return Z=="meta"?"pseudo":Z=="word"?(Qt="variable-3",z.context.type):ot(Z,Y,z)},ft.documentTypes=function(Z,Y,z){return Z=="word"&&N.hasOwnProperty(Y.current())?(Qt="tag",z.context.type):ft.atBlock(Z,Y,z)},ft.atBlock=function(Z,Y,z){if(Z=="(")return Bt(z,Y,"atBlock_parens");if(Z=="}"||Z==";")return dt(Z,Y,z);if(Z=="{")return V(z)&&Bt(z,Y,Ct?"block":"top");if(Z=="interpolation")return Bt(z,Y,"interpolation");if(Z=="word"){var Ot=Y.current().toLowerCase();Ot=="only"||Ot=="not"||Ot=="and"||Ot=="or"?Qt="keyword":kt.hasOwnProperty(Ot)?Qt="attribute":Mt.hasOwnProperty(Ot)?Qt="property":gt.hasOwnProperty(Ot)?Qt="keyword":Kt.hasOwnProperty(Ot)?Qt="property":F.hasOwnProperty(Ot)?Qt=It?"string-2":"property":ge.hasOwnProperty(Ot)?Qt="atom":Nt.hasOwnProperty(Ot)?Qt="keyword":Qt="error"}return z.context.type},ft.atComponentBlock=function(Z,Y,z){return Z=="}"?dt(Z,Y,z):Z=="{"?V(z)&&Bt(z,Y,Ct?"block":"top",!1):(Z=="word"&&(Qt="error"),z.context.type)},ft.atBlock_parens=function(Z,Y,z){return Z==")"?V(z):Z=="{"||Z=="}"?dt(Z,Y,z,2):ft.atBlock(Z,Y,z)},ft.restricted_atBlock_before=function(Z,Y,z){return Z=="{"?Bt(z,Y,"restricted_atBlock"):Z=="word"&&z.stateArg=="@counter-style"?(Qt="variable","restricted_atBlock_before"):ot(Z,Y,z)},ft.restricted_atBlock=function(Z,Y,z){return Z=="}"?(z.stateArg=null,V(z)):Z=="word"?(z.stateArg=="@font-face"&&!Lt.hasOwnProperty(Y.current().toLowerCase())||z.stateArg=="@counter-style"&&!le.hasOwnProperty(Y.current().toLowerCase())?Qt="error":Qt="property","maybeprop"):"restricted_atBlock"},ft.keyframes=function(Z,Y,z){return Z=="word"?(Qt="variable","keyframes"):Z=="{"?Bt(z,Y,"top"):ot(Z,Y,z)},ft.at=function(Z,Y,z){return Z==";"?V(z):Z=="{"||Z=="}"?dt(Z,Y,z):(Z=="word"?Qt="tag":Z=="hash"&&(Qt="builtin"),"at")},ft.interpolation=function(Z,Y,z){return Z=="}"?V(z):Z=="{"||Z==";"?dt(Z,Y,z):(Z=="word"?Qt="variable":Z!="variable"&&Z!="("&&Z!=")"&&(Qt="error"),"interpolation")},{startState:function(Z){return{tokenize:null,state:pt?"block":"top",stateArg:null,context:new ee(pt?"block":"top",Z||0,null)}},token:function(Z,Y){if(!Y.tokenize&&Z.eatSpace())return null;var z=(Y.tokenize||Tt)(Z,Y);return z&&typeof z=="object"&&(oe=z[1],z=z[0]),Qt=z,oe!="comment"&&(Y.state=ft[Y.state](oe,Z,Y)),Qt},indent:function(Z,Y){var z=Z.context,Ot=Y&&Y.charAt(0),Zt=z.indent;return z.type=="prop"&&(Ot=="}"||Ot==")")&&(z=z.prev),z.prev&&(Ot=="}"&&(z.type=="block"||z.type=="top"||z.type=="interpolation"||z.type=="restricted_atBlock")?(z=z.prev,Zt=z.indent):(Ot==")"&&(z.type=="parens"||z.type=="atBlock_parens")||Ot=="{"&&(z.type=="at"||z.type=="atBlock"))&&(Zt=Math.max(0,z.indent-$))),Zt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:zt,fold:"brace"}});function A(X){for(var et={},pt=0;pt<X.length;++pt)et[X[pt].toLowerCase()]=!0;return et}var P=["domain","regexp","url","url-prefix"],j=A(P),M=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],R=A(M),b=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],k=A(b),S=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],x=A(S),T=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],L=A(T),H=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],tt=A(H),lt=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],nt=A(lt),q=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],D=A(q),at=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],W=A(at),st=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],it=A(st),Q=P.concat(M).concat(b).concat(S).concat(T).concat(H).concat(at).concat(st);w.registerHelper("hintWords","css",Q);function ut(X,et){for(var pt=!1,$;($=X.next())!=null;){if(pt&&$=="/"){et.tokenize=null;break}pt=$=="*"}return["comment","comment"]}w.defineMIME("text/css",{documentTypes:j,mediaTypes:R,mediaFeatures:k,mediaValueKeywords:x,propertyKeywords:L,nonStandardPropertyKeywords:tt,fontProperties:nt,counterDescriptors:D,colorKeywords:W,valueKeywords:it,tokenHooks:{"/":function(X,et){return X.eat("*")?(et.tokenize=ut,ut(X,et)):!1}},name:"css"}),w.defineMIME("text/x-scss",{mediaTypes:R,mediaFeatures:k,mediaValueKeywords:x,propertyKeywords:L,nonStandardPropertyKeywords:tt,colorKeywords:W,valueKeywords:it,fontProperties:nt,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(X,et){return X.eat("/")?(X.skipToEnd(),["comment","comment"]):X.eat("*")?(et.tokenize=ut,ut(X,et)):["operator","operator"]},":":function(X){return X.match(/^\s*\{/,!1)?[null,null]:!1},$:function(X){return X.match(/^[\w-]+/),X.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(X){return X.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),w.defineMIME("text/x-less",{mediaTypes:R,mediaFeatures:k,mediaValueKeywords:x,propertyKeywords:L,nonStandardPropertyKeywords:tt,colorKeywords:W,valueKeywords:it,fontProperties:nt,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(X,et){return X.eat("/")?(X.skipToEnd(),["comment","comment"]):X.eat("*")?(et.tokenize=ut,ut(X,et)):["operator","operator"]},"@":function(X){return X.eat("{")?[null,"interpolation"]:X.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(X.eatWhile(/[\w\\\-]/),X.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),w.defineMIME("text/x-gss",{documentTypes:j,mediaTypes:R,mediaFeatures:k,propertyKeywords:L,nonStandardPropertyKeywords:tt,fontProperties:nt,counterDescriptors:D,colorKeywords:W,valueKeywords:it,supportsAtComponent:!0,tokenHooks:{"/":function(X,et){return X.eat("*")?(et.tokenize=ut,ut(X,et)):!1}},name:"css",helperType:"gss"})})},531:(u,g,_)=>{(function(w){w(_(631),_(589),_(876),_(629))})(function(w){var A={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function P(x,T,L){var H=x.current(),tt=H.search(T);return tt>-1?x.backUp(H.length-tt):H.match(/<\/?$/)&&(x.backUp(H.length),x.match(T,!1)||x.match(H)),L}var j={};function M(x){var T=j[x];return T||(j[x]=new RegExp("\\s+"+x+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function R(x,T){var L=x.match(M(T));return L?/^\s*(.*?)\s*$/.exec(L[2])[1]:""}function b(x,T){return new RegExp((T?"^":"")+"</\\s*"+x+"\\s*>","i")}function k(x,T){for(var L in x)for(var H=T[L]||(T[L]=[]),tt=x[L],lt=tt.length-1;lt>=0;lt--)H.unshift(tt[lt])}function S(x,T){for(var L=0;L<x.length;L++){var H=x[L];if(!H[0]||H[1].test(R(T,H[0])))return H[2]}}w.defineMode("htmlmixed",function(x,T){var L=w.getMode(x,{name:"xml",htmlMode:!0,multilineTagIndentFactor:T.multilineTagIndentFactor,multilineTagIndentPastTag:T.multilineTagIndentPastTag,allowMissingTagName:T.allowMissingTagName}),H={},tt=T&&T.tags,lt=T&&T.scriptTypes;if(k(A,H),tt&&k(tt,H),lt)for(var nt=lt.length-1;nt>=0;nt--)H.script.unshift(["type",lt[nt].matches,lt[nt].mode]);function q(D,at){var W=L.token(D,at.htmlState),st=/\btag\b/.test(W),it;if(st&&!/[<>\s\/]/.test(D.current())&&(it=at.htmlState.tagName&&at.htmlState.tagName.toLowerCase())&&H.hasOwnProperty(it))at.inTag=it+" ";else if(at.inTag&&st&&/>$/.test(D.current())){var Q=/^([\S]+) (.*)/.exec(at.inTag);at.inTag=null;var ut=D.current()==">"&&S(H[Q[1]],Q[2]),X=w.getMode(x,ut),et=b(Q[1],!0),pt=b(Q[1],!1);at.token=function($,mt){return $.match(et,!1)?(mt.token=q,mt.localState=mt.localMode=null,null):P($,pt,mt.localMode.token($,mt.localState))},at.localMode=X,at.localState=w.startState(X,L.indent(at.htmlState,"",""))}else at.inTag&&(at.inTag+=D.current(),D.eol()&&(at.inTag+=" "));return W}return{startState:function(){var D=w.startState(L);return{token:q,inTag:null,localMode:null,localState:null,htmlState:D}},copyState:function(D){var at;return D.localState&&(at=w.copyState(D.localMode,D.localState)),{token:D.token,inTag:D.inTag,localMode:D.localMode,localState:at,htmlState:w.copyState(L,D.htmlState)}},token:function(D,at){return at.token(D,at)},indent:function(D,at,W){return!D.localMode||/^\s*<\//.test(at)?L.indent(D.htmlState,at,W):D.localMode.indent?D.localMode.indent(D.localState,at,W):w.Pass},innerMode:function(D){return{state:D.localState||D.htmlState,mode:D.localMode||L}}}},"xml","javascript","css"),w.defineMIME("text/html","htmlmixed")})},876:(u,g,_)=>{(function(w){w(_(631))})(function(w){w.defineMode("javascript",function(A,P){var j=A.indentUnit,M=P.statementIndent,R=P.jsonld,b=P.json||R,k=P.trackScope!==!1,S=P.typescript,x=P.wordCharacters||/[\w$\xa1-\uffff]/,T=function(){function K(je){return{type:je,style:"keyword"}}var _t=K("keyword a"),ue=K("keyword b"),me=K("keyword c"),Ge=K("keyword d"),ir=K("operator"),fr={type:"atom",style:"atom"};return{if:K("if"),while:_t,with:_t,else:ue,do:ue,try:ue,finally:ue,return:Ge,break:Ge,continue:Ge,new:K("new"),delete:me,void:me,throw:me,debugger:K("debugger"),var:K("var"),const:K("var"),let:K("var"),function:K("function"),catch:K("catch"),for:K("for"),switch:K("switch"),case:K("case"),default:K("default"),in:ir,typeof:ir,instanceof:ir,true:fr,false:fr,null:fr,undefined:fr,NaN:fr,Infinity:fr,this:K("this"),class:K("class"),super:K("atom"),yield:me,export:K("export"),import:K("import"),extends:me,await:me}}(),L=/[+\-*&%=<>!?|~^@]/,H=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function tt(K){for(var _t=!1,ue,me=!1;(ue=K.next())!=null;){if(!_t){if(ue=="/"&&!me)return;ue=="["?me=!0:me&&ue=="]"&&(me=!1)}_t=!_t&&ue=="\\"}}var lt,nt;function q(K,_t,ue){return lt=K,nt=ue,_t}function D(K,_t){var ue=K.next();if(ue=='"'||ue=="'")return _t.tokenize=at(ue),_t.tokenize(K,_t);if(ue=="."&&K.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return q("number","number");if(ue=="."&&K.match(".."))return q("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ue))return q(ue);if(ue=="="&&K.eat(">"))return q("=>","operator");if(ue=="0"&&K.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return q("number","number");if(/\d/.test(ue))return K.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),q("number","number");if(ue=="/")return K.eat("*")?(_t.tokenize=W,W(K,_t)):K.eat("/")?(K.skipToEnd(),q("comment","comment")):On(K,_t,1)?(tt(K),K.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),q("regexp","string-2")):(K.eat("="),q("operator","operator",K.current()));if(ue=="`")return _t.tokenize=st,st(K,_t);if(ue=="#"&&K.peek()=="!")return K.skipToEnd(),q("meta","meta");if(ue=="#"&&K.eatWhile(x))return q("variable","property");if(ue=="<"&&K.match("!--")||ue=="-"&&K.match("->")&&!/\S/.test(K.string.slice(0,K.start)))return K.skipToEnd(),q("comment","comment");if(L.test(ue))return(ue!=">"||!_t.lexical||_t.lexical.type!=">")&&(K.eat("=")?(ue=="!"||ue=="=")&&K.eat("="):/[<>*+\-|&?]/.test(ue)&&(K.eat(ue),ue==">"&&K.eat(ue))),ue=="?"&&K.eat(".")?q("."):q("operator","operator",K.current());if(x.test(ue)){K.eatWhile(x);var me=K.current();if(_t.lastType!="."){if(T.propertyIsEnumerable(me)){var Ge=T[me];return q(Ge.type,Ge.style,me)}if(me=="async"&&K.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return q("async","keyword",me)}return q("variable","variable",me)}}function at(K){return function(_t,ue){var me=!1,Ge;if(R&&_t.peek()=="@"&&_t.match(H))return ue.tokenize=D,q("jsonld-keyword","meta");for(;(Ge=_t.next())!=null&&!(Ge==K&&!me);)me=!me&&Ge=="\\";return me||(ue.tokenize=D),q("string","string")}}function W(K,_t){for(var ue=!1,me;me=K.next();){if(me=="/"&&ue){_t.tokenize=D;break}ue=me=="*"}return q("comment","comment")}function st(K,_t){for(var ue=!1,me;(me=K.next())!=null;){if(!ue&&(me=="`"||me=="$"&&K.eat("{"))){_t.tokenize=D;break}ue=!ue&&me=="\\"}return q("quasi","string-2",K.current())}var it="([{}])";function Q(K,_t){_t.fatArrowAt&&(_t.fatArrowAt=null);var ue=K.string.indexOf("=>",K.start);if(!(ue<0)){if(S){var me=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(K.string.slice(K.start,ue));me&&(ue=me.index)}for(var Ge=0,ir=!1,fr=ue-1;fr>=0;--fr){var je=K.string.charAt(fr),Tr=it.indexOf(je);if(Tr>=0&&Tr<3){if(!Ge){++fr;break}if(--Ge==0){je=="("&&(ir=!0);break}}else if(Tr>=3&&Tr<6)++Ge;else if(x.test(je))ir=!0;else if(/["'\/`]/.test(je))for(;;--fr){if(fr==0)return;var Fi=K.string.charAt(fr-1);if(Fi==je&&K.string.charAt(fr-2)!="\\"){fr--;break}}else if(ir&&!Ge){++fr;break}}ir&&!Ge&&(_t.fatArrowAt=fr)}}var ut={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function X(K,_t,ue,me,Ge,ir){this.indented=K,this.column=_t,this.type=ue,this.prev=Ge,this.info=ir,me!=null&&(this.align=me)}function et(K,_t){if(!k)return!1;for(var ue=K.localVars;ue;ue=ue.next)if(ue.name==_t)return!0;for(var me=K.context;me;me=me.prev)for(var ue=me.vars;ue;ue=ue.next)if(ue.name==_t)return!0}function pt(K,_t,ue,me,Ge){var ir=K.cc;for($.state=K,$.stream=Ge,$.marked=null,$.cc=ir,$.style=_t,K.lexical.hasOwnProperty("align")||(K.lexical.align=!0);;){var fr=ir.length?ir.pop():b?re:oe;if(fr(ue,me)){for(;ir.length&&ir[ir.length-1].lex;)ir.pop()();return $.marked?$.marked:ue=="variable"&&et(K,me)?"variable-2":_t}}}var $={state:null,column:null,marked:null,cc:null};function mt(){for(var K=arguments.length-1;K>=0;K--)$.cc.push(arguments[K])}function N(){return mt.apply(null,arguments),!0}function kt(K,_t){for(var ue=_t;ue;ue=ue.next)if(ue.name==K)return!0;return!1}function Mt(K){var _t=$.state;if($.marked="def",!!k){if(_t.context){if(_t.lexical.info=="var"&&_t.context&&_t.context.block){var ue=gt(K,_t.context);if(ue!=null){_t.context=ue;return}}else if(!kt(K,_t.localVars)){_t.localVars=new Lt(K,_t.localVars);return}}P.globalVars&&!kt(K,_t.globalVars)&&(_t.globalVars=new Lt(K,_t.globalVars))}}function gt(K,_t){if(_t)if(_t.block){var ue=gt(K,_t.prev);return ue?ue==_t.prev?_t:new F(ue,_t.vars,!0):null}else return kt(K,_t.vars)?_t:new F(_t.prev,new Lt(K,_t.vars),!1);else return null}function Kt(K){return K=="public"||K=="private"||K=="protected"||K=="abstract"||K=="readonly"}function F(K,_t,ue){this.prev=K,this.vars=_t,this.block=ue}function Lt(K,_t){this.name=K,this.next=_t}var le=new Lt("this",new Lt("arguments",null));function Nt(){$.state.context=new F($.state.context,$.state.localVars,!1),$.state.localVars=le}function ge(){$.state.context=new F($.state.context,$.state.localVars,!0),$.state.localVars=null}Nt.lex=ge.lex=!0;function Ct(){$.state.localVars=$.state.context.vars,$.state.context=$.state.context.prev}Ct.lex=!0;function zt(K,_t){var ue=function(){var me=$.state,Ge=me.indented;if(me.lexical.type=="stat")Ge=me.lexical.indented;else for(var ir=me.lexical;ir&&ir.type==")"&&ir.align;ir=ir.prev)Ge=ir.indented;me.lexical=new X(Ge,$.stream.column(),K,null,me.lexical,_t)};return ue.lex=!0,ue}function Pt(){var K=$.state;K.lexical.prev&&(K.lexical.type==")"&&(K.indented=K.lexical.indented),K.lexical=K.lexical.prev)}Pt.lex=!0;function It(K){function _t(ue){return ue==K?N():K==";"||ue=="}"||ue==")"||ue=="]"?mt():N(_t)}return _t}function oe(K,_t){return K=="var"?N(zt("vardef",_t),Ve,It(";"),Pt):K=="keyword a"?N(zt("form"),Rt,oe,Pt):K=="keyword b"?N(zt("form"),oe,Pt):K=="keyword d"?$.stream.match(/^\s*$/,!1)?N():N(zt("stat"),ee,It(";"),Pt):K=="debugger"?N(It(";")):K=="{"?N(zt("}"),ge,he,Pt,Ct):K==";"?N():K=="if"?($.state.lexical.info=="else"&&$.state.cc[$.state.cc.length-1]==Pt&&$.state.cc.pop()(),N(zt("form"),Rt,oe,Pt,Sn)):K=="function"?N(kr):K=="for"?N(zt("form"),ge,Ln,oe,Ct,Pt):K=="class"||S&&_t=="interface"?($.marked="keyword",N(zt("form",K=="class"?K:_t),$n,Pt)):K=="variable"?S&&_t=="declare"?($.marked="keyword",N(oe)):S&&(_t=="module"||_t=="enum"||_t=="type")&&$.stream.match(/^\s*\w/,!1)?($.marked="keyword",_t=="enum"?N(nr):_t=="type"?N(Dn,It("operator"),Ie,It(";")):N(zt("form"),Xe,It("{"),zt("}"),he,Pt,Pt)):S&&_t=="namespace"?($.marked="keyword",N(zt("form"),re,oe,Pt)):S&&_t=="abstract"?($.marked="keyword",N(oe)):N(zt("stat"),Ot):K=="switch"?N(zt("form"),Rt,It("{"),zt("}","switch"),ge,he,Pt,Pt,Ct):K=="case"?N(re,It(":")):K=="default"?N(It(":")):K=="catch"?N(zt("form"),Nt,Qt,oe,Pt,Ct):K=="export"?N(zt("stat"),Hn,Pt):K=="import"?N(zt("stat"),Nr,Pt):K=="async"?N(oe):_t=="@"?N(re,oe):mt(zt("stat"),re,It(";"),Pt)}function Qt(K){if(K=="(")return N(oi,It(")"))}function re(K,_t){return Yt(K,_t,!1)}function Tt(K,_t){return Yt(K,_t,!0)}function Rt(K){return K!="("?mt():N(zt(")"),ee,It(")"),Pt)}function Yt(K,_t,ue){if($.state.fatArrowAt==$.stream.start){var me=ue?ft:C;if(K=="(")return N(Nt,zt(")"),ne(oi,")"),Pt,It("=>"),me,Ct);if(K=="variable")return mt(Nt,Xe,It("=>"),me,Ct)}var Ge=ue?V:Bt;return ut.hasOwnProperty(K)?N(Ge):K=="function"?N(kr,Ge):K=="class"||S&&_t=="interface"?($.marked="keyword",N(zt("form"),Qi,Pt)):K=="keyword c"||K=="async"?N(ue?Tt:re):K=="("?N(zt(")"),ee,It(")"),Pt,Ge):K=="operator"||K=="spread"?N(ue?Tt:re):K=="["?N(zt("]"),Wr,Pt,Ge):K=="{"?ce(Jt,"}",null,Ge):K=="quasi"?mt(ot,Ge):K=="new"?N(Z(ue)):N()}function ee(K){return K.match(/[;\}\)\],]/)?mt():mt(re)}function Bt(K,_t){return K==","?N(ee):V(K,_t,!1)}function V(K,_t,ue){var me=ue==!1?Bt:V,Ge=ue==!1?re:Tt;if(K=="=>")return N(Nt,ue?ft:C,Ct);if(K=="operator")return/\+\+|--/.test(_t)||S&&_t=="!"?N(me):S&&_t=="<"&&$.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?N(zt(">"),ne(Ie,">"),Pt,me):_t=="?"?N(re,It(":"),Ge):N(Ge);if(K=="quasi")return mt(ot,me);if(K!=";"){if(K=="(")return ce(Tt,")","call",me);if(K==".")return N(Zt,me);if(K=="[")return N(zt("]"),ee,It("]"),Pt,me);if(S&&_t=="as")return $.marked="keyword",N(Ie,me);if(K=="regexp")return $.state.lastType=$.marked="operator",$.stream.backUp($.stream.pos-$.stream.start-1),N(Ge)}}function ot(K,_t){return K!="quasi"?mt():_t.slice(_t.length-2)!="${"?N(ot):N(ee,dt)}function dt(K){if(K=="}")return $.marked="string-2",$.state.tokenize=st,N(ot)}function C(K){return Q($.stream,$.state),mt(K=="{"?oe:re)}function ft(K){return Q($.stream,$.state),mt(K=="{"?oe:Tt)}function Z(K){return function(_t){return _t=="."?N(K?z:Y):_t=="variable"&&S?N(Ut,K?V:Bt):mt(K?Tt:re)}}function Y(K,_t){if(_t=="target")return $.marked="keyword",N(Bt)}function z(K,_t){if(_t=="target")return $.marked="keyword",N(V)}function Ot(K){return K==":"?N(Pt,oe):mt(Bt,It(";"),Pt)}function Zt(K){if(K=="variable")return $.marked="property",N()}function Jt(K,_t){if(K=="async")return $.marked="property",N(Jt);if(K=="variable"||$.style=="keyword"){if($.marked="property",_t=="get"||_t=="set")return N(Ft);var ue;return S&&$.state.fatArrowAt==$.stream.start&&(ue=$.stream.match(/^\s*:\s*/,!1))&&($.state.fatArrowAt=$.stream.pos+ue[0].length),N(ae)}else{if(K=="number"||K=="string")return $.marked=R?"property":$.style+" property",N(ae);if(K=="jsonld-keyword")return N(ae);if(S&&Kt(_t))return $.marked="keyword",N(Jt);if(K=="[")return N(re,Me,It("]"),ae);if(K=="spread")return N(Tt,ae);if(_t=="*")return $.marked="keyword",N(Jt);if(K==":")return mt(ae)}}function Ft(K){return K!="variable"?mt(ae):($.marked="property",N(kr))}function ae(K){if(K==":")return N(Tt);if(K=="(")return mt(kr)}function ne(K,_t,ue){function me(Ge,ir){if(ue?ue.indexOf(Ge)>-1:Ge==","){var fr=$.state.lexical;return fr.info=="call"&&(fr.pos=(fr.pos||0)+1),N(function(je,Tr){return je==_t||Tr==_t?mt():mt(K)},me)}return Ge==_t||ir==_t?N():ue&&ue.indexOf(";")>-1?mt(K):N(It(_t))}return function(Ge,ir){return Ge==_t||ir==_t?N():mt(K,me)}}function ce(K,_t,ue){for(var me=3;me<arguments.length;me++)$.cc.push(arguments[me]);return N(zt(_t,ue),ne(K,_t),Pt)}function he(K){return K=="}"?N():mt(oe,he)}function Me(K,_t){if(S){if(K==":")return N(Ie);if(_t=="?")return N(Me)}}function Fe(K,_t){if(S&&(K==":"||_t=="in"))return N(Ie)}function we(K){if(S&&K==":")return $.stream.match(/^\s*\w+\s+is\b/,!1)?N(re,ar,Ie):N(Ie)}function ar(K,_t){if(_t=="is")return $.marked="keyword",N()}function Ie(K,_t){if(_t=="keyof"||_t=="typeof"||_t=="infer"||_t=="readonly")return $.marked="keyword",N(_t=="typeof"?Tt:Ie);if(K=="variable"||_t=="void")return $.marked="type",N(jt);if(_t=="|"||_t=="&")return N(Ie);if(K=="string"||K=="number"||K=="atom")return N(jt);if(K=="[")return N(zt("]"),ne(Ie,"]",","),Pt,jt);if(K=="{")return N(zt("}"),Ke,Pt,jt);if(K=="(")return N(ne(vt,")"),sr,jt);if(K=="<")return N(ne(Ie,">"),Ie);if(K=="quasi")return mt(pe,jt)}function sr(K){if(K=="=>")return N(Ie)}function Ke(K){return K.match(/[\}\)\]]/)?N():K==","||K==";"?N(Ke):mt(dr,Ke)}function dr(K,_t){if(K=="variable"||$.style=="keyword")return $.marked="property",N(dr);if(_t=="?"||K=="number"||K=="string")return N(dr);if(K==":")return N(Ie);if(K=="[")return N(It("variable"),Fe,It("]"),dr);if(K=="(")return mt(Yr,dr);if(!K.match(/[;\}\)\],]/))return N()}function pe(K,_t){return K!="quasi"?mt():_t.slice(_t.length-2)!="${"?N(pe):N(Ie,Rr)}function Rr(K){if(K=="}")return $.marked="string-2",$.state.tokenize=st,N(pe)}function vt(K,_t){return K=="variable"&&$.stream.match(/^\s*[?:]/,!1)||_t=="?"?N(vt):K==":"?N(Ie):K=="spread"?N(vt):mt(Ie)}function jt(K,_t){if(_t=="<")return N(zt(">"),ne(Ie,">"),Pt,jt);if(_t=="|"||K=="."||_t=="&")return N(Ie);if(K=="[")return N(Ie,It("]"),jt);if(_t=="extends"||_t=="implements")return $.marked="keyword",N(Ie);if(_t=="?")return N(Ie,It(":"),Ie)}function Ut(K,_t){if(_t=="<")return N(zt(">"),ne(Ie,">"),Pt,jt)}function fe(){return mt(Ie,Oe)}function Oe(K,_t){if(_t=="=")return N(Ie)}function Ve(K,_t){return _t=="enum"?($.marked="keyword",N(nr)):mt(Xe,Me,Pr,Ji)}function Xe(K,_t){if(S&&Kt(_t))return $.marked="keyword",N(Xe);if(K=="variable")return Mt(_t),N();if(K=="spread")return N(Xe);if(K=="[")return ce(Mn,"]");if(K=="{")return ce(gn,"}")}function gn(K,_t){return K=="variable"&&!$.stream.match(/^\s*:/,!1)?(Mt(_t),N(Pr)):(K=="variable"&&($.marked="property"),K=="spread"?N(Xe):K=="}"?mt():K=="["?N(re,It("]"),It(":"),gn):N(It(":"),Xe,Pr))}function Mn(){return mt(Xe,Pr)}function Pr(K,_t){if(_t=="=")return N(Tt)}function Ji(K){if(K==",")return N(Ve)}function Sn(K,_t){if(K=="keyword b"&&_t=="else")return N(zt("form","else"),oe,Pt)}function Ln(K,_t){if(_t=="await")return N(Ln);if(K=="(")return N(zt(")"),Ri,Pt)}function Ri(K){return K=="var"?N(Ve,Fr):K=="variable"?N(Fr):mt(Fr)}function Fr(K,_t){return K==")"?N():K==";"?N(Fr):_t=="in"||_t=="of"?($.marked="keyword",N(re,Fr)):mt(re,Fr)}function kr(K,_t){if(_t=="*")return $.marked="keyword",N(kr);if(K=="variable")return Mt(_t),N(kr);if(K=="(")return N(Nt,zt(")"),ne(oi,")"),Pt,we,oe,Ct);if(S&&_t=="<")return N(zt(">"),ne(fe,">"),Pt,kr)}function Yr(K,_t){if(_t=="*")return $.marked="keyword",N(Yr);if(K=="variable")return Mt(_t),N(Yr);if(K=="(")return N(Nt,zt(")"),ne(oi,")"),Pt,we,Ct);if(S&&_t=="<")return N(zt(">"),ne(fe,">"),Pt,Yr)}function Dn(K,_t){if(K=="keyword"||K=="variable")return $.marked="type",N(Dn);if(_t=="<")return N(zt(">"),ne(fe,">"),Pt)}function oi(K,_t){return _t=="@"&&N(re,oi),K=="spread"?N(oi):S&&Kt(_t)?($.marked="keyword",N(oi)):S&&K=="this"?N(Me,Pr):mt(Xe,Me,Pr)}function Qi(K,_t){return K=="variable"?$n(K,_t):ln(K,_t)}function $n(K,_t){if(K=="variable")return Mt(_t),N(ln)}function ln(K,_t){if(_t=="<")return N(zt(">"),ne(fe,">"),Pt,ln);if(_t=="extends"||_t=="implements"||S&&K==",")return _t=="implements"&&($.marked="keyword"),N(S?Ie:re,ln);if(K=="{")return N(zt("}"),Xr,Pt)}function Xr(K,_t){if(K=="async"||K=="variable"&&(_t=="static"||_t=="get"||_t=="set"||S&&Kt(_t))&&$.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return $.marked="keyword",N(Xr);if(K=="variable"||$.style=="keyword")return $.marked="property",N(ai,Xr);if(K=="number"||K=="string")return N(ai,Xr);if(K=="[")return N(re,Me,It("]"),ai,Xr);if(_t=="*")return $.marked="keyword",N(Xr);if(S&&K=="(")return mt(Yr,Xr);if(K==";"||K==",")return N(Xr);if(K=="}")return N();if(_t=="@")return N(re,Xr)}function ai(K,_t){if(_t=="!"||_t=="?")return N(ai);if(K==":")return N(Ie,Pr);if(_t=="=")return N(Tt);var ue=$.state.lexical.prev,me=ue&&ue.info=="interface";return mt(me?Yr:kr)}function Hn(K,_t){return _t=="*"?($.marked="keyword",N(Sr,It(";"))):_t=="default"?($.marked="keyword",N(re,It(";"))):K=="{"?N(ne(In,"}"),Sr,It(";")):mt(oe)}function In(K,_t){if(_t=="as")return $.marked="keyword",N(It("variable"));if(K=="variable")return mt(Tt,In)}function Nr(K){return K=="string"?N():K=="("?mt(re):K=="."?mt(Bt):mt(pr,De,Sr)}function pr(K,_t){return K=="{"?ce(pr,"}"):(K=="variable"&&Mt(_t),_t=="*"&&($.marked="keyword"),N(mn))}function De(K){if(K==",")return N(pr,De)}function mn(K,_t){if(_t=="as")return $.marked="keyword",N(pr)}function Sr(K,_t){if(_t=="from")return $.marked="keyword",N(re)}function Wr(K){return K=="]"?N():mt(ne(Tt,"]"))}function nr(){return mt(zt("form"),Xe,It("{"),zt("}"),ne(un,"}"),Pt,Pt)}function un(){return mt(Xe,Pr)}function Vr(K,_t){return K.lastType=="operator"||K.lastType==","||L.test(_t.charAt(0))||/[,.]/.test(_t.charAt(0))}function On(K,_t,ue){return _t.tokenize==D&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(_t.lastType)||_t.lastType=="quasi"&&/\{\s*$/.test(K.string.slice(0,K.pos-(ue||0)))}return{startState:function(K){var _t={tokenize:D,lastType:"sof",cc:[],lexical:new X((K||0)-j,0,"block",!1),localVars:P.localVars,context:P.localVars&&new F(null,null,!1),indented:K||0};return P.globalVars&&typeof P.globalVars=="object"&&(_t.globalVars=P.globalVars),_t},token:function(K,_t){if(K.sol()&&(_t.lexical.hasOwnProperty("align")||(_t.lexical.align=!1),_t.indented=K.indentation(),Q(K,_t)),_t.tokenize!=W&&K.eatSpace())return null;var ue=_t.tokenize(K,_t);return lt=="comment"?ue:(_t.lastType=lt=="operator"&&(nt=="++"||nt=="--")?"incdec":lt,pt(_t,ue,lt,nt,K))},indent:function(K,_t){if(K.tokenize==W||K.tokenize==st)return w.Pass;if(K.tokenize!=D)return 0;var ue=_t&&_t.charAt(0),me=K.lexical,Ge;if(!/^\s*else\b/.test(_t))for(var ir=K.cc.length-1;ir>=0;--ir){var fr=K.cc[ir];if(fr==Pt)me=me.prev;else if(fr!=Sn&&fr!=Ct)break}for(;(me.type=="stat"||me.type=="form")&&(ue=="}"||(Ge=K.cc[K.cc.length-1])&&(Ge==Bt||Ge==V)&&!/^[,\.=+\-*:?[\(]/.test(_t));)me=me.prev;M&&me.type==")"&&me.prev.type=="stat"&&(me=me.prev);var je=me.type,Tr=ue==je;return je=="vardef"?me.indented+(K.lastType=="operator"||K.lastType==","?me.info.length+1:0):je=="form"&&ue=="{"?me.indented:je=="form"?me.indented+j:je=="stat"?me.indented+(Vr(K,_t)?M||j:0):me.info=="switch"&&!Tr&&P.doubleIndentSwitch!=!1?me.indented+(/^(?:case|default)\b/.test(_t)?j:2*j):me.align?me.column+(Tr?0:1):me.indented+(Tr?0:j)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:b?null:"/*",blockCommentEnd:b?null:"*/",blockCommentContinue:b?null:" * ",lineComment:b?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:b?"json":"javascript",jsonldMode:R,jsonMode:b,expressionAllowed:On,skipExpression:function(K){pt(K,"atom","atom","true",new w.StringStream("",2,null))}}}),w.registerHelper("wordChars","javascript",/[\w$]/),w.defineMIME("text/javascript","javascript"),w.defineMIME("text/ecmascript","javascript"),w.defineMIME("application/javascript","javascript"),w.defineMIME("application/x-javascript","javascript"),w.defineMIME("application/ecmascript","javascript"),w.defineMIME("application/json",{name:"javascript",json:!0}),w.defineMIME("application/x-json",{name:"javascript",json:!0}),w.defineMIME("application/manifest+json",{name:"javascript",json:!0}),w.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),w.defineMIME("text/typescript",{name:"javascript",typescript:!0}),w.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},589:(u,g,_)=>{(function(w){w(_(631))})(function(w){var A={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},P={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};w.defineMode("xml",function(j,M){var R=j.indentUnit,b={},k=M.htmlMode?A:P;for(var S in k)b[S]=k[S];for(var S in M)b[S]=M[S];var x,T;function L(N,kt){function Mt(F){return kt.tokenize=F,F(N,kt)}var gt=N.next();if(gt=="<")return N.eat("!")?N.eat("[")?N.match("CDATA[")?Mt(lt("atom","]]>")):null:N.match("--")?Mt(lt("comment","-->")):N.match("DOCTYPE",!0,!0)?(N.eatWhile(/[\w\._\-]/),Mt(nt(1))):null:N.eat("?")?(N.eatWhile(/[\w\._\-]/),kt.tokenize=lt("meta","?>"),"meta"):(x=N.eat("/")?"closeTag":"openTag",kt.tokenize=H,"tag bracket");if(gt=="&"){var Kt;return N.eat("#")?N.eat("x")?Kt=N.eatWhile(/[a-fA-F\d]/)&&N.eat(";"):Kt=N.eatWhile(/[\d]/)&&N.eat(";"):Kt=N.eatWhile(/[\w\.\-:]/)&&N.eat(";"),Kt?"atom":"error"}else return N.eatWhile(/[^&<]/),null}L.isInText=!0;function H(N,kt){var Mt=N.next();if(Mt==">"||Mt=="/"&&N.eat(">"))return kt.tokenize=L,x=Mt==">"?"endTag":"selfcloseTag","tag bracket";if(Mt=="=")return x="equals",null;if(Mt=="<"){kt.tokenize=L,kt.state=st,kt.tagName=kt.tagStart=null;var gt=kt.tokenize(N,kt);return gt?gt+" tag error":"tag error"}else return/[\'\"]/.test(Mt)?(kt.tokenize=tt(Mt),kt.stringStartCol=N.column(),kt.tokenize(N,kt)):(N.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function tt(N){var kt=function(Mt,gt){for(;!Mt.eol();)if(Mt.next()==N){gt.tokenize=H;break}return"string"};return kt.isInAttribute=!0,kt}function lt(N,kt){return function(Mt,gt){for(;!Mt.eol();){if(Mt.match(kt)){gt.tokenize=L;break}Mt.next()}return N}}function nt(N){return function(kt,Mt){for(var gt;(gt=kt.next())!=null;){if(gt=="<")return Mt.tokenize=nt(N+1),Mt.tokenize(kt,Mt);if(gt==">")if(N==1){Mt.tokenize=L;break}else return Mt.tokenize=nt(N-1),Mt.tokenize(kt,Mt)}return"meta"}}function q(N){return N&&N.toLowerCase()}function D(N,kt,Mt){this.prev=N.context,this.tagName=kt||"",this.indent=N.indented,this.startOfLine=Mt,(b.doNotIndent.hasOwnProperty(kt)||N.context&&N.context.noIndent)&&(this.noIndent=!0)}function at(N){N.context&&(N.context=N.context.prev)}function W(N,kt){for(var Mt;;){if(!N.context||(Mt=N.context.tagName,!b.contextGrabbers.hasOwnProperty(q(Mt))||!b.contextGrabbers[q(Mt)].hasOwnProperty(q(kt))))return;at(N)}}function st(N,kt,Mt){return N=="openTag"?(Mt.tagStart=kt.column(),it):N=="closeTag"?Q:st}function it(N,kt,Mt){return N=="word"?(Mt.tagName=kt.current(),T="tag",et):b.allowMissingTagName&&N=="endTag"?(T="tag bracket",et(N,kt,Mt)):(T="error",it)}function Q(N,kt,Mt){if(N=="word"){var gt=kt.current();return Mt.context&&Mt.context.tagName!=gt&&b.implicitlyClosed.hasOwnProperty(q(Mt.context.tagName))&&at(Mt),Mt.context&&Mt.context.tagName==gt||b.matchClosing===!1?(T="tag",ut):(T="tag error",X)}else return b.allowMissingTagName&&N=="endTag"?(T="tag bracket",ut(N,kt,Mt)):(T="error",X)}function ut(N,kt,Mt){return N!="endTag"?(T="error",ut):(at(Mt),st)}function X(N,kt,Mt){return T="error",ut(N,kt,Mt)}function et(N,kt,Mt){if(N=="word")return T="attribute",pt;if(N=="endTag"||N=="selfcloseTag"){var gt=Mt.tagName,Kt=Mt.tagStart;return Mt.tagName=Mt.tagStart=null,N=="selfcloseTag"||b.autoSelfClosers.hasOwnProperty(q(gt))?W(Mt,gt):(W(Mt,gt),Mt.context=new D(Mt,gt,Kt==Mt.indented)),st}return T="error",et}function pt(N,kt,Mt){return N=="equals"?$:(b.allowMissing||(T="error"),et(N,kt,Mt))}function $(N,kt,Mt){return N=="string"?mt:N=="word"&&b.allowUnquoted?(T="string",et):(T="error",et(N,kt,Mt))}function mt(N,kt,Mt){return N=="string"?mt:et(N,kt,Mt)}return{startState:function(N){var kt={tokenize:L,state:st,indented:N||0,tagName:null,tagStart:null,context:null};return N!=null&&(kt.baseIndent=N),kt},token:function(N,kt){if(!kt.tagName&&N.sol()&&(kt.indented=N.indentation()),N.eatSpace())return null;x=null;var Mt=kt.tokenize(N,kt);return(Mt||x)&&Mt!="comment"&&(T=null,kt.state=kt.state(x||Mt,N,kt),T&&(Mt=T=="error"?Mt+" error":T)),Mt},indent:function(N,kt,Mt){var gt=N.context;if(N.tokenize.isInAttribute)return N.tagStart==N.indented?N.stringStartCol+1:N.indented+R;if(gt&&gt.noIndent)return w.Pass;if(N.tokenize!=H&&N.tokenize!=L)return Mt?Mt.match(/^(\s*)/)[0].length:0;if(N.tagName)return b.multilineTagIndentPastTag!==!1?N.tagStart+N.tagName.length+2:N.tagStart+R*(b.multilineTagIndentFactor||1);if(b.alignCDATA&&/<!\[CDATA\[/.test(kt))return 0;var Kt=kt&&/^<(\/)?([\w_:\.-]*)/.exec(kt);if(Kt&&Kt[1])for(;gt;)if(gt.tagName==Kt[2]){gt=gt.prev;break}else if(b.implicitlyClosed.hasOwnProperty(q(gt.tagName)))gt=gt.prev;else break;else if(Kt)for(;gt;){var F=b.contextGrabbers[q(gt.tagName)];if(F&&F.hasOwnProperty(q(Kt[2])))gt=gt.prev;else break}for(;gt&&gt.prev&&!gt.startOfLine;)gt=gt.prev;return gt?gt.indent+R:N.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml",skipAttribute:function(N){N.state==$&&(N.state=et)},xmlCurrentTag:function(N){return N.tagName?{name:N.tagName,close:N.type=="closeTag"}:null},xmlCurrentContext:function(N){for(var kt=[],Mt=N.context;Mt;Mt=Mt.prev)kt.push(Mt.tagName);return kt.reverse()}}}),w.defineMIME("text/xml","xml"),w.defineMIME("application/xml","xml"),w.mimeModes.hasOwnProperty("text/html")||w.defineMIME("text/html",{name:"xml",htmlMode:!0})})},642:(u,g,_)=>{_.d(g,{Z:()=>j});var w=_(346),A=function(){var M=function(R,b){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,S){k.__proto__=S}||function(k,S){for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(k[x]=S[x])},M(R,b)};return function(R,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");M(R,b);function k(){this.constructor=R}R.prototype=b===null?Object.create(b):(k.prototype=b.prototype,new k)}}(),P=function(M){A(R,M);function R(b,k,S){var x=M.call(this,k,S)||this;return x._module=b,x}return Object.defineProperty(R.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),R}(w.Hn);const j=P},675:(u,g,_)=>{_.d(g,{Z:()=>M,q:()=>P});var w=_(642),A=function(){var R=function(b,k){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,x){S.__proto__=x}||function(S,x){for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(S[T]=x[T])},R(b,k)};return function(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");R(b,k);function S(){this.constructor=b}b.prototype=k===null?Object.create(k):(S.prototype=k.prototype,new S)}}(),P;(function(R){R.Select="select",R.Hover="hover",R.Spacing="spacing",R.Target="target",R.Resize="resize"})(P||(P={}));var j=function(R){A(b,R);function b(){return R!==null&&R.apply(this,arguments)||this}return b.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(b.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"component",{get:function(){var k,S=this.get("component");return S||((k=this.get("componentView"))===null||k===void 0?void 0:k.model)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"componentView",{get:function(){var k,S=this.get("componentView");return S||((k=this.get("component"))===null||k===void 0?void 0:k.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"el",{get:function(){var k;return(k=this.componentView)===null||k===void 0?void 0:k.el},enumerable:!1,configurable:!0}),b.prototype.getBoxRect=function(k){var S=this,x=S.el,T=S.em,L=T.Canvas.getCanvasView(),H=this.get("boxRect");return H||(x&&L?L.getElBoxRect(x,k):{x:0,y:0,width:0,height:0})},b.prototype.getStyle=function(k){k===void 0&&(k={});var S=k.boxRect||this.getBoxRect(k),x=S.width,T=S.height,L=S.x,H=S.y;return{width:"".concat(x,"px"),height:"".concat(T,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(L,"px ").concat(H,"px")}},b.prototype.isType=function(k){return this.type===k},b}(w.Z);const M=j},713:(u,g,_)=>{_.d(g,{Z:()=>A});var w;(function(P){P.run="command:run",P._run="run",P.runCommand="command:run:",P._runCommand="run:",P.runBeforeCommand="command:run:before:",P.abort="command:abort:",P._abort="abort:",P.stop="command:stop",P._stop="stop",P.stopCommand="command:stop:",P._stopCommand="stop:",P.stopBeforeCommand="command:stop:before:"})(w||(w={}));const A=w},858:(u,g,_)=>{_.r(g),_.d(g,{default:()=>w});const w={run:function(A){A.Components.clear(),A.Css.clear()}}},884:(u,g,_)=>{_.r(g),_.d(g,{default:()=>j});var w=_(50),A=_(668),P=_(491);const j={run:function(M){(0,w.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=M,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(M){this.toggleMove(),this.disableDragger()},onKeyUp:function(M){(0,P.sN)(M)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(M){this.toggleDragger(1,M)},disableDragger:function(M){this.toggleDragger(0,M)},toggleDragger:function(M,R){var b=this,k=b.canvasModel,S=b.em,x=this.dragger,T=M?"add":"remove";this.getCanvas().classList[T]("".concat(this.ppfx,"is__grabbing")),x||(x=new A.Z({getPosition:function(){return{x:k.get("x"),y:k.get("y")}},setPosition:function(L){var H=L.x,tt=L.y;k.set({x:H,y:tt})},onStart:function(L,H){S.trigger("canvas:move:start",H)},onDrag:function(L,H){S.trigger("canvas:move",H)},onEnd:function(L,H){S.trigger("canvas:move:end",H)}}),this.dragger=x),M?x.start(R):x.stop()},toggleMove:function(M){var R=this.ppfx,b=M?"add":"remove",k=M?"on":"off",S={on:P.on,off:P.S1},x=this.getCanvas(),T=["".concat(R,"is__grab")];!M&&T.push("".concat(R,"is__grabbing")),T.forEach(function(L){return x.classList[b](L)}),S[k](document,"keyup",this.onKeyUp),S[k](x,"mousedown",this.enableDragger),S[k](document,"mouseup",this.disableDragger)}}},790:(u,g,_)=>{_.r(g),_.d(g,{default:()=>R,defineCommand:()=>j});var w=_(346),A=_(713),P=function(){var b=function(k,S){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(x[L]=T[L])},b(k,S)};return function(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");b(k,S);function x(){this.constructor=k}k.prototype=S===null?Object.create(S):(x.prototype=S.prototype,new x)}}();function j(b){return b}var M=function(b){P(k,b);function k(S){var x=b.call(this,0)||this;x.config=S||{},x.em=x.config.em||{};var T=x.config.stylePrefix;return x.pfx=T,x.ppfx=x.config.pStylePrefix,x.hoverClass="".concat(T,"hover"),x.badgeClass="".concat(T,"badge"),x.plhClass="".concat(T,"placeholder"),x.freezClass="".concat(x.ppfx,"freezed"),x.canvas=x.em.Canvas,x.init(x.config),x}return k.prototype.onFrameScroll=function(S){},k.prototype.getCanvas=function(){return this.canvas.getElement()},k.prototype.getCanvasBody=function(){return this.canvas.getBody()},k.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},k.prototype.offset=function(S){var x=S.getBoundingClientRect();return{top:x.top+S.ownerDocument.body.scrollTop,left:x.left+S.ownerDocument.body.scrollLeft}},k.prototype.init=function(S){},k.prototype.callRun=function(S,x){x===void 0&&(x={});var T=this.id;if(S.trigger("".concat(A.Z.runBeforeCommand).concat(T),{options:x}),S.trigger("".concat(A.Z._runCommand).concat(T,":before"),x),x.abort){S.trigger("".concat(A.Z.abort).concat(T),{options:x}),S.trigger("".concat(A.Z._abort).concat(T),x);return}var L=x.sender||S,H=this.run(S,L,x),tt={id:T,result:H,options:x};return S.trigger("".concat(A.Z.runCommand).concat(T),tt),S.trigger(A.Z.run,tt),S.trigger("".concat(A.Z._runCommand).concat(T),H,x),S.trigger(A.Z._run,T,H,x),H},k.prototype.callStop=function(S,x){x===void 0&&(x={});var T=this.id,L=x.sender||S;S.trigger("".concat(A.Z.stopBeforeCommand).concat(T),{options:x}),S.trigger("".concat(A.Z._stopCommand).concat(T,":before"),x);var H=this.stop(S,L,x),tt={id:T,result:H,options:x};return S.trigger("".concat(A.Z.stopCommand).concat(T),tt),S.trigger(A.Z.stop,tt),S.trigger("".concat(A.Z._stopCommand).concat(T),H,x),S.trigger(A.Z._stop,T,H,x),H},k.prototype.stopCommand=function(S){this.em.Commands.stop(this.id,S)},k.prototype.run=function(S,x,T){},k.prototype.stop=function(S,x,T){},k}(w.Hn);const R=M},180:(u,g,_)=>{_.r(g),_.d(g,{default:()=>j});var w=_(50),A=function(M,R,b){if(b||arguments.length===2)for(var k=0,S=R.length,x;k<S;k++)(x||!(k in R))&&(x||(x=Array.prototype.slice.call(R,0,k)),x[k]=R[k]);return M.concat(x||Array.prototype.slice.call(R))},P={run:function(M,R,b){var k=this;b===void 0&&(b={});var S=[],x=b.component||M.getSelectedAll();return x=(0,w.isArray)(x)?A([],x,!0):[x],x.filter(Boolean).forEach(function(T){var L,H;if(!T.get("removable"))return k.em.logWarning("The element is not removable",{component:T});S.push(T);var tt=((H=(L=T.delegate)===null||L===void 0?void 0:L.remove)===null||H===void 0?void 0:H.call(L,T))||T;tt.remove()}),M.selectRemove(S),S}};const j=P},544:(u,g,_)=>{_.r(g),_.d(g,{default:()=>M});var w=_(50),A=_(668),P=function(){return P=Object.assign||function(R){for(var b,k=1,S=arguments.length;k<S;k++){b=arguments[k];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(R[x]=b[x])}return R},P.apply(this,arguments)},j="dmode";const M={run:function(R,b,k){var S=this;k===void 0&&(k={}),(0,w.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var x=k.target,T=k.event,L=k.mode,H=k.dragger,tt=H===void 0?{}:H,lt=x.getEl(),nt=P({doc:lt.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return S.guidesStatic},guidesTarget:function(){return S.guidesTarget}},tt);this.setupGuides(),this.opts=k,this.editor=R,this.em=R.getModel(),this.target=x,this.isTran=L=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var q=this.dragger;return q?q.setOptions(nt):(q=new A.Z(nt),this.dragger=q),T&&q.start(T),this.toggleDrag(1),this.em.trigger("".concat(j,":start"),this.getEventOpts()),q},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(R){var b=R.guide;b&&b.parentNode.removeChild(b)}),this.guides=[]},getGuidesContainer:function(){var R=this,b=this.guidesEl;if(!b){var k=this,S=k.editor,x=k.em,T=k.opts,L=S.getConfig().stylePrefix,H=document.createElement("div"),tt=document.createElement("div"),lt='<div class="'.concat(L,"guide-info__line ").concat(L,`danger-bg">
        <div class="`).concat(L,"guide-info__content ").concat(L,`danger-color"></div>
      </div>`);b=document.createElement("div"),b.className="".concat(L,"guides"),H.className="".concat(L,"guide-info ").concat(L,"guide-info__x"),tt.className="".concat(L,"guide-info ").concat(L,"guide-info__y"),H.innerHTML=lt,tt.innerHTML=lt,b.appendChild(H),b.appendChild(tt),S.Canvas.getGlobalToolsEl().appendChild(b),this.guidesEl=b,this.elGuideInfoX=H,this.elGuideInfoY=tt,this.elGuideInfoContentX=H.querySelector(".".concat(L,"guide-info__content")),this.elGuideInfoContentY=tt.querySelector(".".concat(L,"guide-info__content")),x.on("canvas:update frame:scroll",(0,w.debounce)(function(){var nt;R.updateGuides(),T.debug&&((nt=R.guides)===null||nt===void 0||nt.forEach(function(q){return R.renderGuide(q)}))},200))}return b},getGuidesStatic:function(){var R=this,b=[],k=this.target.getEl(),S=k.parentNode,x=S===void 0?{}:S;return(0,w.each)(x.children,function(T){return b=b.concat(k!==T?R.getElementGuides(T):[])}),b.concat(this.getElementGuides(x))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(R){var b=this,k,S;(R||this.guides).forEach(function(x){var T=x.origin,L=k===T?S:b.getElementPos(T);k=T,S=L,(0,w.each)(b.getGuidePosUpdate(x,L),function(H,tt){return x[tt]=H}),x.originRect=L})},getGuidePosUpdate:function(R,b){var k={},S=b.top,x=b.height,T=b.left,L=b.width;switch(R.type){case"t":k.y=S;break;case"b":k.y=S+x;break;case"l":k.x=T;break;case"r":k.x=T+L;break;case"x":k.x=T+L/2;break;case"y":k.y=S+x/2;break}return k},renderGuide:function(R){R===void 0&&(R={});var b=R.guide||document.createElement("div"),k="px",S=R.active?2:1,x=b.children[0];return b.style="position: absolute; background-color: ".concat(R.active?"green":"red",";"),b.children.length||(x=document.createElement("div"),x.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",b.appendChild(x)),R.y?(b.style.width="100%",b.style.height="".concat(S).concat(k),b.style.top="".concat(R.y).concat(k),b.style.left=0):(b.style.width="".concat(S).concat(k),b.style.height="100%",b.style.left="".concat(R.x).concat(k),b.style.top="0".concat(k)),!R.guide&&this.guidesContainer.appendChild(b),b},getElementPos:function(R){return this.editor.Canvas.getElementPos(R,{noScroll:1})},getElementGuides:function(R){var b=this,k=this.opts,S=this.getElementPos(R),x=S.top,T=S.height,L=S.left,H=S.width,tt=[{type:"t",y:x},{type:"b",y:x+T},{type:"l",x:L},{type:"r",x:L+H},{type:"x",x:L+H/2},{type:"y",y:x+T/2}].map(function(lt){return P(P({},lt),{origin:R,originRect:S,guide:k.debug&&b.renderGuide(lt)})});return tt.forEach(function(lt){var nt;return(nt=b.guides)===null||nt===void 0?void 0:nt.push(lt)}),tt},getTranslate:function(R,b){b===void 0&&(b="x");var k=0;return(R||"").split(" ").forEach(function(S){var x=S.trim(),T="translate".concat(b.toUpperCase(),"(");x.indexOf(T)===0&&(k=parseFloat(x.replace(T,"")))}),k},setTranslate:function(R,b,k){var S="translate".concat(b.toUpperCase(),"("),x="".concat(S).concat(k,")"),T=(R||"").split(" ").map(function(L){var H=L.trim();return H.indexOf(S)===0&&(L=x),L}).join(" ");return T.indexOf(S)<0&&(T+=" ".concat(x)),T},getPosition:function(){var R=this,b=R.target,k=R.isTran,S=b.getStyle(),x=S.left,T=S.top,L=S.transform,H=0,tt=0;return k?(H=this.getTranslate(L),tt=this.getTranslate(L,"y")):(H=parseFloat(x||0),tt=parseFloat(T||0)),{x:H,y:tt}},setPosition:function(R){var b=R.x,k=R.y,S=R.end,x=R.position,T=R.width,L=R.height,H=this,tt=H.target,lt=H.isTran,nt=H.em,q="px",D=!S,at="".concat(parseInt(b,10)).concat(q),W="".concat(parseInt(k,10)).concat(q),st={};if(lt){var it=tt.getStyle().transform||"";it=this.setTranslate(it,"x",at),it=this.setTranslate(it,"y",W),st={transform:it,__p:D},tt.addStyle(st,{avoidStore:!S})}else{var Q={position:x,width:T,height:L},ut={left:at,top:W,__p:D};(0,w.keys)(Q).forEach(function(X){var et=Q[X];et&&(ut[X]=et)}),st=ut,tt.addStyle(st,{avoidStore:!S})}nt==null||nt.Styles.__emitCmpStyleUpdate(st,{components:nt.getSelected()})},_getDragData:function(){var R=this.target;return{target:R,parent:R.parent(),index:R.index()}},onStart:function(R){var b=this,k=b.target,S=b.editor,x=b.isTran,T=b.opts,L=T.center,H=T.onStart,tt=S.Canvas,lt=k.getStyle(),nt="absolute",q=[nt,"relative"];if(H&&H(this._getDragData()),!x&&lt.position!==nt){var D=tt.offset(k.getEl()),at=D.left,W=D.top,st=D.width,it=D.height,Q=k.parent(),ut=void 0;do{var X=Q.getStyle();ut=q.indexOf(X.position)>=0?Q:null,Q=Q.parent()}while(Q&&!ut);if(L){var et=tt.getMouseRelativeCanvas(R),pt=et.x,$=et.y;at=pt,W=$}else if(ut){var mt=tt.offset(ut.getEl());at=at-mt.left,W=W-mt.top}this.setPosition({x:at,y:W,width:"".concat(st,"px"),height:"".concat(it,"px"),position:nt})}},onDrag:function(){var R=this,b=this,k=b.guidesTarget,S=b.opts,x=S.onDrag;this.updateGuides(k),S.debug&&k.forEach(function(T){return R.renderGuide(T)}),S.guidesInfo&&this.renderGuideInfo(k.filter(function(T){return T.active})),x&&x(this._getDragData())},onEnd:function(R,b,k){k===void 0&&(k={});var S=this,x=S.editor,T=S.opts,L=S.id,H=T.onEnd;H&&H(R,k,P(P({event:R},k),this._getDragData())),x.stopCommand(L),this.hideGuidesInfo(),this.em.trigger("".concat(j,":end"),this.getEventOpts())},hideGuidesInfo:function(){var R=this;["X","Y"].forEach(function(b){var k=R["elGuideInfo".concat(b)];k&&(k.style.display="none")})},renderGuideInfo:function(R){var b=this;R===void 0&&(R=[]);var k=this.guidesStatic;this.hideGuidesInfo(),R.forEach(function(S){var x=S.origin,T=S.x,L=b.getElementPos(x),H=(0,w.isUndefined)(T)?"y":"x",tt=H==="y",lt=L[tt?"left":"top"],nt=L.rect[tt?"left":"top"],q=tt?lt+L.width:lt+L.height,D=tt?nt+L.rect.width:nt+L.rect.height,at=b["elGuideInfo".concat(H.toUpperCase())],W=b["elGuideInfoContent".concat(H.toUpperCase())],st=at.style,it=k==null?void 0:k.filter(function(ge){return ge.type===S.type}).map(function(ge){var Ct=ge.originRect,zt=Ct.left,Pt=Ct.width,It=Ct.top,oe=Ct.height,Qt=tt?zt:It,re=tt?zt+Pt:It+oe;return{gap:re<lt?lt-re:Qt-q,guide:ge}}).filter(function(ge){return ge.gap>0}).sort(function(ge,Ct){return ge.gap-Ct.gap}).map(function(ge){return ge.guide})[0];if(it){var Q=it.originRect,ut=Q.left,X=Q.width,et=Q.top,pt=Q.height,$=Q.rect,mt=tt?ut<L.left:et<L.top,N=tt?ut:et,kt=tt?$.left:$.top,Mt=tt?ut+X:et+pt,gt=tt?$.left+$.width:$.top+$.height,Kt=tt?S.y:S.x,F=mt?Mt:q,Lt="".concat(Kt,"px"),le=mt?lt-Mt:N-q,Nt=mt?nt-gt:kt-D;st.display="",st[tt?"top":"left"]=Lt,st[tt?"left":"top"]="".concat(F,"px"),st[tt?"width":"height"]="".concat(le,"px"),W.innerHTML="".concat(Math.round(Nt),"px"),b.em.trigger("".concat(j,":active"),P(P({},b.getEventOpts()),{guide:S,guidesStatic:k,matched:it,posFirst:Kt,posSecond:F,size:le,sizeRaw:Nt,elGuideInfo:at,elGuideInfoCnt:W}))}})},toggleDrag:function(R){var b=this,k=b.ppfx,S=b.editor,x=R?"add":"remove",T=["".concat(k,"is__grabbing")],L=S.Canvas,H=L.getBody();T.forEach(function(tt){return H.classList[x](tt)}),L[R?"startAutoscroll":"stopAutoscroll"]()}}},236:(u,g,_)=>{_.r(g),_.d(g,{default:()=>w});const w={run:function(A){if(A.Canvas.hasFocus()){var P=[];A.getSelectedAll().forEach(function(j){var M=j.components(),R=M&&M.filter(function(b){return b.get("selectable")})[0];R&&P.push(R)}),P.length&&A.select(P)}}}},368:(u,g,_)=>{_.r(g),_.d(g,{default:()=>w});const w={run:function(A,P,j){if(j===void 0&&(j={}),!(!A.Canvas.hasFocus()&&!j.force)){var M=[];A.getSelectedAll().forEach(function(R){for(var b=R.parent();b&&!b.get("selectable");)b=b.parent();b&&M.push(b)}),M.length&&A.select(M)}}}},243:(u,g,_)=>{_.r(g),_.d(g,{default:()=>w});const w={run:function(A){if(A.Canvas.hasFocus()){var P=[];A.getSelectedAll().forEach(function(j){var M=j.parent();if(M){var R=M.components().length,b=0,k=0,S;do b++,k=j.index()+b,S=k<=R?M.getChildAt(k):null;while(S&&!S.get("selectable"));P.push(S||j)}}),P.length&&A.select(P)}}}},400:(u,g,_)=>{_.r(g),_.d(g,{default:()=>w});const w={run:function(A){if(A.Canvas.hasFocus()){var P=[];A.getSelectedAll().forEach(function(j){var M=j.parent();if(M){var R=0,b=0,k;do R++,b=j.index()-R,k=b>=0?M.getChildAt(b):null;while(k&&!k.get("selectable"));P.push(k||j)}}),P.length&&A.select(P)}}}},910:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=_(50);const A={run:function(P,j,M){M===void 0&&(M={});var R=M.target,b=[];if(!R.get("styles"))return b;var k=R.get("type"),S=P.Pages.getAllWrappers(),x=(0,w.flatten)(S.map(function(L){return L.findType(k)})).length;if(!x){var T=P.CssComposer.getAll();b=T.filter(function(L){return L.get("group")==="cmp:".concat(k)}),T.remove(b)}return b}}},744:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=function(P,j,M){if(M||arguments.length===2)for(var R=0,b=j.length,k;R<b;R++)(k||!(R in j))&&(k||(k=Array.prototype.slice.call(j,0,R)),k[R]=j[R]);return P.concat(k||Array.prototype.slice.call(j))};const A={run:function(P){var j=P.getModel(),M=w([],P.getSelectedAll(),!0).map(function(R){var b,k;return((k=(b=R.delegate)===null||b===void 0?void 0:b.copy)===null||k===void 0?void 0:k.call(b,R))||R}).filter(Boolean);M.length&&j.set("clipboard",M)}}},457:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=_(491);const A={run:function(P,j,M){var R=this;M===void 0&&(M={}),j&&j.set&&j.set("active",0);var b=P.getConfig(),k=P.Modal,S=b.stylePrefix;if(this.cm=P.CodeManager||null,!this.editors){var x=this.buildEditor("htmlmixed","hopscotch","HTML"),T=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=x.model,this.cssEditor=T.model;var L=(0,w.ut)("div",{class:"".concat(S,"export-dl")});L.appendChild(x.el),L.appendChild(T.el),this.editors=L}k.open({title:b.textViewCode,content:this.editors}).getModel().once("change:open",function(){return P.stopCommand("".concat(R.id))}),this.htmlEditor.setContent(P.getHtml(M.optsHtml)),this.cssEditor.setContent(P.getCss(M.optsCss))},stop:function(P){var j=P.Modal;j&&j.close()},buildEditor:function(P,j,M){var R=this.em.CodeManager,b=R.createViewer({label:M,codeName:P,theme:j}),k=new R.EditorView({model:b,config:R.getConfig()}).render().el;return{model:b,el:k}}}},975:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=_(50);const A={isEnabled:function(){var P=document;return!!(P.fullscreenElement||P.webkitFullscreenElement||P.mozFullScreenElement)},enable:function(P){var j="";return P.requestFullscreen?P.requestFullscreen():P.webkitRequestFullscreen?(j="webkit",P.webkitRequestFullscreen()):P.mozRequestFullScreen?(j="moz",P.mozRequestFullScreen()):P.msRequestFullscreen&&P.msRequestFullscreen(),j},disable:function(){var P=document;this.isEnabled()&&(P.exitFullscreen?P.exitFullscreen():P.webkitExitFullscreen?P.webkitExitFullscreen():P.mozCancelFullScreen?P.mozCancelFullScreen():P.msExitFullscreen&&P.msExitFullscreen())},fsChanged:function(P){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(P||"","fullscreenchange"),this.fsChanged))},run:function(P,j,M){M===void 0&&(M={}),this.sender=j;var R=M.target,b=(0,w.isElement)(R)?R:document.querySelector(R),k=this.enable(b||P.getContainer());this.fsChanged=this.fsChanged.bind(this,k),document.addEventListener(k+"fullscreenchange",this.fsChanged)},stop:function(P,j){j&&j.set&&j.set("active",!1),this.disable()}}},191:(u,g,_)=>{_.r(g),_.d(g,{default:()=>R});var w=_(50),A=_(895),P=_(491),j=_(407),M=_(189);const R=(0,w.extend)({},M.default,j.default,{init:function(b){j.default.init.apply(this,arguments),(0,w.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=b,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];j.default.enable.apply(this,b),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var S=this.$wrapper;S.css("cursor","move"),S.on("mousedown",this.initSorter),S.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(b){var k=(0,A.default)(b.target).data("model"),S=k.get("draggable");S&&(this.cacheEl=null,this.startSelectPosition(b.target,this.frameEl.contentDocument),this.sorter.draggable=S,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,P.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(b){var k=b.get("draggable");if(k){this.cacheEl=null;var S=b.view.el;this.startSelectPosition(S,this.frameEl.contentDocument),this.sorter.draggable=k,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,P.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(b){this.cacheEl=null;var k=b[b.length-1],S=this.em.getCurrentFrame(),x=k.getEl(S==null?void 0:S.model),T=x.ownerDocument;this.startSelectPosition(x,T,{onStart:this.onStart}),this.sorter.draggable=k.get("draggable"),this.sorter.toMove=b,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,P.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,P.S1)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,P.S1)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(b,k){},rollback:function(b,k){var S=b.which||b.keyCode;(S==27||k)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,A.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,A.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];j.default.stop.apply(this,b),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var S=this.$wrapper;S.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(u,g,_)=>{_.r(g),_.d(g,{default:()=>P});var w=_(50),A=_(491);const P={open:function(j){var M=this,R=this,b=R.editor,k=R.title,S=R.config,x=R.am,T=S.custom;if((0,w.isFunction)(T.open))return T.open(x.__customData());var L=b.Modal;L.open({title:k,content:j}).onceClose(function(){return b.stopCommand(M.id)})},close:function(){var j=this.config.custom;if((0,w.isFunction)(j.close))return j.close(this.am.__customData());var M=this.editor.Modal;M&&M.close()},run:function(j,M,R){R===void 0&&(R={});var b=j.AssetManager,k=b.getConfig(),S=R.types,x=S===void 0?[]:S,T=R.accept,L=R.select;if(this.title=R.modalTitle||j.t("assetManager.modalTitle")||"",this.editor=j,this.config=k,this.am=b,b.setTarget(R.target),b.onClick(R.onClick),b.onDblClick(R.onDblClick),b.onSelect(R.onSelect),b.__behaviour({select:L,types:x,options:R}),k.custom)this.rendered=this.rendered||(0,A.ut)("div"),this.rendered.className="".concat(k.stylePrefix,"custom-wrp"),b.__behaviour({container:this.rendered}),b.__trgCustom();else{if(!this.rendered||x){var H=b.getAll().filter(function(lt){return lt});x&&x.length&&(H=H.filter(function(lt){return x.indexOf(lt.get("type"))!==-1})),b.render(H),this.rendered=b.getContainer()}if(T){var tt=this.rendered.querySelector("input#".concat(k.stylePrefix,"uploadFile"));tt&&tt.setAttribute("accept",T)}}return this.open(this.rendered),this},stop:function(j){this.editor=j,this.close(this.rendered)}}},117:(u,g,_)=>{_.r(g),_.d(g,{default:()=>P});var w=_(50),A=_(491);const P={open:function(){var j=this,M=j.container,R=j.editor,b=j.bm,k=j.config,S=k.custom,x=k.appendTo;if((0,w.isFunction)(S.open))return S.open(b.__customData());if(this.firstRender&&!x){var T="views-container",L=R.Panels,H=L.getPanel(T)||L.addPanel({id:T});H.set("appendContent",M).trigger("change:appendContent"),S||M.appendChild(b.render())}M&&(M.style.display="block")},close:function(){var j=this,M=j.container,R=j.config,b=R.custom;if((0,w.isFunction)(b.close))return b.close(this.bm.__customData());M&&(M.style.display="none")},run:function(j){var M=j.Blocks;this.config=M.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,A.ut)("div"),this.editor=j,this.bm=M;var R=this.container;M.__behaviour({container:R}),this.config.custom&&M.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(u,g,_)=>{_.r(g),_.d(g,{default:()=>w});const w={run:function(A){var P=A.LayerManager,j=A.Panels,M=P.getConfig();if(!M.appendTo){if(!this.layers){var R="views-container",b=document.createElement("div"),k=j.getPanel(R)||j.addPanel({id:R});M.custom?P.__trgCustom({container:b}):b.appendChild(P.render()),k.set("appendContent",b).trigger("change:appendContent"),this.layers=b}this.layers.style.display="block"}},stop:function(){var A=this.layers;A&&(A.style.display="none")}}},801:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=_(895);const A={run:function(P,j){if(this.sender=j,!this.$cnt){var M=P.getConfig(),R=P.Panels,b=P.DeviceManager,k=P.SelectorManager,S=P.StyleManager,x="change:appendContent",T=(0,w.default)("<div></div>"),L=(0,w.default)("<div></div>"),H=(0,w.default)("<div></div>"),tt=(0,w.default)("<div></div>");if(this.$cnt=T,this.$cntInner=L,L.append(H),L.append(tt),T.append(L),b&&M.showDevices){var lt=R.addPanel({id:"devices-c"}),nt=b.render();lt.set("appendContent",nt).trigger(x)}var q=k.getConfig();q.custom?k.__trgCustom({container:H.get(0)}):q.appendTo||H.append(k.render([])),this.sm=S;var D=S.getConfig(),at=D.stylePrefix;this.$header=(0,w.default)('<div class="'.concat(at,'header">').concat(P.t("styleManager.empty"),"</div>")),T.append(this.$header),D.custom?S.__trgCustom({container:tt.get(0)}):D.appendTo||tt.append(S.render());var W="views-container",st=R.getPanel(W)||R.addPanel({id:W});st.set("appendContent",T).trigger(x);var it=P.getModel();this.listenTo(it,S.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var P=this,j=P.sender,M=P.sm,R=P.$cntInner,b=P.$header;j&&j.get&&!j.get("active")||!M||(M.getSelected()?(R==null||R.show(),b==null||b.hide()):(R==null||R.hide(),b==null||b.show()))},stop:function(){var P,j;(P=this.$cntInner)===null||P===void 0||P.hide(),(j=this.$header)===null||j===void 0||j.hide()}}},395:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=_(895);const A={run:function(P,j){this.sender=j;var M=P.getModel(),R=P.Config,b=R.stylePrefix,k=P.TraitManager,S=k.getConfig(),x;if(!S.appendTo){if(!this.$cn){this.$cn=(0,w.default)("<div></div>"),this.$cn2=(0,w.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,w.default)("<div>").append('<div class="'.concat(S.stylePrefix,'header">').concat(M.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),S.custom?k.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(b,'traits-label">').concat(M.t("traitManager.label"),"</div>")),this.$cn2.append(k.render()));var T=P.Panels;T.getPanel("views-container")?x=T.getPanel("views-container"):x=T.addPanel({id:"views-container"}),x==null||x.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=P.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var P=this.sender;P&&P.get&&!P.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=_(50);const A={run:function(j,M,R){R===void 0&&(R={});var b=j.getModel(),k=b.get("clipboard"),S=j.getSelected();k!=null&&k.length&&S&&(j.getSelectedAll().forEach(function(x){var T,L,H,tt=((L=(T=x.delegate)===null||T===void 0?void 0:T.copy)===null||L===void 0?void 0:L.call(T,x))||x,lt=tt.collection,nt;if(lt){var q=tt.index()+1,D={at:q,action:R.action||"paste-component"};(0,w.contains)(k,tt)&&tt.get("copyable")?nt=lt.add(tt.clone(),D):nt=P(j,k,tt.parent(),D)}else{var at=(H=b.Pages.getSelected())===null||H===void 0?void 0:H.getMainComponent(),D={at:(at==null?void 0:at.components().length)||0,action:R.action||"paste-component"};nt=P(j,k,at,D)}nt=(0,w.isArray)(nt)?nt:[nt],nt.forEach(function(W){return j.trigger("component:paste",W)})}),S.emitUpdate())}};function P(j,M,R,b){var k=M.filter(function(x){return x.get("copyable")}),S=k.filter(function(x){return j.Components.canMove(R,x).result});return R.components().add(S.map(function(x){return x.clone()}),b)}},129:(u,g,_)=>{_.r(g),_.d(g,{default:()=>j});var w=_(50),A=function(M,R,b){if(b||arguments.length===2)for(var k=0,S=R.length,x;k<S;k++)(x||!(k in R))&&(x||(x=Array.prototype.slice.call(R,0,k)),x[k]=R[k]);return M.concat(x||Array.prototype.slice.call(R))},P="core:component-outline";const j={getPanels:function(M){return this.panels||(this.panels=M.Panels.getPanels()),this.panels},preventDrag:function(M){M.abort=1},tglEffects:function(M){var R=this.em,b=M?"on":"off";if(R){var k=R.Canvas,S=k.getBody(),x=k.getToolbarEl();x&&(x.style.display=M?"none":"");var T=S.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,w.each)(T,function(L){return L.style.pointerEvents=M?"all":""}),R[b]("run:tlb-move:before",this.preventDrag)}},run:function(M,R){var b=this;this.sender=R,this.selected=A([],M.getSelectedAll(),!0),M.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=M.Commands.isActive(P)),this.shouldRunSwVisibility&&M.stopCommand(P),M.getModel().stopDefault();var k=this.getPanels(M),S=M.Canvas.getElement(),x=M.getEl(),T=M.Config.stylePrefix;if(!this.helper){var L=document.createElement("span");L.className="".concat(T,"off-prv fa fa-eye-slash"),x.appendChild(L),L.onclick=function(){return b.stopCommand()},this.helper=L}this.helper.style.display="inline-block",k.forEach(function(tt){return tt.set("visible",!1)});var H=S.style;H.width="100%",H.height="100%",H.top="0",H.left="0",H.padding="0",H.margin="0",M.refresh(),this.tglEffects(1)},stop:function(M){var R=this,b=R.sender,k=b===void 0?{}:b,S=R.selected;k.set&&k.set("active",0);var x=this.getPanels(M);this.shouldRunSwVisibility&&(M.runCommand(P),this.shouldRunSwVisibility=!1),M.getModel().runDefault(),x.forEach(function(L){return L.set("visible",!0)});var T=M.Canvas.getElement();T.setAttribute("style",""),S&&M.select(S),delete this.selected,this.helper&&(this.helper.style.display="none"),M.refresh(),this.tglEffects()}}},116:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=function(){return w=Object.assign||function(P){for(var j,M=1,R=arguments.length;M<R;M++){j=arguments[M];for(var b in j)Object.prototype.hasOwnProperty.call(j,b)&&(P[b]=j[b])}return P},w.apply(this,arguments)};const A={run:function(P,j,M){var R=M||{},b=P.Canvas,k=b.getCanvasView(),S=w({appendTo:b.getResizerEl(),prefix:P.getConfig().stylePrefix,posFetcher:k.getElementPos.bind(k),mousePosFetcher:b.getMouseRelativePos.bind(b)},R.options||{}),x=this.canvasResizer;return(!x||R.forceNew)&&(this.canvasResizer=new P.Utils.Resizer(S),x=this.canvasResizer),x.setOptions(S,!0),x.blur(),x.focus(R.el),x},stop:function(){var P;(P=this.canvasResizer)===null||P===void 0||P.blur()}}},407:(u,g,_)=>{_.r(g),_.d(g,{default:()=>ut});var w=_(50),A=_(346),P=function(){var X=function(et,pt){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,mt){$.__proto__=mt}||function($,mt){for(var N in mt)Object.prototype.hasOwnProperty.call(mt,N)&&($[N]=mt[N])},X(et,pt)};return function(et,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Class extends value "+String(pt)+" is not a constructor or null");X(et,pt);function $(){this.constructor=et}et.prototype=pt===null?Object.create(pt):($.prototype=pt.prototype,new $)}}(),j=function(X){P(et,X);function et(){return X!==null&&X.apply(this,arguments)||this}return et.prototype.defaults=function(){return{command:"",attributes:{}}},et}(A.Hn);const M=j;var R=function(){var X=function(et,pt){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,mt){$.__proto__=mt}||function($,mt){for(var N in mt)Object.prototype.hasOwnProperty.call(mt,N)&&($[N]=mt[N])},X(et,pt)};return function(et,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Class extends value "+String(pt)+" is not a constructor or null");X(et,pt);function $(){this.constructor=et}et.prototype=pt===null?Object.create(pt):($.prototype=pt.prototype,new $)}}(),b=function(X){R(et,X);function et(){return X!==null&&X.apply(this,arguments)||this}return et}(A.FE);const k=b;b.prototype.model=M;var S=_(330),x=function(){var X=function(et,pt){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,mt){$.__proto__=mt}||function($,mt){for(var N in mt)Object.prototype.hasOwnProperty.call(mt,N)&&($[N]=mt[N])},X(et,pt)};return function(et,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Class extends value "+String(pt)+" is not a constructor or null");X(et,pt);function $(){this.constructor=et}et.prototype=pt===null?Object.create(pt):($.prototype=pt.prototype,new $)}}(),T=function(){return T=Object.assign||function(X){for(var et,pt=1,$=arguments.length;pt<$;pt++){et=arguments[pt];for(var mt in et)Object.prototype.hasOwnProperty.call(et,mt)&&(X[mt]=et[mt])}return X},T.apply(this,arguments)},L=function(X){x(et,X);function et(pt){var $=X.call(this,pt)||this;return $.em=pt.config.em,$}return et.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},et.prototype.attributes=function(){return this.model.get("attributes")},et.prototype.handleClick=function(pt){pt.preventDefault(),pt.stopPropagation();var $=this.em,mt=$.Canvas.getFrameEl().getBoundingClientRect(),N=mt.left,kt=mt.top,Mt=T(T({},pt),{clientX:pt.clientX-N,clientY:pt.clientY-kt});$.trigger("toolbar:run:before",{event:Mt}),this.execCommand(Mt)},et.prototype.execCommand=function(pt){var $=this,mt=$.em,N=$.model,kt={event:pt},Mt=N.get("command"),gt=mt.Editor;(0,w.isFunction)(Mt)&&Mt(gt,null,kt),(0,w.isString)(Mt)&&gt.runCommand(Mt,kt)},et.prototype.render=function(){var pt=this,$=pt.em,mt=pt.$el,N=pt.model,kt=N.get("id"),Mt=N.get("label"),gt=$.getConfig().stylePrefix;return mt.addClass("".concat(gt,"toolbar-item")),kt&&mt.addClass("".concat(gt,"toolbar-item__").concat(kt)),Mt&&mt.append(Mt),this},et}(A.G7);const H=L;var tt=function(){var X=function(et,pt){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,mt){$.__proto__=mt}||function($,mt){for(var N in mt)Object.prototype.hasOwnProperty.call(mt,N)&&($[N]=mt[N])},X(et,pt)};return function(et,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Class extends value "+String(pt)+" is not a constructor or null");X(et,pt);function $(){this.constructor=et}et.prototype=pt===null?Object.create(pt):($.prototype=pt.prototype,new $)}}(),lt=function(X){tt(et,X);function et(pt){var $=X.call(this,pt)||this,mt=pt.em;return $.em=mt,$.config={em:mt},$.listenTo($.collection,"reset",$.render),$}return et.prototype.onRender=function(){var pt=this.em.config.stylePrefix;this.el.className="".concat(pt,"toolbar-items")},et}(S.Z);const nt=lt;lt.prototype.itemView=H;var q=_(491),D=_(163),at=_(675),W=_(184),st=function(){return st=Object.assign||function(X){for(var et,pt=1,$=arguments.length;pt<$;pt++){et=arguments[pt];for(var mt in et)Object.prototype.hasOwnProperty.call(et,mt)&&(X[mt]=et[mt])}return X},st.apply(this,arguments)},it=function(X,et){var pt={};for(var $ in X)Object.prototype.hasOwnProperty.call(X,$)&&et.indexOf($)<0&&(pt[$]=X[$]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,$=Object.getOwnPropertySymbols(X);mt<$.length;mt++)et.indexOf($[mt])<0&&Object.prototype.propertyIsEnumerable.call(X,$[mt])&&(pt[$[mt]]=X[$[mt]]);return pt},Q;const ut={activeResizer:!1,init:function(){this.onSelect=(0,w.debounce)(this.onSelect,0),(0,w.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),Q=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(X){var et=this,pt=this.em,$=pt.getConfig().listenToEl,mt=pt.getContainer().parentNode,N=X?"on":"off",kt={on:q.on,off:q.S1},Mt=W.g.update;!$.length&&mt&&$.push(mt);var gt=function(Kt,F){kt[N](F,"mouseover",et.onHover),kt[N](F,"mouseleave",et.onOut),kt[N](F,"click",et.onClick),kt[N](Kt,"scroll",et.onFrameScroll,!0),kt[N](Kt,"resize",et.onFrameResize)};kt[N](window,"resize",this.onFrameUpdated),kt[N]($,"scroll",this.onContainerChange),pt[N]("component:toggled ".concat(Mt," undo redo"),this.onSelect,this),pt[N]("change:componentHovered",this.onHovered,this),pt[N]("component:resize styleable:change component:input",this.updateGlobalPos,this),pt[N]("".concat(Mt,":toolbar"),this._upToolbar,this),pt[N]("frame:updated",this.onFrameUpdated,this),pt[N]("canvas:updateTools",this.onFrameUpdated,this),pt[N](pt.Canvas.events.refresh,this.updateAttached,this),pt.Canvas.getFrames().forEach(function(Kt){var F=Kt.view,Lt=F==null?void 0:F.getWindow();Lt&&gt(Lt,F==null?void 0:F.getBody())})},onHover:function(X){X.stopPropagation();var et=this.em,pt=X.target,$=(0,D.getComponentView)(pt),mt=$==null?void 0:$.frameView,N=$==null?void 0:$.model;if(!N)for(var kt=pt.parentNode;!N&&kt&&!(0,q.Mx)(kt);)N=(0,D.getComponentModel)(kt),kt=kt.parentNode;this.currentDoc=pt.ownerDocument,et.setHovered(N,{useValid:!0}),mt&&et.setCurrentFrame(mt)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(X,et){var pt=this,$,mt={};et?($=et.views)===null||$===void 0||$.forEach(function(N){var kt=N.el,Mt=pt.getElementPos(kt);mt={el:kt,pos:Mt,component:et,view:(0,D.getViewEl)(kt)},kt.ownerDocument===pt.currentDoc&&(pt.elHovered=mt),pt.updateToolsLocal(mt)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(N){var kt=N.view,Mt=kt&&kt.getToolsEl();Mt&&pt.toggleToolsEl(0,0,{el:Mt})}))},onSelect:function(){var X=this.em,et=X.getSelected(),pt=X.getCurrentFrame(),$=et&&et.getView(pt==null?void 0:pt.model),mt=$&&$.el,N={};if(mt&&(0,q.pn)(mt)){var kt=this.getElementPos(mt);N={el:mt,pos:kt,component:et,view:(0,D.getViewEl)(mt)}}this.elSelected=N,this.updateToolsGlobal(),this.updateLocalPos(N),this.initResize(et)},updateGlobalPos:function(){var X=this.getElSelected();X.el&&(X.pos=this.getElementPos(X.el),this.updateToolsGlobal())},updateLocalPos:function(X){var et=this.getElHovered();et.el&&(et.pos=this.getElementPos(et.el),this.updateToolsLocal(X))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(X,et,pt){pt===void 0&&(pt={});var $=pt.el||this.canvas.getToolsEl(et);return $&&($.style.display=X?"":"none"),$||{}},showElementOffset:function(X,et,pt){pt===void 0&&(pt={}),Q&&this.editor.runCommand("show-offset",{el:X,elPos:et,view:pt.view,force:1,top:0,left:0})},hideElementOffset:function(X){this.editor.stopCommand("show-offset",{view:X})},showFixedElementOffset:function(X,et){this.editor.runCommand("show-offset",{el:X,elPos:et,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(X){this.canvas.getHighlighter(X).style.opacity=0},onClick:function(X){X.stopPropagation(),X.preventDefault();var et=this.em;if(et.get("_cmpDrag"))return et.set("_cmpDrag");var pt=X.target,$=(0,D.getComponentModel)(pt);if(!$)for(var mt=pt.parentNode;!$&&mt&&!(0,q.Mx)(mt);)$=(0,D.getComponentModel)(mt),mt=mt.parentNode;if($){if(et.isEditing()&&(!$.get("textable")&&$.isChildOf("text")||et.getEditing()!==$))return;this.select($,X)}},select:function(X,et){et===void 0&&(et={}),X&&(this.editor.select(X,{event:et,useValid:!0}),this.initResize(X))},updateBadge:function(X,et,pt){pt===void 0&&(pt={});var $=this.canvas,mt=(0,D.getComponentModel)(X),N=this.getBadge(pt),kt=N.style;if(!mt||!mt.get("badgable")){kt.display="none";return}if(!pt.posOnly){var Mt=this.canvas.getConfig(),gt=mt.getIcon(),Kt=Mt.pStylePrefix||"",F="".concat(Kt,"badge"),Lt=Mt.customBadgeLabel,le="".concat(gt?'<div class="'.concat(F,'__icon">').concat(gt,"</div>"):"",`
        <div class="`).concat(F,'__name">').concat(mt.getName(),"</div>");N.innerHTML=Lt?Lt(mt):le}var Nt="px";kt.display="block";var ge=$.getTargetToElementFixed(X,N,{pos:et}),Ct=ge.top,zt=pt.leftOff<0?-pt.leftOff:0;kt.top=Ct+Nt,kt.left=zt+Nt},showHighlighter:function(X){this.canvas.getHighlighter(X).style.opacity=""},initResize:function(X){var et=this,pt=et.em,$=et.canvas,mt=pt.Editor,N=!(0,w.isElement)(X)&&(0,q.o5)(X)?X:pt.getSelected(),kt=N==null?void 0:N.get("resizable"),Mt=at.q.Resize,gt=$.hasCustomSpot(Mt);if($.removeSpots({type:Mt}),N&&kt){$.addSpot({type:Mt,component:N});var Kt=(0,w.isElement)(X)?X:N.getEl(),F=(0,D.isObject)(kt)?kt:{},Lt=F.onStart,le=Lt===void 0?function(){}:Lt,Nt=F.onMove,ge=Nt===void 0?function(){}:Nt,Ct=F.onEnd,zt=Ct===void 0?function(){}:Ct,Pt=F.updateTarget,It=Pt===void 0?function(){}:Pt,oe=it(F,["onStart","onMove","onEnd","updateTarget"]);if(gt||!Kt||this.activeResizer)return;var Qt,re=pt.config,Tt=re.stylePrefix||"",Rt="".concat(Tt,"resizing"),Yt=this,ee={component:N,el:Kt},Bt=function(ot,dt,C){var ft=C.docs;ft&&ft.forEach(function(Z){var Y=Z.body,z=Y.className||"";Y.className=(ot=="add"?"".concat(z," ").concat(Rt):z.replace(Rt,"")).trim()})},V=st({onStart:function(ot,dt){le(ot,dt);var C=dt.el,ft=dt.config,Z=dt.resizer,Y=ft.keyHeight,z=ft.keyWidth,Ot=ft.currentUnit,Zt=ft.keepAutoHeight,Jt=ft.keepAutoWidth;Bt("add",ot,dt),Qt=pt.Styles.getModelToStyle(N),$.toggleFramesEvents(!1);var Ft=getComputedStyle(C),ae=Qt.getStyle(),ne=ae[z];ft.autoWidth=Jt&&ne==="auto",isNaN(parseFloat(ne))&&(ne=Ft[z]);var ce=ae[Y];ft.autoHeight=Zt&&ce==="auto",isNaN(parseFloat(ce))&&(ce=Ft[Y]),Z.startDim.w=parseFloat(ne),Z.startDim.h=parseFloat(ce),Q=!1,Ot&&(ft.unitHeight=(0,D.getUnitFromValue)(ce),ft.unitWidth=(0,D.getUnitFromValue)(ne)),Yt.activeResizer=!0,mt.trigger("component:resize",st(st({},ee),{type:"start"}))},onMove:function(ot){ge(ot),mt.trigger("component:resize",st(st({},ee),{type:"move"}))},onEnd:function(ot,dt){zt(ot,dt),Bt("remove",ot,dt),mt.trigger("component:resize",st(st({},ee),{type:"end"})),$.toggleFramesEvents(!0),Q=!0,Yt.activeResizer=!1},updateTarget:function(ot,dt,C){if(It(ot,dt,C),!!Qt){var ft=C.store,Z=C.selectedHandler,Y=C.config,z=Y.keyHeight,Ot=Y.keyWidth,Zt=Y.autoHeight,Jt=Y.autoWidth,Ft=Y.unitWidth,ae=Y.unitHeight,ne=["tc","bc"].indexOf(Z)>=0,ce=["cl","cr"].indexOf(Z)>=0,he={};if(!ne){var Me=$.getBody().offsetWidth,Fe=dt.w<Me?dt.w:Me;he[Ot]=Jt?"auto":"".concat(Fe).concat(Ft)}ce||(he[z]=Zt?"auto":"".concat(dt.h).concat(ae)),pt.getDragMode(N)&&(he.top="".concat(dt.t).concat(ae),he.left="".concat(dt.l).concat(Ft));var we=st(st({},he),{__p:!ft});Qt.addStyle(we,{avoidStore:!ft}),pt.Styles.__emitCmpStyleUpdate(we,{components:pt.getSelected()})}}},oe);this.resizer=mt.runCommand("resize",{el:Kt,options:V,force:1})}else{if(gt)return;mt.stopCommand("resize"),this.resizer=null}},updateToolbar:function(X){var et=this.canvas,pt=this.config.em,$=X===pt?pt.getSelected():X,mt=et.getToolbarEl(),N=mt.style,kt=$.get("toolbar"),Mt=pt.config.showToolbar,gt=!et.hasCustomSpot(at.q.Select);if($&&Mt&&kt&&kt.length&&gt){if(N.display="",!this.toolbar){mt.innerHTML="",this.toolbar=new k(kt);var Kt=new nt({collection:this.toolbar,em:pt});mt.appendChild(Kt.render().el)}this.toolbar.reset(kt),N.top="-100px",N.left="0"}else N.display="none"},updateToolbarPos:function(X){var et="px",pt=this.canvas.getToolbarEl().style;pt.top="".concat(X.top).concat(et),pt.left="".concat(X.left).concat(et),pt.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(X){return X===void 0&&(X={}),this.canvas.getBadgeEl(X.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(X){return X&&X.get("status")==="selected"},updateToolsLocal:function(X){var et=this.em.getConfig(),pt=X||this.getElHovered(),$=pt.el,mt=pt.pos,N=pt.view,kt=pt.component;if(!$){this.lastHovered=0;return}var Mt=kt.get("hoverable"),gt=this.lastHovered!==$,Kt=gt?{}:{posOnly:1},F=this.canvas.hasCustomSpot(at.q.Hover);gt&&Mt&&(this.lastHovered=$,F?this.hideHighlighter(N):this.showHighlighter(N),this.showElementOffset($,mt,{view:N})),this.isCompSelected(kt)&&(this.hideHighlighter(N),!et.showOffsetsSelected&&this.hideElementOffset(N));var Lt="px",le=this.toggleToolsEl(1,N),Nt=le.style,ge=this.canvas.canvasRectOffset($,mt),Ct=ge.top,zt=ge.left;!F&&this.updateBadge($,mt,st(st({},Kt),{view:N,topOff:Ct,leftOff:zt})),Nt.top=Ct+Lt,Nt.left=zt+Lt,Nt.width=mt.width+Lt,Nt.height=mt.height+Lt,this._trgToolUp("local",{component:kt,el:le,top:Ct,left:zt,width:mt.width,height:mt.height})},_upToolbar:(0,w.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(X,et){et===void 0&&(et={}),this.em.trigger("canvas:tools:update",st({type:X},et))},updateToolsGlobal:function(X){X===void 0&&(X={});var et=this.getElSelected(),pt=et.el,$=et.pos,mt=et.component;if(!pt){this.toggleToolsEl(),this.lastSelected=0;return}var N=this.canvas,kt=this.lastSelected!==pt;(kt||X.force)&&(this.lastSelected=pt,this.updateToolbar(mt));var Mt="px",gt=this.toggleToolsEl(1),Kt=gt.style,F=N.getTargetToElementFixed(pt,N.getToolbarEl(),{pos:$}),Lt=F.canvasOffsetTop,le=F.canvasOffsetLeft;Kt.top=Lt+Mt,Kt.left=le+Mt,Kt.width=$.width+Mt,Kt.height=$.height+Mt,this.updateToolbarPos({top:F.top,left:F.left}),this._trgToolUp("global",{component:mt,el:gt,top:Lt,left:le,width:$.width,height:$.height})},updateAttached:(0,w.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,w.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(X){return this.canvas.getCanvasView().getElementPos(X,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(X){X&&X.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(X){(0,D.hasWin)()&&(this.editor=X&&X.get("Editor"),this.enable())},stop:function(X,et,pt){if(pt===void 0&&(pt={}),!!(0,D.hasWin)()){var $=this,mt=$.em,N=$.editor;this.onHovered(),this.stopSelectComponent(),!pt.preserveSelected&&mt.setSelected(),this.toggleToolsEl(),N&&N.stopCommand("resize")}}}},189:(u,g,_)=>{_.r(g),_.d(g,{default:()=>A});var w=_(895);const A={startSelectPosition:function(P,j,M){var R=this;M===void 0&&(M={}),this.isPointed=!1;var b=this.em.Utils,k=P.ownerDocument.body;b&&!this.sorter&&(this.sorter=new b.Sorter({container:k,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:j,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return R.em.getZoomDecimal()}})),M.onStart&&(this.sorter.onStart=M.onStart),P&&this.sorter.startSort(P,{container:k})},getOffsetDim:function(){var P=this.offset(this.canvas.getFrameEl()),j=this.offset(this.canvas.getElement()),M=P.top-j.top,R=P.left-j.left;return{top:M,left:R}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,w.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,w.default)(this.cDim[this.posIndex][5]).parent():(0,w.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(P,j,M){var R=P||0,b=j||"before",k=M.length,S=k!==0&&b=="after"&&R==k;return k!==0&&(!S&&!M[R][4]||M[R-1]&&!M[R-1][4]||S&&!M[R-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(u,g,_)=>{_.r(g),_.d(g,{default:()=>M});var w=_(50),A=_(675),P=_(895),j=function(){return j=Object.assign||function(R){for(var b,k=1,S=arguments.length;k<S;k++){b=arguments[k];for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(R[x]=b[x])}return R},j.apply(this,arguments)};const M={getOffsetMethod:function(R){var b=R||"";return"get"+b+"OffsetViewerEl"},run:function(R,b,k){var S=this.canvas,x=k||{},T=x.state||"",L=R.getConfig(),H=this.em.getZoomDecimal(),tt=x.el;if(!L.showOffsets||!(tt instanceof HTMLElement)||!L.showOffsetsSelected&&T=="Fixed"){R.stopCommand("".concat(this.id),k);return}if(!S.hasCustomSpot(A.q.Spacing)){var lt=j({},x.elPos||S.getElementPos(tt));(0,w.isUndefined)(x.top)||(lt.top=x.top),(0,w.isUndefined)(x.left)||(lt.left=x.left);var nt=window.getComputedStyle(tt),q=this.ppfx,D=T+"State",at=this.getOffsetMethod(T),W=S[at](k.view);W.style.opacity="";var st=this["marginT"+T],it=this["marginB"+T],Q=this["marginL"+T],ut=this["marginR"+T],X=this["padT"+T],et=this["padB"+T],pt=this["padL"+T],$=this["padR"+T];if(W.childNodes.length&&(this[D]="1",st=W.querySelector("[data-offset-m-t]"),it=W.querySelector("[data-offset-m-b]"),Q=W.querySelector("[data-offset-m-l]"),ut=W.querySelector("[data-offset-m-r]"),X=W.querySelector("[data-offset-p-t]"),et=W.querySelector("[data-offset-p-b]"),pt=W.querySelector("[data-offset-p-l]"),$=W.querySelector("[data-offset-p-r]")),!this[D]){var mt=T.toLowerCase(),N=mt+"margin-v",kt=mt+"padding-v",Mt=(0,P.default)('<div class="'.concat(q,'marginName">')).get(0),gt=(0,P.default)('<div class="'.concat(q,'paddingName">')).get(0),Kt=q+N+"-el",F=q+kt+"-el",Lt="".concat(Kt," ").concat(q+N),le="".concat(F," ").concat(q+kt);st=(0,P.default)('<div class="'.concat(Lt,'-top"></div>')).get(0),it=(0,P.default)('<div class="'.concat(Lt,'-bottom"></div>')).get(0),Q=(0,P.default)('<div class="'.concat(Lt,'-left"></div>')).get(0),ut=(0,P.default)('<div class="'.concat(Lt,'-right"></div>')).get(0),X=(0,P.default)('<div class="'.concat(le,'-top"></div>')).get(0),et=(0,P.default)('<div class="'.concat(le,'-bottom"></div>')).get(0),pt=(0,P.default)('<div class="'.concat(le,'-left"></div>')).get(0),$=(0,P.default)('<div class="'.concat(le,'-right"></div>')).get(0),this["marginT"+T]=st,this["marginB"+T]=it,this["marginL"+T]=Q,this["marginR"+T]=ut,this["padT"+T]=X,this["padB"+T]=et,this["padL"+T]=pt,this["padR"+T]=$,Mt.appendChild(st),Mt.appendChild(it),Mt.appendChild(Q),Mt.appendChild(ut),gt.appendChild(X),gt.appendChild(et),gt.appendChild(pt),gt.appendChild($),W.appendChild(Mt),W.appendChild(gt),this[D]="1"}var Nt="px",ge=parseFloat(nt.marginLeft.replace(Nt,""))*H,Ct=parseFloat(nt.marginRight.replace(Nt,""))*H,zt=parseFloat(nt.marginTop.replace(Nt,""))*H,Pt=parseFloat(nt.marginBottom.replace(Nt,""))*H,It=st.style,oe=it.style,Qt=Q.style,re=ut.style,Tt=X.style,Rt=et.style,Yt=pt.style,ee=$.style,Bt=parseFloat(lt.left),V=parseFloat(nt.width)*H+Nt;It.height=zt+Nt,It.width=V,It.top=lt.top-zt+Nt,It.left=Bt+Nt,oe.height=Pt+Nt,oe.width=V,oe.top=lt.top+lt.height+Nt,oe.left=Bt+Nt;var ot=lt.height+zt+Pt+Nt,dt=lt.top-zt+Nt;Qt.height=ot,Qt.width=ge+Nt,Qt.top=dt,Qt.left=Bt-ge+Nt,re.height=ot,re.width=Ct+Nt,re.top=dt,re.left=Bt+lt.width+Nt;var C=parseFloat(nt.paddingTop)*H;Tt.height=C+Nt;var ft=parseFloat(nt.paddingBottom)*H;Rt.height=ft+Nt;var Z=lt.height-ft-C+Nt,Y=lt.top+C+Nt;Yt.height=Z,Yt.width=parseFloat(nt.paddingLeft)*H+Nt,Yt.top=Y;var z=parseFloat(nt.paddingRight)*H;ee.height=Z,ee.width=z+Nt,ee.top=Y}},stop:function(R,b,k){k===void 0&&(k={});var S=k||{},x=S.state||"",T=this.getOffsetMethod(x),L=k.view,H=this.canvas,tt=H[T](L);tt.style.opacity=0}}},434:(u,g,_)=>{_.r(g),_.d(g,{default:()=>P});var w=_(50),A=_(163);const P={init:function(){(0,w.bindAll)(this,"_onFramesChange")},run:function(j){this.toggleVis(j,!0)},stop:function(j){this.toggleVis(j,!1)},toggleVis:function(j,M){if(M===void 0&&(M=!0),!j.Commands.isActive("preview")){var R=j.Canvas,b=M?"on":"off",k=R.getModel();k[b]("change:frames",this._onFramesChange),this.handleFrames(R.getFrames(),M)}},handleFrames:function(j,M){var R=this;j.forEach(function(b){var k;!((k=b.view)===null||k===void 0)&&k.loaded&&R._upFrame(b,M),b.__ol||(b.on("loaded",function(){return R._upFrame(b)}),b.__ol=!0)})},_onFramesChange:function(j,M){this.handleFrames(M)},_upFrame:function(j,M){var R,b=this,k=b.ppfx,S=b.em,x=b.id,T=(0,A.isDef)(M)?M:S.Commands.isActive(x),L=T?"add":"remove",H="".concat(k,"dashed");(R=j.view)===null||R===void 0||R.getBody().classList[L](H)}}},346:(u,g,_)=>{_.d(g,{FE:()=>R,G7:()=>b,Hn:()=>M,pH:()=>S,vA:()=>k});var w=_(316),A=_.n(w),P=function(){var x=function(T,L){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,tt){H.__proto__=tt}||function(H,tt){for(var lt in tt)Object.prototype.hasOwnProperty.call(tt,lt)&&(H[lt]=tt[lt])},x(T,L)};return function(T,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");x(T,L);function H(){this.constructor=T}T.prototype=L===null?Object.create(L):(H.prototype=L.prototype,new H)}}(),j=function(){return j=Object.assign||function(x){for(var T,L=1,H=arguments.length;L<H;L++){T=arguments[L];for(var tt in T)Object.prototype.hasOwnProperty.call(T,tt)&&(x[tt]=T[tt])}return x},j.apply(this,arguments)},M=function(x){P(T,x);function T(){return x!==null&&x.apply(this,arguments)||this}return T}(A().Model),R=function(x){P(T,x);function T(){return x!==null&&x.apply(this,arguments)||this}return T}(A().Collection),b=function(x){P(T,x);function T(){return x!==null&&x.apply(this,arguments)||this}return T}(A().View),k;(function(x){x.Screen="screen",x.World="world"})(k||(k={}));var S={x:0,y:0};j(j({},S),{width:0,height:0})},184:(u,g,_)=>{_.d(g,{W:()=>w,g:()=>A});var w;(function(P){P.remove="component:remove",P.add="component:add",P.move="component:move"})(w||(w={}));var A;(function(P){P.add="component:add",P.remove="component:remove",P.removeBefore="component:remove:before",P.create="component:create",P.update="component:update",P.updateInside="component:update-inside",P.symbolMainAdd="symbol:main:add",P.symbolMainUpdate="symbol:main:update",P.symbolMainUpdateDeep="symbol:main:update-deep",P.symbolMainRemove="symbol:main:remove",P.symbolMain="symbol:main",P.symbolInstanceAdd="symbol:instance:add",P.symbolInstanceRemove="symbol:instance:remove",P.symbolInstance="symbol:instance",P.symbol="symbol"})(A||(A={}))},330:(u,g,_)=>{_.d(g,{Z:()=>M});var w=_(50),A=_(346),P=function(){var R=function(b,k){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,x){S.__proto__=x}||function(S,x){for(var T in x)Object.prototype.hasOwnProperty.call(x,T)&&(S[T]=x[T])},R(b,k)};return function(b,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");R(b,k);function S(){this.constructor=b}b.prototype=k===null?Object.create(k):(S.prototype=k.prototype,new S)}}(),j=function(R){P(b,R);function b(k,S,x){k===void 0&&(k={}),x===void 0&&(x=!1);var T=R.call(this,k)||this;return T.itemsView="",T.itemType="type",T.reuseView=!1,T.config=S||k.config||{},x&&T.listenTo(T.collection,"add",T.addTo),T.items=[],T}return b.prototype.addTo=function(k){this.add(k)},b.prototype.itemViewNotFound=function(k){var S=this,x=S.config,T=S.ns,L=x.em,H="".concat(T?"[".concat(T,"]: "):"","'").concat(k,"' type not found");L&&L.logWarning(H)},b.prototype.add=function(k,S){var x=this,T=x.config,L=x.reuseView,H=x.items,tt=this.itemsView||{},lt=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],nt=S||null,q=this.itemView,D=k.get(this.itemType),at;tt[D]?q=tt[D]:D&&!tt[D]&&!(0,w.includes)(lt,D)&&this.itemViewNotFound(D),k.view&&L?at=k.view:at=new q({model:k,config:T},T),H&&H.push(at);var W=at.render().el;nt?nt.appendChild(W):this.$el.append(W)},b.prototype.render=function(){var k=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(S){this.add(S,k)},this),this.$el.append(k),this.onRender(),this},b.prototype.onRender=function(){},b.prototype.onRemoveBefore=function(k,S){},b.prototype.onRemove=function(k,S){},b.prototype.remove=function(k){k===void 0&&(k={});var S=this.items;return this.onRemoveBefore(S,k),this.clearItems(),R.prototype.remove.call(this),this.onRemove(S,k),this},b.prototype.clearItems=function(){this.items},b}(A.G7);const M=j;j.prototype.itemView=""},668:(u,g,_)=>{_.d(g,{Z:()=>b});var w=_(50),A=_(491),P=function(){return P=Object.assign||function(k){for(var S,x=1,T=arguments.length;x<T;x++){S=arguments[x];for(var L in S)Object.prototype.hasOwnProperty.call(S,L)&&(k[L]=S[L])}return k},P.apply(this,arguments)},j=function(){return{x:0,y:0}},M=["x","y"],R=function(){function k(S){return S===void 0&&(S={}),this.opts={snapOffset:5,scale:1},(0,w.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(S),this.delta=j(),this.lastScroll=j(),this.lastScrollDiff=j(),this.startPointer=j(),this.startPosition=j(),this.globScrollDiff=j(),this.currentPointer=j(),this.position=j(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return k.prototype.setOptions=function(S){S===void 0&&(S={}),this.opts=P(P({},this.opts),S)},k.prototype.toggleDrag=function(S){var x=this.getDocumentEl(),T=this.getContainerEl(),L=this.getWindowEl(),H=S?"on":"off",tt={on:A.on,off:A.S1};tt[H](T,"mousemove dragover",this.drag),tt[H](x,"mouseup dragend touchend",this.stop),tt[H](x,"keydown",this.keyHandle),tt[H](L,"scroll",this.handleScroll)},k.prototype.handleScroll=function(){var S=this,x=S.lastScroll,T=S.delta,L=this.getScrollInfo(),H={x:L.x-x.x,y:L.y-x.y};this.move(T.x+H.x,T.y+H.y),this.lastScrollDiff=H},k.prototype.start=function(S){var x=this.opts,T=x.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(S),this.guidesStatic=(0,w.result)(x,"guidesStatic")||[],this.guidesTarget=(0,w.result)(x,"guidesTarget")||[],(0,w.isFunction)(T)&&T(S,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=j(),this.globScrollDiff=j(),this.drag(S)},k.prototype.drag=function(S){var x=this,T=this,L=T.opts,H=T.lastScrollDiff,tt=T.globScrollDiff,lt=L.onDrag,nt=this.startPointer,q=this.getPointerPos(S),D={x:tt.x+H.x,y:tt.y+H.y};this.globScrollDiff=D;var at={x:q.x-nt.x+D.x,y:q.y-nt.y+D.y};this.lastScrollDiff=j();var W=this.lockedAxis;S.shiftKey?W=!W&&this.detectAxisLock(at.x,at.y):W=null,W==="x"?at.x=nt.x:W==="y"&&(at.y=nt.y);var st=function(pt){M.forEach(function($){return pt[$]=pt[$]*(0,w.result)(L,"scale")}),x.delta=pt,x.move(pt.x,pt.y),(0,w.isFunction)(lt)&&lt(S,x)},it=P({},at);if(this.currentPointer=q,this.lockedAxis=W,this.lastScroll=this.getScrollInfo(),st(at),this.guidesTarget.length){var Q=this.snapGuides(it),ut=Q.newDelta,X=Q.trgX,et=Q.trgY;(X||et)&&st(ut)}S.which===0&&this.stop(S)},k.prototype.snapGuides=function(S){var x=this,T=S,L=this,H=L.trgX,tt=L.trgY;return this.guidesTarget.forEach(function(lt){lt.x&&x.trgX||lt.y&&x.trgY||(lt.active=!1,x.guidesStatic.forEach(function(nt){if(!(lt.y&&nt.x||lt.x&&nt.y)){var q=lt.y&&nt.y,D=q?"y":"x",at=lt[D],W=nt[D],st=S[D],it=q?tt:H;if(x.isPointIn(at,W)&&(0,w.isUndefined)(it)){var Q=st-(at-W);x.setGuideLock(lt,Q)}}}))}),H=this.trgX,tt=this.trgY,M.forEach(function(lt){var nt=lt.toUpperCase(),q=x["trg".concat(nt)];q&&!x.isPointIn(S[lt],q.lock)&&(x.setGuideLock(q,null),q=null),q&&!(0,w.isUndefined)(q.lock)&&(T[lt]=q.lock)}),{newDelta:T,trgX:this.trgX,trgY:this.trgY}},k.prototype.isPointIn=function(S,x,T){var L=T===void 0?{}:T,H=L.offset,tt=H||this.opts.snapOffset||0;return S>=x&&S<=x+tt||S<=x&&S>=x-tt},k.prototype.setGuideLock=function(S,x){var T=(0,w.isUndefined)(S.x)?"Y":"X",L="trg".concat(T);return x!==null?(S.active=!0,S.lock=x,this[L]=S):(delete S.active,delete S.lock,delete this[L]),S},k.prototype.stop=function(S,x){x===void 0&&(x={});var T=this.delta,L=!!x.cancel,H=L?0:T.x,tt=L?0:T.y;this.toggleDrag(),this.lockedAxis=null,this.move(H,tt,!0);var lt=this.opts.onEnd;(0,w.isFunction)(lt)&&lt(S,this,{cancelled:L})},k.prototype.keyHandle=function(S){(0,A.kl)(S)&&this.stop(S,{cancel:!0})},k.prototype.move=function(S,x,T){var L=this,H=L.el,tt=L.opts,lt=this.startPosition;if(lt){var nt=tt.setPosition,q=lt.x+S,D=lt.y+x;this.position={x:q,y:D,end:T},(0,w.isFunction)(nt)&&nt(this.position),H&&(H.style.left="".concat(q,"px"),H.style.top="".concat(D,"px"))}},k.prototype.getContainerEl=function(){var S=this.opts.container;return S?[S]:this.getDocumentEl()},k.prototype.getWindowEl=function(){var S=this.getContainerEl();return S.map(function(x){var T=x.ownerDocument||x;return T.defaultView||T.parentWindow})},k.prototype.getDocumentEl=function(S){var x=this.opts.doc;if(S=S||this.el,!this.docs.length){var T=[document];S&&T.push(S.ownerDocument),x&&T.push(x),this.docs=T}return this.docs},k.prototype.getPointerPos=function(S){var x=this.opts.getPointerPosition,T=(0,A.VB)(S);return x?x(S):{x:T.clientX,y:T.clientY}},k.prototype.getStartPosition=function(){var S=this,x=S.el,T=S.opts,L=T.getPosition,H=j();return(0,w.isFunction)(L)?H=L():x&&(H={x:parseFloat(x.style.left),y:parseFloat(x.style.top)}),H},k.prototype.getScrollInfo=function(){var S=this.opts.doc,x=S&&S.body;return{y:x?x.scrollTop:0,x:x?x.scrollLeft:0}},k.prototype.detectAxisLock=function(S,x){var T=S,L=x,H=Math.abs(T),tt=Math.abs(L);if(L>=H||L<=-H)return"x";if(T>tt||T<-tt)return"y"},k}();const b=R},895:(u,g,_)=>{_.r(g),_.d(g,{default:()=>Rr});var w=typeof document<"u"?document:null,A=typeof window<"u"?window:null,P=Array.prototype,j=P.filter,M=P.indexOf,R=P.map,b=P.push,k=P.reverse,S=P.slice,x=P.splice,T=/^#[\w-]*$/,L=/^\.[\w-]*$/,H=/<.+>/,tt=/^\w+$/;function lt(vt,jt){return jt===void 0&&(jt=w),L.test(vt)?jt.getElementsByClassName(vt.slice(1)):tt.test(vt)?jt.getElementsByTagName(vt):jt.querySelectorAll(vt)}function nt(vt,jt){if(jt===void 0&&(jt=w),!!vt){if(vt.__cash)return vt;var Ut=vt;if(pt(vt)){if(jt.__cash&&(jt=jt[0]),Ut=T.test(vt)?jt.getElementById(vt.slice(1)):H.test(vt)?sr(vt):lt(vt,jt),!Ut)return}else if(et(vt))return this.ready(vt);(Ut.nodeType||Ut===A)&&(Ut=[Ut]),this.length=Ut.length;for(var fe=0,Oe=this.length;fe<Oe;fe++)this[fe]=Ut[fe]}}function q(vt,jt){return new nt(vt,jt)}var D=q.fn=q.prototype=nt.prototype={constructor:q,__cash:!0,length:0,splice:x};D.get=function(vt){return vt===void 0?S.call(this):this[vt<0?vt+this.length:vt]},D.eq=function(vt){return q(this.get(vt))},D.first=function(){return this.eq(0)},D.last=function(){return this.eq(-1)},D.map=function(vt){return q(R.call(this,function(jt,Ut){return vt.call(jt,Ut,jt)}))},D.slice=function(){return q(S.apply(this,arguments))};var at=/(?:^\w|[A-Z]|\b\w)/g,W=/[\s-_]+/g;function st(vt){return vt.replace(at,function(jt,Ut){return jt[Ut?"toUpperCase":"toLowerCase"]()}).replace(W,"")}q.camelCase=st;function it(vt,jt){for(var Ut=0,fe=vt.length;Ut<fe&&jt.call(vt[Ut],vt[Ut],Ut,vt)!==!1;Ut++);}q.each=it,D.each=function(vt){return it(this,function(jt,Ut){return vt.call(jt,Ut,jt)}),this},D.removeProp=function(vt){return this.each(function(jt,Ut){delete Ut[vt]})};function Q(vt){vt===void 0&&(vt=this);for(var jt=arguments,Ut=jt.length,fe=Ut<2?0:1;fe<Ut;fe++)for(var Oe in jt[fe])vt[Oe]=jt[fe][Oe];return vt}q.extend=D.extend=Q;var ut=1;q.guid=ut;function X(vt,jt){var Ut=vt&&(vt.matches||vt.webkitMatchesSelector||vt.mozMatchesSelector||vt.msMatchesSelector||vt.oMatchesSelector);return!!Ut&&Ut.call(vt,jt)}q.matches=X;function et(vt){return typeof vt=="function"}q.isFunction=et;function pt(vt){return typeof vt=="string"}q.isString=pt;function $(vt){return!isNaN(parseFloat(vt))&&isFinite(vt)}q.isNumeric=$;var mt=Array.isArray;q.isArray=mt,D.prop=function(vt,jt){if(vt){if(pt(vt))return arguments.length<2?this[0]&&this[0][vt]:this.each(function(fe,Oe){Oe[vt]=jt});for(var Ut in vt)this.prop(Ut,vt[Ut]);return this}};function N(vt){return pt(vt)?function(jt,Ut){return X(Ut,vt)}:vt.__cash?function(jt,Ut){return vt.is(Ut)}:function(jt,Ut,fe){return Ut===fe}}D.filter=function(vt){if(!vt)return q();var jt=et(vt)?vt:N(vt);return q(j.call(this,function(Ut,fe){return jt.call(Ut,fe,Ut,vt)}))};var kt=/\S+/g;function Mt(vt){return pt(vt)?vt.match(kt)||[]:[]}D.hasClass=function(vt){var jt=Mt(vt),Ut=!1;return jt.length&&this.each(function(fe,Oe){return Ut=Oe.classList.contains(jt[0]),!Ut}),Ut},D.removeAttr=function(vt){var jt=Mt(vt);return jt.length?this.each(function(Ut,fe){it(jt,function(Oe){fe.removeAttribute(Oe)})}):this},D.attr=function(vt,jt){if(vt){if(pt(vt)){if(arguments.length<2){if(!this[0])return;var Ut=this[0].getAttribute(vt);return Ut===null?void 0:Ut}return jt===null?this.removeAttr(vt):this.each(function(Oe,Ve){Ve.setAttribute(vt,jt)})}for(var fe in vt)this.attr(fe,vt[fe]);return this}},D.toggleClass=function(vt,jt){var Ut=Mt(vt),fe=jt!==void 0;return Ut.length?this.each(function(Oe,Ve){it(Ut,function(Xe){fe?jt?Ve.classList.add(Xe):Ve.classList.remove(Xe):Ve.classList.toggle(Xe)})}):this},D.addClass=function(vt){return this.toggleClass(vt,!0)},D.removeClass=function(vt){return arguments.length?this.toggleClass(vt,!1):this.attr("class","")};function gt(vt){return vt.filter(function(jt,Ut,fe){return fe.indexOf(jt)===Ut})}q.unique=gt,D.add=function(vt,jt){return q(gt(this.get().concat(q(vt,jt).get())))};function Kt(vt,jt,Ut){if(vt.nodeType===1){var fe=A.getComputedStyle(vt,null);return jt?Ut?fe.getPropertyValue(jt):fe[jt]:fe}}function F(vt,jt){return parseInt(Kt(vt,jt),10)||0}var Lt=/^--/;function le(vt){return Lt.test(vt)}var Nt={},ge=w&&w.createElement("div"),Ct=ge?ge.style:{},zt=["webkit","moz","ms","o"];function Pt(vt,jt){if(jt===void 0&&(jt=le(vt)),jt)return vt;if(!Nt[vt]){var Ut=st(vt),fe=""+Ut.charAt(0).toUpperCase()+Ut.slice(1),Oe=(Ut+" "+zt.join(fe+" ")+fe).split(" ");it(Oe,function(Ve){if(Ve in Ct)return Nt[vt]=Ve,!1})}return Nt[vt]}q.prefixedProp=Pt;var It={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function oe(vt,jt,Ut){return Ut===void 0&&(Ut=le(vt)),!Ut&&!It[vt]&&$(jt)?jt+"px":jt}D.css=function(vt,jt){if(pt(vt)){var Ut=le(vt);return vt=Pt(vt,Ut),arguments.length<2?this[0]&&Kt(this[0],vt,Ut):vt?(jt=oe(vt,jt,Ut),this.each(function(Oe,Ve){Ve.nodeType===1&&(Ut?Ve.style.setProperty(vt,jt):Ve.style[vt]=jt)})):this}for(var fe in vt)this.css(fe,vt[fe]);return this};var Qt="__cashData",re=/^data-(.*)/;q.hasData=function(vt){return Qt in vt};function Tt(vt){return vt[Qt]=vt[Qt]||{}}function Rt(vt,jt){var Ut=Tt(vt);if(jt){if(!(jt in Ut)){var fe=vt.dataset?vt.dataset[jt]||vt.dataset[st(jt)]:q(vt).attr("data-"+jt);if(fe!==void 0){try{fe=JSON.parse(fe)}catch{}Ut[jt]=fe}}return Ut[jt]}return Ut}function Yt(vt,jt){jt===void 0?delete vt[Qt]:delete Tt(vt)[jt]}function ee(vt,jt,Ut){Tt(vt)[jt]=Ut}D.data=function(vt,jt){var Ut=this;if(!vt)return this[0]?(it(this[0].attributes,function(Oe){var Ve=Oe.name.match(re);Ve&&Ut.data(Ve[1])}),Rt(this[0])):void 0;if(pt(vt))return jt===void 0?this[0]&&Rt(this[0],vt):this.each(function(Oe,Ve){return ee(Ve,vt,jt)});for(var fe in vt)this.data(fe,vt[fe]);return this},D.removeData=function(vt){return this.each(function(jt,Ut){return Yt(Ut,vt)})};function Bt(vt,jt){return F(vt,"border"+(jt?"Left":"Top")+"Width")+F(vt,"padding"+(jt?"Left":"Top"))+F(vt,"padding"+(jt?"Right":"Bottom"))+F(vt,"border"+(jt?"Right":"Bottom")+"Width")}it(["Width","Height"],function(vt){D["inner"+vt]=function(){if(this[0])return this[0]===A?A["inner"+vt]:this[0]["client"+vt]}}),it(["width","height"],function(vt,jt){D[vt]=function(Ut){return this[0]?arguments.length?(Ut=parseInt(Ut,10),this.each(function(fe,Oe){if(Oe.nodeType===1){var Ve=Kt(Oe,"boxSizing");Oe.style[vt]=oe(vt,Ut+(Ve==="border-box"?Bt(Oe,!jt):0))}})):this[0]===A?this[0][st("outer-"+vt)]:this[0].getBoundingClientRect()[vt]-Bt(this[0],!jt):Ut===void 0?void 0:this}}),it(["Width","Height"],function(vt,jt){D["outer"+vt]=function(Ut){if(this[0])return this[0]===A?A["outer"+vt]:this[0]["offset"+vt]+(Ut?F(this[0],"margin"+(jt?"Top":"Left"))+F(this[0],"margin"+(jt?"Bottom":"Right")):0)}});function V(vt,jt){for(var Ut=0,fe=jt.length;Ut<fe;Ut++)if(vt.indexOf(jt[Ut])<0)return!1;return!0}function ot(vt,jt,Ut){it(vt[Ut],function(fe){fe[0];var Oe=fe[1];jt.removeEventListener(Ut,Oe)}),delete vt[Ut]}var dt="__cashEvents",C=".";function ft(vt){return vt[dt]=vt[dt]||{}}function Z(vt,jt,Ut,fe){fe.guid=fe.guid||ut++;var Oe=ft(vt);Oe[jt]=Oe[jt]||[],Oe[jt].push([Ut,fe]),vt.addEventListener(jt,fe)}function Y(vt){var jt=vt.split(C);return[jt[0],jt.slice(1).sort()]}function z(vt,jt,Ut,fe){var Oe=ft(vt);if(jt){var Ve=Oe[jt];if(!Ve)return;fe&&(fe.guid=fe.guid||ut++),Oe[jt]=Ve.filter(function(Xe){var gn=Xe[0],Mn=Xe[1];if(fe&&Mn.guid!==fe.guid||!V(gn,Ut))return!0;vt.removeEventListener(jt,Mn)})}else if(!Ut||!Ut.length)for(jt in Oe)ot(Oe,vt,jt);else for(jt in Oe)z(vt,jt,Ut,fe)}D.off=function(vt,jt){var Ut=this;return vt===void 0?this.each(function(fe,Oe){return z(Oe)}):it(Mt(vt),function(fe){var Oe=Y(fe),Ve=Oe[0],Xe=Oe[1];Ut.each(function(gn,Mn){return z(Mn,Ve,Xe,jt)})}),this},D.on=function(vt,jt,Ut,fe){var Oe=this;if(!pt(vt)){for(var Ve in vt)this.on(Ve,jt,vt[Ve]);return this}return et(jt)&&(Ut=jt,jt=!1),it(Mt(vt),function(Xe){var gn=Y(Xe),Mn=gn[0],Pr=gn[1];Oe.each(function(Ji,Sn){var Ln=function Ri(Fr){if(!(Fr.namespace&&!V(Pr,Fr.namespace.split(C)))){var kr=Sn;if(jt){for(var Yr=Fr.target;!X(Yr,jt);)if(Yr===Sn||(Yr=Yr.parentNode,!Yr))return;kr=Yr}Fr.namespace=Fr.namespace||"";var Dn=Ut.call(kr,Fr,Fr.data);fe&&z(Sn,Mn,Pr,Ri),Dn===!1&&(Fr.preventDefault(),Fr.stopPropagation())}};Ln.guid=Ut.guid=Ut.guid||ut++,Z(Sn,Mn,Pr,Ln)})}),this},D.one=function(vt,jt,Ut){return this.on(vt,jt,Ut,!0)},D.ready=function(vt){var jt=function(){return vt(q)};return w.readyState!=="loading"?setTimeout(jt):w.addEventListener("DOMContentLoaded",jt),this},D.trigger=function(vt,jt){var Ut=vt;if(pt(vt)){var fe=Y(vt),Oe=fe[0],Ve=fe[1];Ut=w.createEvent("HTMLEvents"),Ut.initEvent(Oe,!0,!0),Ut.namespace=Ve.join(C)}return Ut.data=jt,this.each(function(Xe,gn){gn.dispatchEvent(Ut)})};function Ot(vt){var jt=[];return it(vt.options,function(Ut){Ut.selected&&!Ut.disabled&&!Ut.parentNode.disabled&&jt.push(Ut.value)}),jt}function Zt(vt){return vt.selectedIndex<0?null:vt.options[vt.selectedIndex].value}var Jt=/select-one/i,Ft=/select-multiple/i;function ae(vt){var jt=vt.type;return Jt.test(jt)?Zt(vt):Ft.test(jt)?Ot(vt):vt.value}var ne=/%20/g;function ce(vt,jt){return"&"+encodeURIComponent(vt)+"="+encodeURIComponent(jt).replace(ne,"+")}var he=/file|reset|submit|button|image/i,Me=/radio|checkbox/i;D.serialize=function(){var vt="";return this.each(function(jt,Ut){it(Ut.elements||[Ut],function(fe){if(!(fe.disabled||!fe.name||fe.tagName==="FIELDSET")&&!he.test(fe.type)&&!(Me.test(fe.type)&&!fe.checked)){var Oe=ae(fe);if(Oe!==void 0){var Ve=mt(Oe)?Oe:[Oe];it(Ve,function(Xe){vt+=ce(fe.name,Xe)})}}})}),vt.substr(1)},D.val=function(vt){return vt===void 0?this[0]&&ae(this[0]):this.each(function(jt,Ut){var fe=Ft.test(Ut.type),Oe=vt===null?fe?[]:"":vt;fe&&mt(Oe)?it(Ut.options,function(Ve){Ve.selected=Oe.indexOf(Ve.value)>=0}):Ut.value=Oe})},D.clone=function(){return this.map(function(vt,jt){return jt.cloneNode(!0)})},D.detach=function(){return this.each(function(vt,jt){jt.parentNode&&jt.parentNode.removeChild(jt)})};var Fe=/^\s*<(\w+)[^>]*>/,we=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,ar;function Ie(){if(!ar){var vt=w.createElement("table"),jt=w.createElement("tr");ar={"*":w.createElement("div"),tr:w.createElement("tbody"),td:jt,th:jt,thead:vt,tbody:vt,tfoot:vt}}}function sr(vt){if(Ie(),!pt(vt))return[];if(we.test(vt))return[w.createElement(RegExp.$1)];var jt=Fe.test(vt)&&RegExp.$1,Ut=ar[jt]||ar["*"];return Ut.innerHTML=vt,q(Ut.childNodes).detach().get()}q.parseHTML=sr,D.empty=function(){var vt=this[0];if(vt)for(;vt.firstChild;)vt.removeChild(vt.firstChild);return this};function Ke(vt,jt,Ut){Ut?vt.insertBefore(jt,vt.childNodes[0]):vt.appendChild(jt)}function dr(vt,jt,Ut){if(jt!==void 0){var fe=pt(jt);!fe&&jt.length?it(jt,function(Oe){return dr(vt,Oe,Ut)}):it(vt,fe?function(Oe){Oe.insertAdjacentHTML(Ut?"afterbegin":"beforeend",jt)}:function(Oe,Ve){return Ke(Oe,Ve?jt.cloneNode(!0):jt,Ut)})}}D.append=function(){var vt=this;return it(arguments,function(jt){dr(vt,jt)}),this},D.appendTo=function(vt){return dr(q(vt),this),this},D.html=function(vt){if(vt===void 0)return this[0]&&this[0].innerHTML;var jt=vt.nodeType?vt[0].outerHTML:vt;return this.each(function(Ut,fe){fe.innerHTML=jt})},D.insertAfter=function(vt){var jt=this;return q(vt).each(function(Ut,fe){var Oe=fe.parentNode;jt.each(function(Ve,Xe){Oe.insertBefore(Ut?Xe.cloneNode(!0):Xe,fe.nextSibling)})}),this},D.after=function(){var vt=this;return it(k.apply(arguments),function(jt){k.apply(q(jt).slice()).insertAfter(vt)}),this},D.insertBefore=function(vt){var jt=this;return q(vt).each(function(Ut,fe){var Oe=fe.parentNode;jt.each(function(Ve,Xe){Oe.insertBefore(Ut?Xe.cloneNode(!0):Xe,fe)})}),this},D.before=function(){var vt=this;return it(arguments,function(jt){q(jt).insertBefore(vt)}),this},D.prepend=function(){var vt=this;return it(arguments,function(jt){dr(vt,jt,!0)}),this},D.prependTo=function(vt){return dr(q(vt),k.apply(this.slice()),!0),this},D.remove=function(){return this.detach().off()},D.replaceWith=function(vt){var jt=this;return this.each(function(Ut,fe){var Oe=fe.parentNode;if(Oe){var Ve=Ut?q(vt).clone():q(vt);if(!Ve[0])return jt.remove(),!1;Oe.replaceChild(Ve[0],fe),q(Ve[0]).after(Ve.slice(1))}})},D.replaceAll=function(vt){return q(vt).replaceWith(this),this},D.text=function(vt){return vt===void 0?this[0]?this[0].textContent:"":this.each(function(jt,Ut){Ut.textContent=vt})};var pe=w&&w.documentElement;D.offset=function(){var vt=this[0];if(vt){var jt=vt.getBoundingClientRect();return{top:jt.top+A.pageYOffset-pe.clientTop,left:jt.left+A.pageXOffset-pe.clientLeft}}},D.offsetParent=function(){return q(this[0]&&this[0].offsetParent)},D.position=function(){var vt=this[0];if(vt)return{left:vt.offsetLeft,top:vt.offsetTop}},D.children=function(vt){var jt=[];return this.each(function(Ut,fe){b.apply(jt,fe.children)}),jt=q(gt(jt)),vt?jt.filter(function(Ut,fe){return X(fe,vt)}):jt},D.contents=function(){var vt=[];return this.each(function(jt,Ut){b.apply(vt,Ut.tagName==="IFRAME"?[Ut.contentDocument]:Ut.childNodes)}),q(vt.length&&gt(vt))},D.find=function(vt){for(var jt=[],Ut=0,fe=this.length;Ut<fe;Ut++){var Oe=lt(vt,this[Ut]);Oe.length&&b.apply(jt,Oe)}return q(jt.length&&gt(jt))},D.has=function(vt){var jt=pt(vt)?function(Ut,fe){return!!lt(vt,fe).length}:function(Ut,fe){return fe.contains(vt)};return this.filter(jt)},D.is=function(vt){if(!vt||!this[0])return!1;var jt=N(vt),Ut=!1;return this.each(function(fe,Oe){return Ut=jt(fe,Oe,vt),!Ut}),Ut},D.next=function(){return q(this[0]&&this[0].nextElementSibling)},D.not=function(vt){if(!vt||!this[0])return this;var jt=N(vt);return this.filter(function(Ut,fe){return!jt(Ut,fe,vt)})},D.parent=function(){var vt=[];return this.each(function(jt,Ut){Ut&&Ut.parentNode&&vt.push(Ut.parentNode)}),q(gt(vt))},D.index=function(vt){var jt=vt?q(vt)[0]:this[0],Ut=vt?this:q(jt).parent().children();return M.call(Ut,jt)},D.closest=function(vt){return!vt||!this[0]?q():this.is(vt)?this.filter(vt):this.parent().closest(vt)},D.parents=function(vt){var jt=[],Ut;return this.each(function(fe,Oe){for(Ut=Oe;Ut&&Ut.parentNode&&Ut!==w.body.parentNode;)Ut=Ut.parentNode,(!vt||vt&&X(Ut,vt))&&jt.push(Ut)}),q(gt(jt))},D.prev=function(){return q(this[0]&&this[0].previousElementSibling)},D.siblings=function(){var vt=this[0];return this.parent().children().filter(function(jt,Ut){return Ut!==vt})};const Rr=q},491:(u,g,_)=>{_.d(g,{$Q:()=>H,BM:()=>at,FW:()=>x,G1:()=>M,GX:()=>Q,L_:()=>b,Mx:()=>R,R3:()=>tt,S1:()=>Kt,SJ:()=>D,Ut:()=>it,VB:()=>et,Vb:()=>N,cx:()=>k,dL:()=>L,hy:()=>kt,kl:()=>pt,nB:()=>Mt,o5:()=>st,on:()=>gt,pn:()=>T,r$:()=>$,rw:()=>nt,sE:()=>S,sN:()=>X,t3:()=>q,ut:()=>lt});var w=_(50),A=function(F,Lt,le){if(le||arguments.length===2)for(var Nt=0,ge=Lt.length,Ct;Nt<ge;Nt++)(Ct||!(Nt in Lt))&&(Ct||(Ct=Array.prototype.slice.call(Lt,0,Nt)),Ct[Nt]=Lt[Nt]);return F.concat(Ct||Array.prototype.slice.call(Lt))},P="tag",j="attributes",M="transitionend oTransitionEnd transitionend webkitTransitionEnd",R=function(F){return(F==null?void 0:F.nodeType)===Node.DOCUMENT_NODE},b=function(F){var Lt=F&&F.parentNode;Lt&&Lt.removeChild(F)};function k(){for(var F=[],Lt=0;Lt<arguments.length;Lt++)F[Lt]=arguments[Lt];var le=Array.isArray(F[0])?F[0]:A([],F,!0);return le.filter(Boolean).join(" ")}var S=function(F,Lt){return F.querySelectorAll(Lt)},x=function(F,Lt){return Lt===void 0&&(Lt={}),F&&F.setAttribute&&(0,w.each)(Lt,function(le,Nt){return F.setAttribute(Nt,le)})},T=function(F){var Lt;return F&&!!(F.offsetWidth||F.offsetHeight||!((Lt=F.getClientRects)===null||Lt===void 0)&&Lt.call(F).length)},L=function(F,Lt){var le;(le=F.parentNode)===null||le===void 0||le.replaceChild(Lt,F)},H=function(F,Lt,le){var Nt=F.childNodes,ge=Nt.length,Ct=(0,w.isUndefined)(le)?ge:le;(0,w.isString)(Lt)&&(F.insertAdjacentHTML("beforeEnd",Lt),Lt=F.lastChild,F.removeChild(Lt)),Ct>=ge?F.appendChild(Lt):F.insertBefore(Lt,Nt[Ct])},tt=function(F,Lt){return H(F,Lt)},lt=function(F,Lt,le){Lt===void 0&&(Lt={});var Nt=document.createElement(F);return Lt&&(0,w.each)(Lt,function(ge,Ct){return Nt.setAttribute(Ct,ge)}),le&&((0,w.isString)(le)?Nt.innerHTML=le:Nt.appendChild(le)),Nt},nt=function(F){return document.createTextNode(F)},q=function(F,Lt){var le,Nt=F.type;try{le=new window[Lt](Nt,F)}catch{le=document.createEvent(Lt),le.initEvent(Nt,!0,!0)}return le._parentEvent=F,Nt.indexOf("key")===0&&(le.keyCodeVal=F.keyCode,["keyCode","which"].forEach(function(ge){Object.defineProperty(le,ge,{get:function(){return this.keyCodeVal}})})),le},D=function(F,Lt){Lt===void 0&&(Lt=[]);var le=Array.isArray(Lt)?Lt:[Lt];le.forEach(function(Nt){var ge=Nt[P]||"div",Ct=Nt[j]||{},zt=document.createElement(ge);(0,w.each)(Ct,function(Pt,It){zt.setAttribute(It,Pt)}),F.appendChild(zt)})},at=function(F){return(F==null?void 0:F.nodeType)===Node.TEXT_NODE},W=function(F){return(F==null?void 0:F.nodeType)===Node.COMMENT_NODE},st=function(F){return F&&!at(F)&&!W(F)},it=function(F){var Lt={top:0,left:0,width:0,height:0};if(!F)return Lt;var le;if(at(F)){var Nt=document.createRange();Nt.selectNode(F),le=Nt.getBoundingClientRect(),Nt.detach()}return le||(F.getBoundingClientRect?F.getBoundingClientRect():Lt)},Q=function(F){var Lt=(F==null?void 0:F.ownerDocument)||document,le=Lt.documentElement,Nt=Lt.defaultView||window;return{x:(Nt.pageXOffset||le.scrollLeft||0)-(le.clientLeft||0),y:(Nt.pageYOffset||le.scrollTop||0)-(le.clientTop||0)}},ut=function(F){return F.which||F.keyCode},X=function(F){return String.fromCharCode(ut(F))},et=function(F){return F.touches&&F.touches[0]?F.touches[0]:F},pt=function(F){return ut(F)===27},$=function(F){return ut(F)===13},mt=function(F){return F.ctrlKey},N=function(F){return mt(F)||F.metaKey},kt=function(F){if(!F)return"";var Lt=F.name,le=F.publicId,Nt=F.systemId,ge=le?' PUBLIC "'.concat(le,'"'):"",Ct=!le&&Nt?' SYSTEM "'.concat(Nt,'"'):"";return"<!DOCTYPE ".concat(Lt).concat(ge).concat(Ct,">")},Mt=function(F){F===void 0&&(F={});var Lt=[];return(0,w.each)(F,function(le,Nt){return Lt.push("".concat(Nt,'="').concat(le,'"'))}),Lt.join(" ")},gt=function(F,Lt,le,Nt){var ge=Lt.split(/\s+/),Ct=(0,w.isArray)(F)?F:[F];ge.forEach(function(zt){Ct.forEach(function(Pt){return Pt==null?void 0:Pt.addEventListener(zt,le,Nt)})})},Kt=function(F,Lt,le,Nt){var ge=Lt.split(/\s+/),Ct=(0,w.isArray)(F)?F:[F];ge.forEach(function(zt){Ct.forEach(function(Pt){return Pt==null?void 0:Pt.removeEventListener(zt,le,Nt)})})}},163:(u,g,_)=>{_.r(g),_.d(g,{appendStyles:()=>nt,buildBase64UrlFromSvg:()=>ge,camelCase:()=>W,capitalize:()=>kt,createId:()=>Nt,deepMerge:()=>pt,escape:()=>X,escapeNodeContent:()=>et,find:()=>ut,getComponentModel:()=>Lt,getComponentView:()=>F,getElement:()=>Q,getGlobal:()=>T,getModel:()=>$,getUiClass:()=>lt,getUnitFromValue:()=>D,getViewEl:()=>gt,hasDnd:()=>it,hasWin:()=>x,isBultInMethod:()=>R,isComponent:()=>Kt,isDef:()=>S,isEmptyObj:()=>N,isObject:()=>mt,isRule:()=>Mt,matches:()=>tt,normalizeFloat:()=>st,normalizeKey:()=>b,setViewEl:()=>le,shallowDiff:()=>q,toLowerCase:()=>L,upFirst:()=>at,wait:()=>k});var w=_(50),A=_(491),P=function(){return P=Object.assign||function(Ct){for(var zt,Pt=1,It=arguments.length;Pt<It;Pt++){zt=arguments[Pt];for(var oe in zt)Object.prototype.hasOwnProperty.call(zt,oe)&&(Ct[oe]=zt[oe])}return Ct},P.apply(this,arguments)},j=function(Ct,zt,Pt){if(Pt||arguments.length===2)for(var It=0,oe=zt.length,Qt;It<oe;It++)(Qt||!(It in zt))&&(Qt||(Qt=Array.prototype.slice.call(zt,0,It)),Qt[It]=zt[It]);return Ct.concat(Qt||Array.prototype.slice.call(zt))},M={},R=function(Ct){return(0,w.isFunction)(M[Ct])},b=function(Ct){return R(Ct)?"_".concat(Ct):Ct},k=function(Ct){return Ct===void 0&&(Ct=0),new Promise(function(zt){return setTimeout(zt,Ct)})},S=function(Ct){return typeof Ct<"u"},x=function(){return typeof window<"u"},T=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:_.g},L=function(Ct){return(Ct||"").toLowerCase()},H=x()?window.Element.prototype:{},tt=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.msMatchesSelector,lt=function(Ct,zt){var Pt=Ct.getConfig(),It=Pt.stylePrefix,oe=Pt.customUI;return[oe&&"".concat(It,"cui"),zt].filter(function(Qt){return Qt}).join(" ")},nt=function(Ct,zt){zt===void 0&&(zt={});var Pt=(0,w.isArray)(Ct)?j([],Ct,!0):[Ct];if(Pt.length){var It=Pt.shift();if(It&&(!zt.unique||!document.querySelector('link[href="'.concat(It,'"]')))){var oe=document.head,Qt=document.createElement("link");Qt.href=It,Qt.rel="stylesheet",zt.prepand?oe.insertBefore(Qt,oe.firstChild):oe.appendChild(Qt)}nt(Pt)}},q=function(Ct,zt){var Pt={},It=(0,w.keys)(zt);for(var oe in Ct)if(Ct.hasOwnProperty(oe)){var Qt=Ct[oe],re=zt[oe];It.indexOf(oe)>=0?Qt!==re&&(Pt[oe]=re):Pt[oe]=null}for(var oe in zt)zt.hasOwnProperty(oe)&&(0,w.isUndefined)(Ct[oe])&&(Pt[oe]=zt[oe]);return Pt},D=function(Ct){return Ct.replace(parseFloat(Ct),"")},at=function(Ct){return Ct[0].toUpperCase()+Ct.toLowerCase().slice(1)},W=function(Ct){return Ct.replace(/-./g,function(zt){return zt[1].toUpperCase()})},st=function(Ct,zt,Pt){zt===void 0&&(zt=1),Pt===void 0&&(Pt=0);var It=0;if(isNaN(Ct))return Pt;if(Ct=parseFloat(Ct),Math.floor(Ct)!==Ct){var oe=zt.toString().split(".")[1];It=oe?oe.length:0}return It?parseFloat(Ct.toFixed(It)):Ct},it=function(Ct){return"draggable"in document.createElement("i")&&(Ct?Ct.config.nativeDnD:!0)},Q=function(Ct){if((0,w.isElement)(Ct)||(0,A.BM)(Ct))return Ct;if(Ct&&Ct.getEl)return Ct.getEl()},ut=function(Ct,zt){var Pt=null;return Ct.some(function(It,oe){return zt(It,oe,Ct)?(Pt=It,1):0}),Pt},X=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},et=function(Ct){return Ct===void 0&&(Ct=""),"".concat(Ct).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},pt=function(){for(var Ct=[],zt=0;zt<arguments.length;zt++)Ct[zt]=arguments[zt];for(var Pt=P({},Ct[0]),It=1;It<Ct.length;It++){var oe=P({},Ct[It]);for(var Qt in oe){var re=Pt[Qt],Tt=oe[Qt];mt(re)&&mt(Tt)?Pt[Qt]=pt(re,Tt):Pt[Qt]=Tt}}return Pt},$=function(Ct,zt){var Pt;return!zt&&Ct&&Ct.__cashData?Pt=Ct.__cashData.model:zt&&(0,w.isElement)(Ct)&&(Pt=zt(Ct).data("model")),Pt},mt=function(Ct){return Ct&&!Array.isArray(Ct)&&typeof Ct=="object"},N=function(Ct){return Object.keys(Ct).length<=0},kt=function(Ct){return Ct===void 0&&(Ct=""),Ct&&Ct.charAt(0).toUpperCase()+Ct.substring(1)},Mt=function(Ct){return Ct&&Ct.toCSS},gt=function(Ct){return Ct==null?void 0:Ct.__gjsv},Kt=function(Ct){return!!(Ct!=null&&Ct.toHTML)},F=function(Ct){return gt(Ct)},Lt=function(Ct){var zt;return(zt=F(Ct))===null||zt===void 0?void 0:zt.model},le=function(Ct,zt){Ct.__gjsv=zt},Nt=function(Ct){Ct===void 0&&(Ct=16);for(var zt="",Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",It=Pt.length,oe=0;oe<Ct;oe++)zt+=Pt.charAt(Math.floor(Math.random()*It));return zt},ge=function(Ct){if(Ct&&Ct.substr(0,4)==="<svg"){var zt="";return x()?zt=window.btoa(Ct):typeof Buffer<"u"&&(zt=Buffer.from(Ct,"utf8").toString("base64")),zt?"data:image/svg+xml;base64,".concat(zt):Ct}return Ct}},828:(u,g,_)=>{var w={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function A(j){var M=P(j);return _(M)}function P(j){if(!_.o(w,j)){var M=new Error("Cannot find module '"+j+"'");throw M.code="MODULE_NOT_FOUND",M}return w[j]}A.keys=function(){return Object.keys(w)},A.resolve=P,u.exports=A,A.id=828},50:(u,g,_)=>{_.r(g),_.d(g,{VERSION:()=>A,after:()=>bl,all:()=>jn,allKeys:()=>ar,any:()=>Kr,assign:()=>Ln,before:()=>ba,bind:()=>_a,bindAll:()=>vi,chain:()=>to,chunk:()=>Cs,clone:()=>Dn,collect:()=>si,compact:()=>Ol,compose:()=>gs,constant:()=>Bt,contains:()=>hr,countBy:()=>bs,create:()=>Yr,debounce:()=>no,default:()=>Os,defaults:()=>Ri,defer:()=>_l,delay:()=>zn,detect:()=>ao,difference:()=>zi,drop:()=>cn,each:()=>Tn,escape:()=>me,every:()=>jn,extend:()=>Sn,extendOwn:()=>Ln,filter:()=>Zn,find:()=>ao,findIndex:()=>Uo,findKey:()=>Vi,findLastIndex:()=>Bi,findWhere:()=>Ko,first:()=>uo,flatten:()=>ws,foldl:()=>so,foldr:()=>En,forEach:()=>Tn,functions:()=>Pr,get:()=>Xr,groupBy:()=>Ca,has:()=>ai,head:()=>uo,identity:()=>Hn,include:()=>hr,includes:()=>hr,indexBy:()=>xl,indexOf:()=>Wo,initial:()=>Oa,inject:()=>so,intersection:()=>Ta,invert:()=>Mn,invoke:()=>gi,isArguments:()=>Rt,isArray:()=>Qt,isArrayBuffer:()=>F,isBoolean:()=>et,isDataView:()=>oe,isDate:()=>kt,isElement:()=>pt,isEmpty:()=>Ft,isEqual:()=>we,isError:()=>gt,isFinite:()=>Yt,isFunction:()=>Nt,isMap:()=>Ut,isMatch:()=>ae,isNaN:()=>ee,isNull:()=>ut,isNumber:()=>N,isObject:()=>Q,isRegExp:()=>Mt,isSet:()=>Oe,isString:()=>mt,isSymbol:()=>Kt,isTypedArray:()=>Y,isUndefined:()=>X,isWeakMap:()=>fe,isWeakSet:()=>Ve,iteratee:()=>mn,keys:()=>Jt,last:()=>Hr,lastIndexOf:()=>ms,map:()=>si,mapObject:()=>Wr,matcher:()=>In,matches:()=>In,max:()=>ys,memoize:()=>vs,methods:()=>Pr,min:()=>tn,mixin:()=>Ai,negate:()=>zo,noop:()=>nr,now:()=>K,object:()=>ki,omit:()=>Sl,once:()=>Ni,pairs:()=>gn,partial:()=>Br,partition:()=>Cl,pick:()=>Pi,pluck:()=>mi,property:()=>Nr,propertyOf:()=>un,random:()=>On,range:()=>xs,reduce:()=>so,reduceRight:()=>En,reject:()=>Hi,rest:()=>cn,restArguments:()=>it,result:()=>hs,sample:()=>_i,select:()=>Zn,shuffle:()=>_s,size:()=>Pn,some:()=>Kr,sortBy:()=>wl,sortedIndex:()=>oo,tail:()=>cn,take:()=>uo,tap:()=>oi,template:()=>ma,templateSettings:()=>fr,throttle:()=>ro,times:()=>Vr,toArray:()=>lo,toPath:()=>Qi,transpose:()=>fo,unescape:()=>ir,union:()=>Go,uniq:()=>co,unique:()=>co,uniqueId:()=>ya,unzip:()=>fo,values:()=>Xe,where:()=>yi,without:()=>Tl,wrap:()=>io,zip:()=>El});var w={};_.r(w),_.d(w,{VERSION:()=>A,after:()=>bl,all:()=>jn,allKeys:()=>ar,any:()=>Kr,assign:()=>Ln,before:()=>ba,bind:()=>_a,bindAll:()=>vi,chain:()=>to,chunk:()=>Cs,clone:()=>Dn,collect:()=>si,compact:()=>Ol,compose:()=>gs,constant:()=>Bt,contains:()=>hr,countBy:()=>bs,create:()=>Yr,debounce:()=>no,default:()=>bi,defaults:()=>Ri,defer:()=>_l,delay:()=>zn,detect:()=>ao,difference:()=>zi,drop:()=>cn,each:()=>Tn,escape:()=>me,every:()=>jn,extend:()=>Sn,extendOwn:()=>Ln,filter:()=>Zn,find:()=>ao,findIndex:()=>Uo,findKey:()=>Vi,findLastIndex:()=>Bi,findWhere:()=>Ko,first:()=>uo,flatten:()=>ws,foldl:()=>so,foldr:()=>En,forEach:()=>Tn,functions:()=>Pr,get:()=>Xr,groupBy:()=>Ca,has:()=>ai,head:()=>uo,identity:()=>Hn,include:()=>hr,includes:()=>hr,indexBy:()=>xl,indexOf:()=>Wo,initial:()=>Oa,inject:()=>so,intersection:()=>Ta,invert:()=>Mn,invoke:()=>gi,isArguments:()=>Rt,isArray:()=>Qt,isArrayBuffer:()=>F,isBoolean:()=>et,isDataView:()=>oe,isDate:()=>kt,isElement:()=>pt,isEmpty:()=>Ft,isEqual:()=>we,isError:()=>gt,isFinite:()=>Yt,isFunction:()=>Nt,isMap:()=>Ut,isMatch:()=>ae,isNaN:()=>ee,isNull:()=>ut,isNumber:()=>N,isObject:()=>Q,isRegExp:()=>Mt,isSet:()=>Oe,isString:()=>mt,isSymbol:()=>Kt,isTypedArray:()=>Y,isUndefined:()=>X,isWeakMap:()=>fe,isWeakSet:()=>Ve,iteratee:()=>mn,keys:()=>Jt,last:()=>Hr,lastIndexOf:()=>ms,map:()=>si,mapObject:()=>Wr,matcher:()=>In,matches:()=>In,max:()=>ys,memoize:()=>vs,methods:()=>Pr,min:()=>tn,mixin:()=>Ai,negate:()=>zo,noop:()=>nr,now:()=>K,object:()=>ki,omit:()=>Sl,once:()=>Ni,pairs:()=>gn,partial:()=>Br,partition:()=>Cl,pick:()=>Pi,pluck:()=>mi,property:()=>Nr,propertyOf:()=>un,random:()=>On,range:()=>xs,reduce:()=>so,reduceRight:()=>En,reject:()=>Hi,rest:()=>cn,restArguments:()=>it,result:()=>hs,sample:()=>_i,select:()=>Zn,shuffle:()=>_s,size:()=>Pn,some:()=>Kr,sortBy:()=>wl,sortedIndex:()=>oo,tail:()=>cn,take:()=>uo,tap:()=>oi,template:()=>ma,templateSettings:()=>fr,throttle:()=>ro,times:()=>Vr,toArray:()=>lo,toPath:()=>Qi,transpose:()=>fo,unescape:()=>ir,union:()=>Go,uniq:()=>co,unique:()=>co,uniqueId:()=>ya,unzip:()=>fo,values:()=>Xe,where:()=>yi,without:()=>Tl,wrap:()=>io,zip:()=>El});var A="1.13.6",P=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},j=Array.prototype,M=Object.prototype,R=typeof Symbol<"u"?Symbol.prototype:null,b=j.push,k=j.slice,S=M.toString,x=M.hasOwnProperty,T=typeof ArrayBuffer<"u",L=typeof DataView<"u",H=Array.isArray,tt=Object.keys,lt=Object.create,nt=T&&ArrayBuffer.isView,q=isNaN,D=isFinite,at=!{toString:null}.propertyIsEnumerable("toString"),W=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],st=Math.pow(2,53)-1;function it(G,ct){return ct=ct==null?G.length-1:+ct,function(){for(var Et=Math.max(arguments.length-ct,0),Dt=Array(Et),qt=0;qt<Et;qt++)Dt[qt]=arguments[qt+ct];switch(ct){case 0:return G.call(this,Dt);case 1:return G.call(this,arguments[0],Dt);case 2:return G.call(this,arguments[0],arguments[1],Dt)}var Wt=Array(ct+1);for(qt=0;qt<ct;qt++)Wt[qt]=arguments[qt];return Wt[ct]=Dt,G.apply(this,Wt)}}function Q(G){var ct=typeof G;return ct==="function"||ct==="object"&&!!G}function ut(G){return G===null}function X(G){return G===void 0}function et(G){return G===!0||G===!1||S.call(G)==="[object Boolean]"}function pt(G){return!!(G&&G.nodeType===1)}function $(G){var ct="[object "+G+"]";return function(Et){return S.call(Et)===ct}}const mt=$("String"),N=$("Number"),kt=$("Date"),Mt=$("RegExp"),gt=$("Error"),Kt=$("Symbol"),F=$("ArrayBuffer");var Lt=$("Function"),le=P.document&&P.document.childNodes;typeof Int8Array!="object"&&typeof le!="function"&&(Lt=function(G){return typeof G=="function"||!1});const Nt=Lt,ge=$("Object");var Ct=L&&ge(new DataView(new ArrayBuffer(8))),zt=typeof Map<"u"&&ge(new Map),Pt=$("DataView");function It(G){return G!=null&&Nt(G.getInt8)&&F(G.buffer)}const oe=Ct?It:Pt,Qt=H||$("Array");function re(G,ct){return G!=null&&x.call(G,ct)}var Tt=$("Arguments");(function(){Tt(arguments)||(Tt=function(G){return re(G,"callee")})})();const Rt=Tt;function Yt(G){return!Kt(G)&&D(G)&&!isNaN(parseFloat(G))}function ee(G){return N(G)&&q(G)}function Bt(G){return function(){return G}}function V(G){return function(ct){var Et=G(ct);return typeof Et=="number"&&Et>=0&&Et<=st}}function ot(G){return function(ct){return ct==null?void 0:ct[G]}}const dt=ot("byteLength"),C=V(dt);var ft=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Z(G){return nt?nt(G)&&!oe(G):C(G)&&ft.test(S.call(G))}const Y=T?Z:Bt(!1),z=ot("length");function Ot(G){for(var ct={},Et=G.length,Dt=0;Dt<Et;++Dt)ct[G[Dt]]=!0;return{contains:function(qt){return ct[qt]===!0},push:function(qt){return ct[qt]=!0,G.push(qt)}}}function Zt(G,ct){ct=Ot(ct);var Et=W.length,Dt=G.constructor,qt=Nt(Dt)&&Dt.prototype||M,Wt="constructor";for(re(G,Wt)&&!ct.contains(Wt)&&ct.push(Wt);Et--;)Wt=W[Et],Wt in G&&G[Wt]!==qt[Wt]&&!ct.contains(Wt)&&ct.push(Wt)}function Jt(G){if(!Q(G))return[];if(tt)return tt(G);var ct=[];for(var Et in G)re(G,Et)&&ct.push(Et);return at&&Zt(G,ct),ct}function Ft(G){if(G==null)return!0;var ct=z(G);return typeof ct=="number"&&(Qt(G)||mt(G)||Rt(G))?ct===0:z(Jt(G))===0}function ae(G,ct){var Et=Jt(ct),Dt=Et.length;if(G==null)return!Dt;for(var qt=Object(G),Wt=0;Wt<Dt;Wt++){var de=Et[Wt];if(ct[de]!==qt[de]||!(de in qt))return!1}return!0}function ne(G){if(G instanceof ne)return G;if(!(this instanceof ne))return new ne(G);this._wrapped=G}ne.VERSION=A,ne.prototype.value=function(){return this._wrapped},ne.prototype.valueOf=ne.prototype.toJSON=ne.prototype.value,ne.prototype.toString=function(){return String(this._wrapped)};function ce(G){return new Uint8Array(G.buffer||G,G.byteOffset||0,dt(G))}var he="[object DataView]";function Me(G,ct,Et,Dt){if(G===ct)return G!==0||1/G===1/ct;if(G==null||ct==null)return!1;if(G!==G)return ct!==ct;var qt=typeof G;return qt!=="function"&&qt!=="object"&&typeof ct!="object"?!1:Fe(G,ct,Et,Dt)}function Fe(G,ct,Et,Dt){G instanceof ne&&(G=G._wrapped),ct instanceof ne&&(ct=ct._wrapped);var qt=S.call(G);if(qt!==S.call(ct))return!1;if(Ct&&qt=="[object Object]"&&oe(G)){if(!oe(ct))return!1;qt=he}switch(qt){case"[object RegExp]":case"[object String]":return""+G==""+ct;case"[object Number]":return+G!=+G?+ct!=+ct:+G==0?1/+G===1/ct:+G==+ct;case"[object Date]":case"[object Boolean]":return+G==+ct;case"[object Symbol]":return R.valueOf.call(G)===R.valueOf.call(ct);case"[object ArrayBuffer]":case he:return Fe(ce(G),ce(ct),Et,Dt)}var Wt=qt==="[object Array]";if(!Wt&&Y(G)){var de=dt(G);if(de!==dt(ct))return!1;if(G.buffer===ct.buffer&&G.byteOffset===ct.byteOffset)return!0;Wt=!0}if(!Wt){if(typeof G!="object"||typeof ct!="object")return!1;var Te=G.constructor,Ye=ct.constructor;if(Te!==Ye&&!(Nt(Te)&&Te instanceof Te&&Nt(Ye)&&Ye instanceof Ye)&&"constructor"in G&&"constructor"in ct)return!1}Et=Et||[],Dt=Dt||[];for(var Ue=Et.length;Ue--;)if(Et[Ue]===G)return Dt[Ue]===ct;if(Et.push(G),Dt.push(ct),Wt){if(Ue=G.length,Ue!==ct.length)return!1;for(;Ue--;)if(!Me(G[Ue],ct[Ue],Et,Dt))return!1}else{var _r=Jt(G),Gr;if(Ue=_r.length,Jt(ct).length!==Ue)return!1;for(;Ue--;)if(Gr=_r[Ue],!(re(ct,Gr)&&Me(G[Gr],ct[Gr],Et,Dt)))return!1}return Et.pop(),Dt.pop(),!0}function we(G,ct){return Me(G,ct)}function ar(G){if(!Q(G))return[];var ct=[];for(var Et in G)ct.push(Et);return at&&Zt(G,ct),ct}function Ie(G){var ct=z(G);return function(Et){if(Et==null)return!1;var Dt=ar(Et);if(z(Dt))return!1;for(var qt=0;qt<ct;qt++)if(!Nt(Et[G[qt]]))return!1;return G!==vt||!Nt(Et[sr])}}var sr="forEach",Ke="has",dr=["clear","delete"],pe=["get",Ke,"set"],Rr=dr.concat(sr,pe),vt=dr.concat(pe),jt=["add"].concat(dr,sr,Ke);const Ut=zt?Ie(Rr):$("Map"),fe=zt?Ie(vt):$("WeakMap"),Oe=zt?Ie(jt):$("Set"),Ve=$("WeakSet");function Xe(G){for(var ct=Jt(G),Et=ct.length,Dt=Array(Et),qt=0;qt<Et;qt++)Dt[qt]=G[ct[qt]];return Dt}function gn(G){for(var ct=Jt(G),Et=ct.length,Dt=Array(Et),qt=0;qt<Et;qt++)Dt[qt]=[ct[qt],G[ct[qt]]];return Dt}function Mn(G){for(var ct={},Et=Jt(G),Dt=0,qt=Et.length;Dt<qt;Dt++)ct[G[Et[Dt]]]=Et[Dt];return ct}function Pr(G){var ct=[];for(var Et in G)Nt(G[Et])&&ct.push(Et);return ct.sort()}function Ji(G,ct){return function(Et){var Dt=arguments.length;if(ct&&(Et=Object(Et)),Dt<2||Et==null)return Et;for(var qt=1;qt<Dt;qt++)for(var Wt=arguments[qt],de=G(Wt),Te=de.length,Ye=0;Ye<Te;Ye++){var Ue=de[Ye];(!ct||Et[Ue]===void 0)&&(Et[Ue]=Wt[Ue])}return Et}}const Sn=Ji(ar),Ln=Ji(Jt),Ri=Ji(ar,!0);function Fr(){return function(){}}function kr(G){if(!Q(G))return{};if(lt)return lt(G);var ct=Fr();ct.prototype=G;var Et=new ct;return ct.prototype=null,Et}function Yr(G,ct){var Et=kr(G);return ct&&Ln(Et,ct),Et}function Dn(G){return Q(G)?Qt(G)?G.slice():Sn({},G):G}function oi(G,ct){return ct(G),G}function Qi(G){return Qt(G)?G:[G]}ne.toPath=Qi;function $n(G){return ne.toPath(G)}function ln(G,ct){for(var Et=ct.length,Dt=0;Dt<Et;Dt++){if(G==null)return;G=G[ct[Dt]]}return Et?G:void 0}function Xr(G,ct,Et){var Dt=ln(G,$n(ct));return X(Dt)?Et:Dt}function ai(G,ct){ct=$n(ct);for(var Et=ct.length,Dt=0;Dt<Et;Dt++){var qt=ct[Dt];if(!re(G,qt))return!1;G=G[qt]}return!!Et}function Hn(G){return G}function In(G){return G=Ln({},G),function(ct){return ae(ct,G)}}function Nr(G){return G=$n(G),function(ct){return ln(ct,G)}}function pr(G,ct,Et){if(ct===void 0)return G;switch(Et??3){case 1:return function(Dt){return G.call(ct,Dt)};case 3:return function(Dt,qt,Wt){return G.call(ct,Dt,qt,Wt)};case 4:return function(Dt,qt,Wt,de){return G.call(ct,Dt,qt,Wt,de)}}return function(){return G.apply(ct,arguments)}}function De(G,ct,Et){return G==null?Hn:Nt(G)?pr(G,ct,Et):Q(G)&&!Qt(G)?In(G):Nr(G)}function mn(G,ct){return De(G,ct,1/0)}ne.iteratee=mn;function Sr(G,ct,Et){return ne.iteratee!==mn?ne.iteratee(G,ct):De(G,ct,Et)}function Wr(G,ct,Et){ct=Sr(ct,Et);for(var Dt=Jt(G),qt=Dt.length,Wt={},de=0;de<qt;de++){var Te=Dt[de];Wt[Te]=ct(G[Te],Te,G)}return Wt}function nr(){}function un(G){return G==null?nr:function(ct){return Xr(G,ct)}}function Vr(G,ct,Et){var Dt=Array(Math.max(0,G));ct=pr(ct,Et,1);for(var qt=0;qt<G;qt++)Dt[qt]=ct(qt);return Dt}function On(G,ct){return ct==null&&(ct=G,G=0),G+Math.floor(Math.random()*(ct-G+1))}const K=Date.now||function(){return new Date().getTime()};function _t(G){var ct=function(Wt){return G[Wt]},Et="(?:"+Jt(G).join("|")+")",Dt=RegExp(Et),qt=RegExp(Et,"g");return function(Wt){return Wt=Wt==null?"":""+Wt,Dt.test(Wt)?Wt.replace(qt,ct):Wt}}const ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},me=_t(ue),Ge=Mn(ue),ir=_t(Ge),fr=ne.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var je=/(.)^/,Tr={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Fi=/\\|'|\r|\n|\u2028|\u2029/g;function Bo(G){return"\\"+Tr[G]}var yn=/^\s*(\w|\$)+\s*$/;function ma(G,ct,Et){!ct&&Et&&(ct=Et),ct=Ri({},ct,ne.templateSettings);var Dt=RegExp([(ct.escape||je).source,(ct.interpolate||je).source,(ct.evaluate||je).source].join("|")+"|$","g"),qt=0,Wt="__p+='";G.replace(Dt,function(Ue,_r,Gr,Ea,Pl){return Wt+=G.slice(qt,Pl).replace(Fi,Bo),qt=Pl+Ue.length,_r?Wt+=`'+
((__t=(`+_r+`))==null?'':_.escape(__t))+
'`:Gr?Wt+=`'+
((__t=(`+Gr+`))==null?'':__t)+
'`:Ea&&(Wt+=`';
`+Ea+`
__p+='`),Ue}),Wt+=`';
`;var de=ct.variable;if(de){if(!yn.test(de))throw new Error("variable is not a bare identifier: "+de)}else Wt=`with(obj||{}){
`+Wt+`}
`,de="obj";Wt=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Wt+`return __p;
`;var Te;try{Te=new Function(de,"_",Wt)}catch(Ue){throw Ue.source=Wt,Ue}var Ye=function(Ue){return Te.call(this,Ue,ne)};return Ye.source="function("+de+`){
`+Wt+"}",Ye}function hs(G,ct,Et){ct=$n(ct);var Dt=ct.length;if(!Dt)return Nt(Et)?Et.call(G):Et;for(var qt=0;qt<Dt;qt++){var Wt=G==null?void 0:G[ct[qt]];Wt===void 0&&(Wt=Et,qt=Dt),G=Nt(Wt)?Wt.call(G):Wt}return G}var hi=0;function ya(G){var ct=++hi+"";return G?G+ct:ct}function to(G){var ct=ne(G);return ct._chain=!0,ct}function eo(G,ct,Et,Dt,qt){if(!(Dt instanceof ct))return G.apply(Et,qt);var Wt=kr(G.prototype),de=G.apply(Wt,qt);return Q(de)?de:Wt}var Ho=it(function(G,ct){var Et=Ho.placeholder,Dt=function(){for(var qt=0,Wt=ct.length,de=Array(Wt),Te=0;Te<Wt;Te++)de[Te]=ct[Te]===Et?arguments[qt++]:ct[Te];for(;qt<arguments.length;)de.push(arguments[qt++]);return eo(G,Dt,this,this,de)};return Dt});Ho.placeholder=ne;const Br=Ho,_a=it(function(G,ct,Et){if(!Nt(G))throw new TypeError("Bind must be called on a function");var Dt=it(function(qt){return eo(G,Dt,ct,this,Et.concat(qt))});return Dt}),_n=V(z);function Ti(G,ct,Et,Dt){if(Dt=Dt||[],!ct&&ct!==0)ct=1/0;else if(ct<=0)return Dt.concat(G);for(var qt=Dt.length,Wt=0,de=z(G);Wt<de;Wt++){var Te=G[Wt];if(_n(Te)&&(Qt(Te)||Rt(Te)))if(ct>1)Ti(Te,ct-1,Et,Dt),qt=Dt.length;else for(var Ye=0,Ue=Te.length;Ye<Ue;)Dt[qt++]=Te[Ye++];else Et||(Dt[qt++]=Te)}return Dt}const vi=it(function(G,ct){ct=Ti(ct,!1,!1);var Et=ct.length;if(Et<1)throw new Error("bindAll must be passed function names");for(;Et--;){var Dt=ct[Et];G[Dt]=_a(G[Dt],G)}return G});function vs(G,ct){var Et=function(Dt){var qt=Et.cache,Wt=""+(ct?ct.apply(this,arguments):Dt);return re(qt,Wt)||(qt[Wt]=G.apply(this,arguments)),qt[Wt]};return Et.cache={},Et}const zn=it(function(G,ct,Et){return setTimeout(function(){return G.apply(null,Et)},ct)}),_l=Br(zn,ne,1);function ro(G,ct,Et){var Dt,qt,Wt,de,Te=0;Et||(Et={});var Ye=function(){Te=Et.leading===!1?0:K(),Dt=null,de=G.apply(qt,Wt),Dt||(qt=Wt=null)},Ue=function(){var _r=K();!Te&&Et.leading===!1&&(Te=_r);var Gr=ct-(_r-Te);return qt=this,Wt=arguments,Gr<=0||Gr>ct?(Dt&&(clearTimeout(Dt),Dt=null),Te=_r,de=G.apply(qt,Wt),Dt||(qt=Wt=null)):!Dt&&Et.trailing!==!1&&(Dt=setTimeout(Ye,Gr)),de};return Ue.cancel=function(){clearTimeout(Dt),Te=0,Dt=qt=Wt=null},Ue}function no(G,ct,Et){var Dt,qt,Wt,de,Te,Ye=function(){var _r=K()-qt;ct>_r?Dt=setTimeout(Ye,ct-_r):(Dt=null,Et||(de=G.apply(Te,Wt)),Dt||(Wt=Te=null))},Ue=it(function(_r){return Te=this,Wt=_r,qt=K(),Dt||(Dt=setTimeout(Ye,ct),Et&&(de=G.apply(Te,Wt))),de});return Ue.cancel=function(){clearTimeout(Dt),Dt=Wt=Te=null},Ue}function io(G,ct){return Br(ct,G)}function zo(G){return function(){return!G.apply(this,arguments)}}function gs(){var G=arguments,ct=G.length-1;return function(){for(var Et=ct,Dt=G[ct].apply(this,arguments);Et--;)Dt=G[Et].call(this,Dt);return Dt}}function bl(G,ct){return function(){if(--G<1)return ct.apply(this,arguments)}}function ba(G,ct){var Et;return function(){return--G>0&&(Et=ct.apply(this,arguments)),G<=1&&(ct=null),Et}}const Ni=Br(ba,2);function Vi(G,ct,Et){ct=Sr(ct,Et);for(var Dt=Jt(G),qt,Wt=0,de=Dt.length;Wt<de;Wt++)if(qt=Dt[Wt],ct(G[qt],qt,G))return qt}function wa(G){return function(ct,Et,Dt){Et=Sr(Et,Dt);for(var qt=z(ct),Wt=G>0?0:qt-1;Wt>=0&&Wt<qt;Wt+=G)if(Et(ct[Wt],Wt,ct))return Wt;return-1}}const Uo=wa(1),Bi=wa(-1);function oo(G,ct,Et,Dt){Et=Sr(Et,Dt,1);for(var qt=Et(ct),Wt=0,de=z(G);Wt<de;){var Te=Math.floor((Wt+de)/2);Et(G[Te])<qt?Wt=Te+1:de=Te}return Wt}function Ei(G,ct,Et){return function(Dt,qt,Wt){var de=0,Te=z(Dt);if(typeof Wt=="number")G>0?de=Wt>=0?Wt:Math.max(Wt+Te,de):Te=Wt>=0?Math.min(Wt+1,Te):Wt+Te+1;else if(Et&&Wt&&Te)return Wt=Et(Dt,qt),Dt[Wt]===qt?Wt:-1;if(qt!==qt)return Wt=ct(k.call(Dt,de,Te),ee),Wt>=0?Wt+de:-1;for(Wt=G>0?de:Te-1;Wt>=0&&Wt<Te;Wt+=G)if(Dt[Wt]===qt)return Wt;return-1}}const Wo=Ei(1,Uo,oo),ms=Ei(-1,Bi);function ao(G,ct,Et){var Dt=_n(G)?Uo:Vi,qt=Dt(G,ct,Et);if(qt!==void 0&&qt!==-1)return G[qt]}function Ko(G,ct){return ao(G,In(ct))}function Tn(G,ct,Et){ct=pr(ct,Et);var Dt,qt;if(_n(G))for(Dt=0,qt=G.length;Dt<qt;Dt++)ct(G[Dt],Dt,G);else{var Wt=Jt(G);for(Dt=0,qt=Wt.length;Dt<qt;Dt++)ct(G[Wt[Dt]],Wt[Dt],G)}return G}function si(G,ct,Et){ct=Sr(ct,Et);for(var Dt=!_n(G)&&Jt(G),qt=(Dt||G).length,Wt=Array(qt),de=0;de<qt;de++){var Te=Dt?Dt[de]:de;Wt[de]=ct(G[Te],Te,G)}return Wt}function or(G){var ct=function(Et,Dt,qt,Wt){var de=!_n(Et)&&Jt(Et),Te=(de||Et).length,Ye=G>0?0:Te-1;for(Wt||(qt=Et[de?de[Ye]:Ye],Ye+=G);Ye>=0&&Ye<Te;Ye+=G){var Ue=de?de[Ye]:Ye;qt=Dt(qt,Et[Ue],Ue,Et)}return qt};return function(Et,Dt,qt,Wt){var de=arguments.length>=3;return ct(Et,pr(Dt,Wt,4),qt,de)}}const so=or(1),En=or(-1);function Zn(G,ct,Et){var Dt=[];return ct=Sr(ct,Et),Tn(G,function(qt,Wt,de){ct(qt,Wt,de)&&Dt.push(qt)}),Dt}function Hi(G,ct,Et){return Zn(G,zo(Sr(ct)),Et)}function jn(G,ct,Et){ct=Sr(ct,Et);for(var Dt=!_n(G)&&Jt(G),qt=(Dt||G).length,Wt=0;Wt<qt;Wt++){var de=Dt?Dt[Wt]:Wt;if(!ct(G[de],de,G))return!1}return!0}function Kr(G,ct,Et){ct=Sr(ct,Et);for(var Dt=!_n(G)&&Jt(G),qt=(Dt||G).length,Wt=0;Wt<qt;Wt++){var de=Dt?Dt[Wt]:Wt;if(ct(G[de],de,G))return!0}return!1}function hr(G,ct,Et,Dt){return _n(G)||(G=Xe(G)),(typeof Et!="number"||Dt)&&(Et=0),Wo(G,ct,Et)>=0}const gi=it(function(G,ct,Et){var Dt,qt;return Nt(ct)?qt=ct:(ct=$n(ct),Dt=ct.slice(0,-1),ct=ct[ct.length-1]),si(G,function(Wt){var de=qt;if(!de){if(Dt&&Dt.length&&(Wt=ln(Wt,Dt)),Wt==null)return;de=Wt[ct]}return de==null?de:de.apply(Wt,Et)})});function mi(G,ct){return si(G,Nr(ct))}function yi(G,ct){return Zn(G,In(ct))}function ys(G,ct,Et){var Dt=-1/0,qt=-1/0,Wt,de;if(ct==null||typeof ct=="number"&&typeof G[0]!="object"&&G!=null){G=_n(G)?G:Xe(G);for(var Te=0,Ye=G.length;Te<Ye;Te++)Wt=G[Te],Wt!=null&&Wt>Dt&&(Dt=Wt)}else ct=Sr(ct,Et),Tn(G,function(Ue,_r,Gr){de=ct(Ue,_r,Gr),(de>qt||de===-1/0&&Dt===-1/0)&&(Dt=Ue,qt=de)});return Dt}function tn(G,ct,Et){var Dt=1/0,qt=1/0,Wt,de;if(ct==null||typeof ct=="number"&&typeof G[0]!="object"&&G!=null){G=_n(G)?G:Xe(G);for(var Te=0,Ye=G.length;Te<Ye;Te++)Wt=G[Te],Wt!=null&&Wt<Dt&&(Dt=Wt)}else ct=Sr(ct,Et),Tn(G,function(Ue,_r,Gr){de=ct(Ue,_r,Gr),(de<qt||de===1/0&&Dt===1/0)&&(Dt=Ue,qt=de)});return Dt}var Su=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function lo(G){return G?Qt(G)?k.call(G):mt(G)?G.match(Su):_n(G)?si(G,Hn):Xe(G):[]}function _i(G,ct,Et){if(ct==null||Et)return _n(G)||(G=Xe(G)),G[On(G.length-1)];var Dt=lo(G),qt=z(Dt);ct=Math.max(Math.min(ct,qt),0);for(var Wt=qt-1,de=0;de<ct;de++){var Te=On(de,Wt),Ye=Dt[de];Dt[de]=Dt[Te],Dt[Te]=Ye}return Dt.slice(0,ct)}function _s(G){return _i(G,1/0)}function wl(G,ct,Et){var Dt=0;return ct=Sr(ct,Et),mi(si(G,function(qt,Wt,de){return{value:qt,index:Dt++,criteria:ct(qt,Wt,de)}}).sort(function(qt,Wt){var de=qt.criteria,Te=Wt.criteria;if(de!==Te){if(de>Te||de===void 0)return 1;if(de<Te||Te===void 0)return-1}return qt.index-Wt.index}),"value")}function xa(G,ct){return function(Et,Dt,qt){var Wt=ct?[[],[]]:{};return Dt=Sr(Dt,qt),Tn(Et,function(de,Te){var Ye=Dt(de,Te,Et);G(Wt,de,Ye)}),Wt}}const Ca=xa(function(G,ct,Et){re(G,Et)?G[Et].push(ct):G[Et]=[ct]}),xl=xa(function(G,ct,Et){G[Et]=ct}),bs=xa(function(G,ct,Et){re(G,Et)?G[Et]++:G[Et]=1}),Cl=xa(function(G,ct,Et){G[Et?0:1].push(ct)},!0);function Pn(G){return G==null?0:_n(G)?G.length:Jt(G).length}function Sa(G,ct,Et){return ct in Et}const Pi=it(function(G,ct){var Et={},Dt=ct[0];if(G==null)return Et;Nt(Dt)?(ct.length>1&&(Dt=pr(Dt,ct[1])),ct=ar(G)):(Dt=Sa,ct=Ti(ct,!1,!1),G=Object(G));for(var qt=0,Wt=ct.length;qt<Wt;qt++){var de=ct[qt],Te=G[de];Dt(Te,de,G)&&(Et[de]=Te)}return Et}),Sl=it(function(G,ct){var Et=ct[0],Dt;return Nt(Et)?(Et=zo(Et),ct.length>1&&(Dt=ct[1])):(ct=si(Ti(ct,!1,!1),String),Et=function(qt,Wt){return!hr(ct,Wt)}),Pi(G,Et,Dt)});function Oa(G,ct,Et){return k.call(G,0,Math.max(0,G.length-(ct==null||Et?1:ct)))}function uo(G,ct,Et){return G==null||G.length<1?ct==null||Et?void 0:[]:ct==null||Et?G[0]:Oa(G,G.length-ct)}function cn(G,ct,Et){return k.call(G,ct==null||Et?1:ct)}function Hr(G,ct,Et){return G==null||G.length<1?ct==null||Et?void 0:[]:ct==null||Et?G[G.length-1]:cn(G,Math.max(0,G.length-ct))}function Ol(G){return Zn(G,Boolean)}function ws(G,ct){return Ti(G,ct,!1)}const zi=it(function(G,ct){return ct=Ti(ct,!0,!0),Zn(G,function(Et){return!hr(ct,Et)})}),Tl=it(function(G,ct){return zi(G,ct)});function co(G,ct,Et,Dt){et(ct)||(Dt=Et,Et=ct,ct=!1),Et!=null&&(Et=Sr(Et,Dt));for(var qt=[],Wt=[],de=0,Te=z(G);de<Te;de++){var Ye=G[de],Ue=Et?Et(Ye,de,G):Ye;ct&&!Et?((!de||Wt!==Ue)&&qt.push(Ye),Wt=Ue):Et?hr(Wt,Ue)||(Wt.push(Ue),qt.push(Ye)):hr(qt,Ye)||qt.push(Ye)}return qt}const Go=it(function(G){return co(Ti(G,!0,!0))});function Ta(G){for(var ct=[],Et=arguments.length,Dt=0,qt=z(G);Dt<qt;Dt++){var Wt=G[Dt];if(!hr(ct,Wt)){var de;for(de=1;de<Et&&hr(arguments[de],Wt);de++);de===Et&&ct.push(Wt)}}return ct}function fo(G){for(var ct=G&&ys(G,z).length||0,Et=Array(ct),Dt=0;Dt<ct;Dt++)Et[Dt]=mi(G,Dt);return Et}const El=it(fo);function ki(G,ct){for(var Et={},Dt=0,qt=z(G);Dt<qt;Dt++)ct?Et[G[Dt]]=ct[Dt]:Et[G[Dt][0]]=G[Dt][1];return Et}function xs(G,ct,Et){ct==null&&(ct=G||0,G=0),Et||(Et=ct<G?-1:1);for(var Dt=Math.max(Math.ceil((ct-G)/Et),0),qt=Array(Dt),Wt=0;Wt<Dt;Wt++,G+=Et)qt[Wt]=G;return qt}function Cs(G,ct){if(ct==null||ct<1)return[];for(var Et=[],Dt=0,qt=G.length;Dt<qt;)Et.push(k.call(G,Dt,Dt+=ct));return Et}function Ss(G,ct){return G._chain?ne(ct).chain():ct}function Ai(G){return Tn(Pr(G),function(ct){var Et=ne[ct]=G[ct];ne.prototype[ct]=function(){var Dt=[this._wrapped];return b.apply(Dt,arguments),Ss(this,Et.apply(ne,Dt))}}),ne}Tn(["pop","push","reverse","shift","sort","splice","unshift"],function(G){var ct=j[G];ne.prototype[G]=function(){var Et=this._wrapped;return Et!=null&&(ct.apply(Et,arguments),(G==="shift"||G==="splice")&&Et.length===0&&delete Et[0]),Ss(this,Et)}}),Tn(["concat","join","slice"],function(G){var ct=j[G];ne.prototype[G]=function(){var Et=this._wrapped;return Et!=null&&(Et=ct.apply(Et,arguments)),Ss(this,Et)}});const bi=ne;var wi=Ai(w);wi._=wi;const Os=wi}},$m={};function wr(u){var g=$m[u];if(g!==void 0)return g.exports;var _=$m[u]={exports:{}};return SO[u].call(_.exports,_,_.exports,wr),_.exports}wr.n=u=>{var g=u&&u.__esModule?()=>u.default:()=>u;return wr.d(g,{a:g}),g};wr.d=(u,g)=>{for(var _ in g)wr.o(g,_)&&!wr.o(u,_)&&Object.defineProperty(u,_,{enumerable:!0,get:g[_]})};wr.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();wr.o=(u,g)=>Object.prototype.hasOwnProperty.call(u,g);wr.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var Yy={};(()=>{wr.d(Yy,{ZP:()=>mx,kr:()=>qg,j7:()=>Zg});var u=wr(50),g=wr(163);function _(a){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var e=a.raw;return e.reduce(function(r,i,l){var d=n[l-1],p=e[l-1];return Array.isArray(d)?d=d.join(""):p&&p.slice(-1)==="$"?r=r.slice(0,-1):d=(0,g.escape)(d),r+d+i})}var w={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const A=w;var P=wr(316),j=wr.n(P),M=wr(895);const R=function(a){var n=a.$;if(n&&n.prototype&&n.prototype.constructor.name!=="jQuery"){var t=n.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var i=this.get(0);return i&&i.focus(),this},t.bind=function(i,l){return this.on(i,l)},t.unbind=function(i,l){if((0,u.isObject)(i)){for(var d in i)i.hasOwnProperty(d)&&this.off(d,i[d]);return this}else return this.off(i,l)},t.click=function(i){return i?this.on("click",i):this.trigger("click")},t.change=function(i){return i?this.on("change",i):this.trigger("change")},t.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},t.delegate=function(i,l,d,p){return p||(p=d),this.on(l,i,function(v){v.data=d,p(v)})},t.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var l=i instanceof Window?i:null;return l?l.pageXOffset:i.scrollLeft||0},t.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var l=i instanceof Window?i:null;return l?l.pageYOffset:i.scrollTop||0};var e=n.prototype.offset;t.offset=function(i){var l,d;return i&&(l=i.top,d=i.left),typeof l<"u"&&this.css("top","".concat(l,"px")),typeof d<"u"&&this.css("left","".concat(d,"px")),e.call(this)},n.map=function(i,l){for(var d=[],p=0;p<i.length;p++)d.push(l(i[p],p));return d};var r=Array.prototype.indexOf;n.inArray=function(i,l,d){return l==null?-1:r.call(l,i,d)},n.Event=function(i,l){if(!(this instanceof n.Event))return new n.Event(i,l);this.type=i,this.isDefaultPrevented=function(){return!1}}}};var b=wr(346),k=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),S=function(a){k(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(b.Hn),x=function(a){k(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getByComponent=function(t){var e=this;return this.filter(function(r){return e.getComponent(r)===t})[0]},n.prototype.addComponent=function(t,e){var r=this,i=((0,u.isArray)(t)?t:[t]).filter(function(l){return!r.hasComponent(l)}).map(function(l){return new S({component:l})})[0];return this.push(i,e)},n.prototype.getComponent=function(t){return t.get("component")},n.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},n.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},n.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},n.prototype.removeComponent=function(t,e){var r=this,i=((0,u.isArray)(t)?t:[t]).map(function(l){return r.getByComponent(l)});return this.remove(i,e)},n}(b.FE);const T=x;var L=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H=function(){return H=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},H.apply(this,arguments)},tt=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},lt=function(){function a(n,t,e){this.debounced=[],this.collections=[],this.cls=[],this._em=n,this._name=t;var r=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,u.isUndefined)(n.config[r])?n.config[this.name]:n.config[r],l=i===!0?{}:i||{};l.pStylePrefix=n.config.pStylePrefix||"",!(0,u.isUndefined)(i)&&!i&&(l._disable=1),l.em=n,this._config=(0,g.deepMerge)(e||{},l)}return Object.defineProperty(a.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),a.prototype.render=function(n){},a.prototype.postLoad=function(n){},Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(n){return n?this.config[n]:this.config},a.prototype.__logWarn=function(n,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(n),t)},a.prototype.destroy=function(){this.__destroy()},a.prototype.__destroy=function(){var n,t,e;(n=this.view)===null||n===void 0||n.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(r){return r.cancel()}),this.collections.forEach(function(r){r.stopListening(),r.reset()})},a.prototype.__appendTo=function(){var n=this.getConfig().appendTo;if(n){var t=(0,u.isElement)(n)?n:document.querySelector(n);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},a}();const nt=lt;var q=function(a){L(n,a);function n(t,e,r,i,l,d){d===void 0&&(d={});var p=a.call(this,t,e,l)||this;return p.cls=[],p.private=!1,p.all=r,p.events=i,!d.skipListen&&p.__initListen(),p}return n.prototype.postLoad=function(t){},n.prototype.render=function(t){},n.prototype.getProjectData=function(t){var e={},r=this.storageKey;return r&&(e[r]=t||this.getAll()),e},n.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.all,i=e.onResult,l=e.reset,d=this.storageKey,p={action:"load"},v=r||this.all,m=t[d];if(typeof m=="string")try{m=JSON.parse(m)}catch{this.__logWarn("Data parsing failed",{input:m})}return l&&m&&v.reset(void 0,p),i?m&&i(m,p):m&&(0,g.isDef)(m.length)&&v.reset(m,p),m},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},n.prototype.getAll=function(){return tt([],this.all.models,!0)},n.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},n.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,r=e.all,i=e.em,l=e.events;r&&i&&r.on("add",function(d,p,v){return i.trigger(l.add,d,v)}).on("remove",function(d,p,v){return i.trigger(l.remove,d,v)}).on("change",function(d,p){return i.trigger(l.update,d,d.changedAttributes(),p)}).on("all",this.__catchAllEvent,this),this.cls=[r].concat(t.collections||[]),(t.propagate||[]).forEach(function(d){var p=d.entity,v=d.event;p.on("all",function(m,E,B,J){var ht=J||B,bt=H({event:m},ht);[i,r].map(function(wt){return wt.trigger(v,E,bt)})})})},n.prototype.__remove=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,l=(0,u.isString)(t)?this.get(t):t,d=function(){return l&&r.all.remove(l,e),l};return!e.silent&&(i==null||i.trigger(this.events.removeBefore,l,d,e)),!e.abort&&d()},n.prototype.__catchAllEvent=function(t,e,r,i){var l=this,d=l.em,p=l.events,v=i||r;d&&p.all&&d.trigger(p.all,{event:t,model:e,options:v}),this.__onAllEvent()},n.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var r=(0,u.isElement)(e)?e:document.querySelector(e);if(!r)return this.__logWarn('"appendTo" element not found');r.appendChild(this.render(t))}},n.prototype.__onAllEvent=function(){},n.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),r=e.length+t,i=this.getAllMap(),l;do l=(0,g.createId)(r);while(i[l]);return l},n.prototype.__listenAdd=function(t,e){var r=this;t.on("add",function(i,l,d){return r.em.trigger(e,i,d)})},n.prototype.__listenRemove=function(t,e){var r=this;t.on("remove",function(i,l,d){return r.em.trigger(e,i,d)})},n.prototype.__listenUpdate=function(t,e){var r=this;t.on("change",function(i,l){return r.em.trigger(e,i,i.changedAttributes(),l)})},n.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},n}(lt),D={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const at=D;var W=wr(642),st={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const it=st;var Q=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ut=function(a){Q(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},n.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(r){return t.checkUnit(r)})},n.prototype.checkUnit=function(t){var e=this.get(t)||"",r=(parseFloat(e)||0).toString()===e.toString();r&&this.set(t,"".concat(e,"px"))},n.prototype.getName=function(){return this.get("name")||this.get("id")},n.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},n}(b.Hn);const X=ut;var et=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pt=function(a){et(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(b.FE);const $=pt;pt.prototype.model=X;var mt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),N=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},kt=function(a){mt(n,a);function n(t){var e=a.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return n.prototype.template=function(t){var e=t.ppfx,r=t.label;return _(gt||(gt=N([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,r,e,e,e,e,e,e,e)},n.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},n.prototype.startAdd=function(){},n.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},n.prototype.updateSelect=function(){var t=this,e=t.em,r=t.devicesEl;if(e&&e.getDeviceModel&&r){var i=e.getDeviceModel();r.val(i?i.get("id"):"")}},n.prototype.getOptions=function(){var t=this,e=t.collection,r=t.em,i="";return e.forEach(function(l){var d=l.attributes,p=d.name,v=d.id,m=r&&r.t&&r.t("deviceManager.devices.".concat(v))||p;i+='<option value="'.concat(v||p,'">').concat(m,"</option>")}),i},n.prototype.render=function(){var t=this,e=t.em,r=t.ppfx,i=t.$el,l=t.el,d=e&&e.t&&e.t("deviceManager.device");return i.html(this.template({ppfx:r,label:d})),this.devicesEl=i.find(".".concat(r,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),l.className="".concat(r,"devices-c"),this},n}(b.G7);const Mt=kt;var gt,Kt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),F=function(){return F=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},F.apply(this,arguments)},Lt="device",le="".concat(Lt,":"),Nt="".concat(le,"select"),ge="".concat(le,"update"),Ct="".concat(le,"add"),zt="".concat(le,"remove"),Pt="".concat(zt,":before"),It="change:device",oe={all:Lt,select:Nt,update:ge,add:Ct,remove:zt,removeBefore:Pt},Qt=function(a){Kt(n,a);function n(t){var e,r=a.call(this,t,"DeviceManager",new $,oe,it)||this;return r.Device=X,r.Devices=$,r.storageKey="",r.devices=r.all,(e=r.config.devices)===null||e===void 0||e.forEach(function(i){return r.add(i,{silent:!0})}),r.select(r.config.default||r.devices.at(0)),t.on(It,r._onSelect,r),r}return n.prototype._onSelect=function(t,e,r){var i=this,l=i.em,d=i.events,p=t.previous("device"),v=this.get(e),m=d.select;l.trigger(m,v,this.get(p)),this.__catchAllEvent(m,v,r)},n.prototype.add=function(t,e){e===void 0&&(e={});var r,i=e;if((0,u.isString)(t)){var l=e;i=arguments[2]||{},r=F(F({},i),{id:t,name:i.name||t,width:l})}else r=t;return r.id||(r.id=r.name||this._createId()),this.devices.add(r,i)},n.prototype.get=function(t){var e=this.getAll().filter(function(r){return r.get("name")===t})[0];return e||this.devices.get(t)||null},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getDevices=function(){return this.devices.models},n.prototype.select=function(t,e){e===void 0&&(e={});var r=(0,u.isString)(t)?this.get(t):t;return r&&this.em.set("device",r.get("id"),e),this},n.prototype.getSelected=function(){return this.get(this.em.get("device"))},n.prototype.getAll=function(){return this.devices},n.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new Mt({collection:this.devices,config:F({em:e},this.config)}),this.view.render().el},n.prototype.destroy=function(){this.__destroy()},n}(q);const re=Qt;var Tt;(function(a){a.add="page:add",a.addBefore="page:add:before",a.remove="page:remove",a.removeBefore="page:remove:before",a.select="page:select",a.selectBefore="page:select:before",a.update="page:update",a.all="page"})(Tt||(Tt={}));const Rt=Tt;var Yt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ee=function(a){Yt(n,a);function n(t,e,r){return a.call(this,e,{module:t,modelConstructor:r})||this}return n.prototype.add=function(t,e){var r=this,i,l=(0,u.isArray)(t)?t:(0,u.isUndefined)(t)?void 0:[t];return l=(i=l==null?void 0:l.map(function(d){return d instanceof r.newModel?d:new r.newModel(r.module,d)}))!==null&&i!==void 0?i:[void 0],a.prototype.add.call(this,(0,u.isArray)(t)?l:l[0],e)},n.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},n}(b.FE);const Bt=ee;var V=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ot=function(){return ot=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ot.apply(this,arguments)},dt=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},C="__aw",ft="__ah",Z=function(a,n){var t,e=a.get(n),r=(t=a.view)===null||t===void 0?void 0:t.el[n==="width"?"offsetWidth":"offsetHeight"];return(0,u.isNumber)(e)?e:(0,u.isString)(e)&&e.endsWith("px")?parseFloat(e):r||0},Y=function(a){V(n,a);function n(t,e){var r=a.call(this,t,e)||this,i=r.em,l=r.attributes,d=l.styles,p=l.component,v=i.Components,m=v.getConfig(),E=i.Css.getAll(),B={},J={em:i,config:m,frame:r,idMap:B};if(!(0,g.isComponent)(p)){var ht=(0,g.isObject)(p)?p:{components:p};!ht.type&&(ht.type="wrapper");var bt=v.getType("wrapper").model;r.set("component",new bt(ht,J))}if(!d)r.set("styles",E);else if(!(0,g.isObject)(d)){var wt=d;(0,u.keys)(B).length&&(wt=(0,u.isString)(wt)?i.Parser.parseCss(wt):wt,i.Css.checkId(wt,{idMap:B})),E.add(wt),r.set("styles",E)}return!e.width&&r.set(C,1),!e.height&&r.set(ft,1),!r.id&&r.set("id",(0,g.createId)()),r}return n.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(n.prototype,"width",{get:function(){return Z(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return Z(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),n.prototype.initRefs=function(){var t=this.refFrame;if((0,u.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},n.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,r=t.y,i=this,l=i.width,d=i.height;return{x:e,y:r,width:l,height:d}},n.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},n.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},n.prototype.getComponent=function(){return this.get("component")},n.prototype.getStyles=function(){return this.get("styles")},n.prototype.disable=function(){this.trigger("disable")},n.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},n.prototype.getHead=function(){return dt([],this.head,!0)},n.prototype.setHead=function(t){return this.set("head",dt([],t,!0))},n.prototype.addHeadItem=function(t){this.head.push(t)},n.prototype.getHeadByAttr=function(t,e,r){return this.head.filter(function(i){return i.attributes&&i.attributes[t]==e&&(!r||r===i.tag)})[0]},n.prototype.removeHeadByAttr=function(t,e,r){var i=this.getHeadByAttr(t,e,r),l=this.head.indexOf(i);l>=0&&this.head.splice(l,1)},n.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},n.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},n.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},n.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},n.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},n.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",ot({frame:this},t))},n.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=W.Z.prototype.toJSON.call(this,t),r=(0,u.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[C]&&delete e.width,e[ft]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,u.forEach)(e,function(i,l){l.indexOf("_")===0&&delete e[l]}),(0,u.forEach)(r,function(i,l){e[l]===i&&delete e[l]}),(0,u.forEach)(["attributes","head"],function(i){(0,u.isEmpty)(e[i])&&delete e[i]}),e},n}(W.Z);const z=Y;var Ot=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zt=function(a){Ot(n,a);function n(t,e){e===void 0&&(e=[]);var r=a.call(this,t,e,z)||this;return r.loadedItems=0,r.itemsToLoad=0,(0,u.bindAll)(r,"itemLoaded"),r.on("add",r.onAdd),r.on("reset",r.onReset),r.on("remove",r.onRemove),r.forEach(function(i){return r.onAdd(i)}),r}return n.prototype.onAdd=function(t){this.module.framesById[t.id]=t},n.prototype.onReset=function(t,e){var r=this,i=(e==null?void 0:e.previousModels)||[];i.map(function(l){return r.onRemove(l)})},n.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},n.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},n.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},n.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},n.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(r){return r[t?"on":"off"]("loaded",e.itemLoaded)})},n}(Bt);const Jt=Zt;var Ft=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ae=function(a){Ft(n,a);function n(t){var e=this,r=t.em,i=t.config,l=i.scripts,d=i.styles;return e=a.call(this,t,{scripts:l,styles:d})||this,e.set("frames",new Jt(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(r,"change:device ".concat(ge),e.updateDevice),e.listenTo(r,Rt.select,e._pageUpdated),e}return n.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:b.pH,pointerScreen:b.pH}},Object.defineProperty(n.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),n.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},n.prototype._pageUpdated=function(t,e){var r=this.em;r.setSelected(),r.get("readyCanvas")&&r.stopDefault(),e==null||e.getFrames().map(function(i){return i.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},n.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,r=e.getDeviceModel(),i=t.frame||e.getCurrentFrameModel();if(i&&r){var l=r.attributes,d=l.width,p=l.height;i.set({width:d,height:p},{noUndo:1})}},n.prototype.onZoomChange=function(){var t=this,e=t.em,r=t.module,i=this.get("zoom");i<1&&this.set("zoom",1),e.trigger(r.events.zoom)},n.prototype.onCoordsChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.coords)},n.prototype.onPointerChange=function(){var t=this,e=t.em,r=t.module;e.trigger(r.events.pointer)},n.prototype.getPointerCoords=function(t){t===void 0&&(t=b.vA.World);var e=this.attributes,r=e.pointer,i=e.pointerScreen;return t===b.vA.World?r:i},n}(W.Z);const ne=ae;var ce=wr(675),he=wr(184),Me=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fe=function(a){Me(n,a);function n(t,e){e===void 0&&(e=[]);var r=a.call(this,t,e,ce.Z)||this;r.on("add",r.onAdd),r.on("change",r.onChange),r.on("remove",r.onRemove);var i=r.em;r.refreshDbn=(0,u.debounce)(function(){return r.refresh()},0);var l="component:resize styleable:change component:input ".concat(he.g.update," frame:updated undo redo");return r.listenTo(i,l,function(){return r.refreshDbn()}),r}return Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.spot)},n.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},n.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},n.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},n.prototype.__trgEvent=function(t,e){var r=this.module,i=r.em;i.trigger(t,e),this.refreshDbn()},n}(Bt);const we=Fe;var ar;(function(a){a.dragEnter="canvas:dragenter",a.dragOver="canvas:dragover",a.dragEnd="canvas:dragend",a.dragData="canvas:dragdata",a.drop="canvas:drop",a.spot="canvas:spot",a.spotAdd="canvas:spot:add",a.spotUpdate="canvas:spot:update",a.spotRemove="canvas:spot:remove",a.coords="canvas:coords",a.zoom="canvas:zoom",a.pointer="canvas:pointer",a.refresh="canvas:refresh",a.frameLoad="canvas:frame:load",a.frameLoadHead="canvas:frame:load:head",a.frameLoadBody="canvas:frame:load:body"})(ar||(ar={}));const Ie=ar;var sr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ke=function(a){sr(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),n.prototype.preinitialize=function(t){this.className=""},n}(b.G7);const dr=Ke;var pe=wr(491),Rr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vt=function(a){Rr(n,a);function n(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var r=a.call(this,t)||this;return r.itemsView="",r.itemType="type",r.reuseView=!1,r.viewCollection=[],e&&r.listenTo(r.collection,"add",r.addTo),r}return n.prototype.addTo=function(t){this.add(t)},n.prototype.itemViewNotFound=function(t){},n.prototype.add=function(t,e){var r=this,i=r.reuseView,l=r.viewCollection,d=e||null,p=t.get(this.itemType),v;t.view&&i?v=t.view:v=this.renderView(t,p),l.push(v);var m=v.render().el;d?d.appendChild(m):this.$el.append(m)},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(r){return t.add(r,e)}),this.$el.append(e),this.onRender(),this},n.prototype.onRender=function(){},n.prototype.onRemoveBefore=function(t,e){},n.prototype.onRemove=function(t,e){},n.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),b.G7.prototype.remove.apply(this,t),this.onRemove(e,t),this},n.prototype.clearItems=function(){this.viewCollection},n}(dr);const jt=vt;var Ut=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fe=function(a){Ut(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.config=t.config||{};var r=e.model;return e.listenTo(r,"change",e.render),e.listenTo(r,"destroy remove",e.remove),e.listenTo(r.get("selectors"),"change",e.render),e}return n.prototype.tagName=function(){return"style"},n.prototype.render=function(){var t=this,e=t.model,r=t.el,i=e.get("important");return r.innerHTML=e.toCSS({important:i}),this},n}(b.G7);const Oe=fe;var Ve=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xe=function(a){Ve(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},n}(Oe);const gn=Xe;var Mn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pr=function(a,n){return"".concat(a).concat(n?"-".concat(parseFloat(n)):"")},Ji=function(a){Mn(n,a);function n(t){var e=a.call(this,t)||this;(0,u.bindAll)(e,"sortRules");var r=t.config||{};e.atRules={},e.config=r,e.em=r.em,e.pfx=r.stylePrefix||"",e.className=e.pfx+"rules";var i=e.collection;return e.listenTo(i,"add",e.addTo),e.listenTo(i,"reset",e.render),e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){if(this.renderStarted){var r=e||null,i=this.config,l={model:t,config:i},d,p;if(t.get("atRuleType")==="keyframes"){var v=t.getAtRule(),m=this.atRules[v];if(!m){var E=document.createElement("style");m=document.createTextNode(""),E.appendChild(document.createTextNode("".concat(v,"{"))),E.appendChild(m),E.appendChild(document.createTextNode("}")),this.atRules[v]=m,d=E}p=new gn(l),m.appendData(p.render().el.textContent)}else p=new Oe(l),d=p.render().el;var B=this.className,J=t.get("mediaText"),ht=Pr(B),bt=ht;if(J&&(bt=Pr(B,this.getMediaWidth(J))),d){var wt=r||this.el,Vt=void 0;try{Vt=wt.querySelector("#".concat(bt))}catch{}Vt||(Vt=wt.querySelector("#".concat(ht))),Vt==null||Vt.appendChild(d)}return d}},n.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},n.prototype.sortRules=function(t,e){var r=this.em,i=(r.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var l=i?t:e,d=i?e:t;return l-d},n.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,r=e.em,i=e.$el,l=e.collection,d=this.className,p=document.createDocumentFragment();i.empty();var v=r.Devices.getAll().pluck("priority").sort(this.sortRules);return v.every(function(m){return m})&&v.unshift(0),v.forEach(function(m){return p.appendChild((0,pe.ut)("div",{id:Pr(d,m)}))}),l.each(function(m){return t.addToCollection(m,p)}),i.append(p),i.attr("class",d),this},n}(b.G7);const Sn=Ji;var Ln="text/html",Ri=Ln;const Fr=function(a,n){n===void 0&&(n={});var t=new DOMParser,e=n.htmlType||Ri,r=e===Ln,i=r?a:"<div>".concat(a,"</div>"),l=t.parseFromString(i,e),d;if(r){if(n.asDocument)return l;var p=l.head,v=l.body,m=p.querySelectorAll("script");(0,u.each)(m,function(B){return v.appendChild(B)});var E=[];(0,u.each)(p.children,function(B){return E.push(B)}),(0,u.each)(E,function(B,J){return v.insertBefore(B,v.children[J])}),d=v}else d=l.firstChild;return d};var kr=function(){return kr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},kr.apply(this,arguments)},Yr="data-gjs-",Dn="parse:html",oi=function(a,n){return n===void 0&&(n={}),{compTypes:[],modelAttrStart:Yr,getPropAttribute:function(t,e){var r=t.replace(this.modelAttrStart,""),i=(e==null?void 0:e.length)||0,l=e==null?void 0:e.substring(0,1),d=e==null?void 0:e.substring(i-1),p=e==="true"?!0:e==="false"?!1:e;try{p=l=="{"&&d=="}"||l=="["&&d=="]"?JSON.parse(p):p}catch{}return{name:r,value:p}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var r={},i={};return(0,u.each)(t,function(l,d){if(d.indexOf(e.modelAttrStart)===0){var p=e.getPropAttribute(d,l);r[p.name]=p.value}else i[d]=l}),{props:r,attrs:i}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var r=t.indexOf("/*"),i=t.indexOf("*/")+2;t=t.replace(t.slice(r,i),"")}for(var l=t.split(";"),d=0,p=l.length;d<p;d++){var v=l[d].trim();if(v){var m=v.split(":"),E=m[0].trim(),B=m.slice(1).join(":").trim();e[E]?((0,u.isArray)(e[E])||(e[E]=[e[E]]),e[E].push(B)):e[E]=B}}return e},parseClass:function(t){for(var e=[],r=t.split(" "),i=0,l=r.length;i<l;i++){var d=r[i].trim();d&&e.push(d)}return e},parseNodeAttr:function(t,e){for(var r=e||{},i=t.attributes||[],l=i.length,d=0;d<l;d++){var p=i[d].nodeName,v=i[d].nodeValue;if(p=="style")r.style=this.parseStyle(v);else if(p=="class")r.classes=this.parseClass(v);else{if(p=="contenteditable")continue;if(p.indexOf(this.modelAttrStart)===0){var m=this.getPropAttribute(p,v);r[m.name]=m.value}else v===""&&t[p]===!0&&(v=!0),r.attributes||(r.attributes={}),r.attributes[p]=v}}return r},detectNode:function(t,e){var r;e===void 0&&(e={});var i=this.compTypes,l={};if(i){var d=(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"".concat(this.modelAttrStart,"type"));if(d)l={type:d};else for(var p=0;p<i.length;p++){var v=i[p],m=v.model.isComponent(t,e);if(m){typeof m!="object"&&(m={type:v.id}),l=m;break}}}return l},parseNode:function(t,e){var r;e===void 0&&(e={});var i=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,l=i.length,d=this.detectNode(t,e);if(!d.tagName){var p=t.tagName||"",v=t.namespaceURI||"";d.tagName=p&&v==="http://www.w3.org/1999/xhtml"?p.toLowerCase():p}if(d=this.parseNodeAttr(t,d),!l&&"".concat(t.outerHTML).slice(-2)==="/>"&&(d.void=!0),l&&!d.components&&!e.skipChildren){var m=i[0];l===1&&m.nodeType===3?(!d.type&&(d.type="text"),d.components={type:"textnode",content:m.nodeValue}):d.components=this.parseNodes(t,kr(kr({},e),{inSvg:e.inSvg||d.type==="svg"}))}var E=d.components;if(!d.type&&(E!=null&&E.length)){for(var B=n.textTypes,J=B===void 0?[]:B,ht=n.textTags,bt=ht===void 0?[]:ht,wt=!0,Vt=!1,Xt=0;Xt<E.length;Xt++){var te=E[Xt],ve=te.type;if(!J.includes(ve)&&!bt.includes(te.tagName)){wt=!1;break}ve==="textnode"&&(Vt=!0)}wt&&Vt&&(d.type="text")}return d},parseNodes:function(t,e){var r;e===void 0&&(e={});for(var i=[],l=((r=t.content)===null||r===void 0?void 0:r.childNodes)||t.childNodes,d=l.length,p=0;p<d;p++){var v=l[p],m=i[i.length-1],E=this.parseNode(v,e);if(E.type==="textnode"){if((m==null?void 0:m.type)==="textnode"){m.content+=E.content;continue}if(!e.keepEmptyTextNodes){var B=v.nodeValue;if(B!=" "&&!B.trim())continue}}!E.tagName&&(0,u.isUndefined)(E.content)||i.push(E)}return i},parse:function(t,e,r){var i,l,d;r===void 0&&(r={});var p=(a==null?void 0:a.get("Config"))||{},v={html:[]},m=kr(kr({},n),r),E=kr(kr(kr({},n.optionsHtml),{htmlType:((i=n.optionsHtml)===null||i===void 0?void 0:i.htmlType)||n.htmlType}),r),B=E.preParser,J=E.asDocument,ht=(0,u.isFunction)(B)?B(t,{editor:a==null?void 0:a.getEditor()}):t,bt=(0,u.isFunction)(m.parserHtml)?m.parserHtml(ht,E):Fr(ht,E),wt=bt,Vt=bt;J&&(wt=Vt.documentElement,v.doctype=(0,pe.hy)(Vt.doctype));var Xt=wt.querySelectorAll("script"),te=Xt.length,ve=(0,u.isUndefined)(p.allowScripts)?E.allowScripts:p.allowScripts;if(!ve)for(;te--;)(l=Xt[te].parentNode)===null||l===void 0||l.removeChild(Xt[te]);if((!E.allowUnsafeAttr||!E.allowUnsafeAttrValue)&&this.__sanitizeNode(wt,E),e){for(var Ee=wt.querySelectorAll("style"),Re=Ee.length,ze="";Re--;)ze=Ee[Re].innerHTML+ze,(d=Ee[Re].parentNode)===null||d===void 0||d.removeChild(Ee[Re]);ze&&(v.css=e.parse(ze))}a==null||a.trigger("".concat(Dn,":root"),{input:ht,root:wt});var be=[];if(J)v.head=this.parseNode(Vt.head,m),v.root=this.parseNodeAttr(wt),be=this.parseNode(Vt.body,m);else{var He=this.parseNodes(wt,m);be=He.length===1&&!m.returnArray?He[0]:He}return v.html=be,a==null||a.trigger(Dn,{input:ht,output:v}),v},__sanitizeNode:function(t,e){var r=this,i=t.attributes||[],l=t.childNodes||[],d=[];(0,u.each)(i,function(p){var v=p.nodeName||"",m=p.nodeValue||"";!e.allowUnsafeAttr&&v.startsWith("on")&&d.push(v),!e.allowUnsafeAttrValue&&m.startsWith("javascript:")&&d.push(v)}),d.map(function(p){return t.removeAttribute(p)}),(0,u.each)(l,function(p){return r.__sanitizeNode(p,e)})}}};const Qi=oi;var $n=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ln=function(){return ln=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ln.apply(this,arguments)},Xr=Qi(),ai=function(a){return(0,u.isArray)(a)?a[a.length-1]:a},Hn=function(a){$n(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.parseStyle=function(t){return Xr.parseStyle(t)},n.prototype.extendStyle=function(t){return ln(ln({},this.getStyle()),t)},n.prototype.getStyle=function(t){var e=this.get("style")||{},r=ln({},e);return t&&(0,u.isString)(t)?r[t]:r},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,u.isString)(t)&&(t=this.parseStyle(t));var i=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var l=ln({},t),d=ln({},l);(0,u.keys)(d).forEach(function(v){d[v]===""&&delete d[v]}),this.set("style",d,e);var p=(0,g.shallowDiff)(i,l);return delete p.__p,(0,u.keys)(p).forEach(function(v){var m=r.em;e.noEvent||(r.trigger("change:style:".concat(v)),m&&(m.trigger("styleable:change",r,v,e),m.trigger("styleable:change:".concat(v),r,v,e)))}),l},n.prototype.addStyle=function(t,e,r){var i;e===void 0&&(e=""),r===void 0&&(r={}),typeof t=="string"?t=(i={},i[t]=e,i):r=e||{},r.addStyle=t,t=this.extendStyle(t),this.setStyle(t,r)},n.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},n.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],r=this.getStyle(t),i=t.important,l=function(p){var v=(0,u.isArray)(i)?i.indexOf(p)>=0:i,m=p.substring(0,2),E=m==="__";if(E)return"continue";var B=r[p],J=(0,u.isArray)(B)?B:[B];J.forEach(function(ht){var bt="".concat(ht).concat(v?" !important":"");bt&&e.push("".concat(p,":").concat(bt,";"))})};for(var d in r)l(d);return e.join("")},n.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},n.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},n}(b.Hn);const In=Hn;var Nr=function(){return Nr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Nr.apply(this,arguments)},pr=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},De=function(a){return(0,u.isArray)(a.get(Kr))},mn=function(a){return!!a.get(hr)},Sr=function(a){return!!(De(a)||mn(a))},Wr=function(a){var n=a.parent();return Sr(a)&&(!n||!Sr(n))},nr=function(a){a.__symbReady||(a.on("change",a.__upSymbProps),a.__symbReady=!0)},un=function(a){var n=a.get(hr);if(n&&(0,u.isString)(n)){var t=a.__getAllById()[n];t?(n=t,a.set(hr,t)):n=0}return n||void 0},Vr=function(a){var n=a==null?void 0:a.get(Kr);return n&&(0,u.isArray)(n)&&(n.forEach(function(t,e){t&&(0,u.isString)(t)&&(n[e]=a.__getAllById()[t])}),n=n.filter(function(t){return t&&!(0,u.isString)(t)})),n||void 0},On=function(a,n){n===void 0&&(n="");var t=a==null?void 0:a.get(gi),e=n.split(":")[0],r=n!==e?[n,e]:[n];return t===!0||(0,u.isArray)(t)&&r.some(function(i){return t.indexOf(i)>=0})},K=function(a,n){n===void 0&&(n={});var t=[],e=n.changed;if(n.fromInstance||n.noPropagate||n.fromUndo||e&&On(a,e))return t;var r=Vr(a)||[],i=un(a),l=i?pr([i],Vr(i)||[],!0):r;return t=l.filter(function(d){return d!==a}).filter(function(d){return!(e&&On(d,e))}),t},_t=function(a,n){for(var t=a,e=a.parent(n);e&&Sr(e);)t=e,e=e.parent(n);return t},ue=function(a,n){n===void 0&&(n={});var t=un(a),e=t&&Vr(t);!n.skipRefs&&e&&t.set(Kr,e.filter(function(r){return r!==a})),a.set(hr,0),a.components().forEach(function(r){return ue(r,n)})},me=function(a,n,t,e){e===void 0&&(e={});var r=un(a),i=Vr(a);!r&&!i||a.em.log(n,{model:a,toUp:t,context:"symbols",opts:e})},Ge=function(a,n){n===void 0&&(n={});var t=a.changedAttributes()||{},e=t.attributes||{};if(delete t.status,delete t.open,delete t[Kr],delete t[hr],delete t[gi],delete t.attributes,delete e.id,(0,g.isEmptyObj)(e)||(t.attributes=e),!(0,g.isEmptyObj)(t)){var r=K(a,n);(0,u.keys)(t).map(function(i){On(a,i)&&delete t[i]}),me(a,"props",r,{opts:n,changed:t}),r.forEach(function(i){var l=Nr({},t);(0,u.keys)(l).map(function(d){On(i,d)&&delete l[d]}),i.set(l,Nr({fromInstance:a},n))})}},ir=function(a,n){n===void 0&&(n={});var t=K(a,n);me(a,"classes",t,{opts:n}),t.forEach(function(e){e.set("classes",a.get("classes"),{fromInstance:a})}),a.__changesUp(n)},fr=function(a,n,t,e){var r=e||t||{},i=r.fromInstance,l=r.fromUndo,d={fromInstance:i,fromUndo:l},p=n.opt.temporary;if(e)if(e.add){var J=[],ht=!!Vr(a),m=K(a,Nr(Nr({},d),{changed:"components:add"}));if(m.length){var bt=un(n);J=Vr(bt||n)||[],J=pr([],J,!0),J.push(bt||n)}!p&&me(a,"add",m,{opts:e,addedInstances:J.map(function(be){return be.cid}),added:n.cid}),m.forEach(function(be){var He=_t(be),qe=J.filter(function(Pe){var ei=_t(Pe,{prev:1});return He&&ei&&ei===He})[0],gr=qe||n.clone({symbol:!0,symbolInv:ht});be.append(gr,Nr({fromInstance:a},e))})}else{var wt=un(n);if(wt&&!e.temporary&&wt.set(Kr,Vr(wt).filter(function(ze){return ze!==n})),!Wr(n)&&!e.skipRefsUp){var Vt="components:remove",Xt=e.index,te=n.parent(),ve=Nr({fromInstance:n},e),Ee=Wr(n),Re=function(be){var He=be.parent();He&&!On(He,Vt)&&be.remove(ve)},m=On(te,Vt)?[]:K(n,d);Ee&&(m=te&&K(te,Nr(Nr({},d),{changed:Vt})),Re=function(be){var He=be.components().at(Xt);He&&He.remove(Nr({fromInstance:te},ve))}),!p&&me(a,"remove",m,{opts:e,removed:n.cid,isSymbNested:Ee}),m.forEach(Re)}}else{var v=n,m=K(a,Nr(Nr({},d),{changed:"components:reset"})),E=v.models,B=new Set;me(a,"reset",m,{components:E}),m.forEach(function(ze){var be=ze.components(),He=E.map(function(qe,gr){return!Sr(qe)||B.has(qe)?(B.add(qe),qe.clone({symbol:!0})):be.at(gr)});be.reset(He,Nr({fromInstance:a},t))})}a.__changesUp(r)},je=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Tr=function(){return Tr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Tr.apply(this,arguments)},Fi=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Bo=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},yn=function(a,n){if(n===void 0&&(n=[]),!a)return[];var t=(0,u.isArray)(a)||(0,u.isFunction)(a.map)?a:[a];return t.map(function(e){n.push(e.getId()),yn(e.components().models,n)}),n},ma=function(a,n,t){n===void 0&&(n={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,r=(0,u.isArray)(a)?a:[a];return r.map(function(i){var l=i.attributes,d=l===void 0?{}:l,p=i.components,v=i.tagName,m=i.style,E=d.id;d.draggable;var B=Fi(d,["id","draggable"]),J=i;if(E){if(e[E])e[E].push(J),E=tn.getNewId(n),J.attributes.id=E;else if(e[E]=[],n[E]){J=n[E];var ht=J;v&&ht.set({tagName:v},Tr(Tr({},t),{silent:!0})),(0,u.keys)(B).length&&ht.addAttributes(B,Tr({},t)),(0,u.keys)(m).length&&ht.addStyle(m,t)}}if(p){var bt=ma(p,n);if((0,u.isFunction)(J.components)){var wt=J.components();wt.length>0&&wt.reset(bt,t)}else J.components=bt}return J})},hs=function(a){je(n,a);function n(t,e){var r=a.call(this,t,e)||this;r.opt=e,r.listenTo(r,"add",r.onAdd),r.listenTo(r,"remove",r.removeChildren),r.listenTo(r,"reset",r.resetChildren);var i=e.em,l=e.config;return r.config=l,r.em=i,r.domc=e.domc||(i==null?void 0:i.Components),r}return Object.defineProperty(n.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),n.prototype.resetChildren=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=e.previousModels||[],d=l.filter(function(m){return!t.get(m.cid)}),p=yn(t),v=yn(l).filter(function(m){return p.indexOf(m)>=0});e.keepIds=(e.keepIds||[]).concat(v),d.forEach(function(m){return r.removeChildren(m,i,e)}),t.each(function(m){return r.onAdd(m)})},n.prototype.resetFromString=function(t,e){var r,i;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=yn(this);var l=this,d=l.domc,p=l.em,v=l.parent,m=p==null?void 0:p.Css,E=(d==null?void 0:d.allById())||{},B=this.parseString(t,e),J=ma(B,E,e),ht=e.visitedCmps,bt=ht===void 0?{}:ht;Object.keys(bt).forEach(function(wt){var Vt=bt[wt];if(Vt.length){var Xt=(m==null?void 0:m.getRules("#".concat(wt)))||[];Xt.length&&Vt.forEach(function(te){Xt.forEach(function(ve){var Ee=ve.clone();Ee.set("selectors",["#".concat(te.attributes.id)]),m.getAll().add(Ee)})})}}),this.reset(J,e),p==null||p.trigger("component:content",v,e,t),(i=(r=v).__checkInnerChilds)===null||i===void 0||i.call(r)},n.prototype.removeChildren=function(t,e,r){var i=this;if(r===void 0&&(r={}),!!t){var l=this,d=l.domc,p=l.em,v=r.temporary||r.fromUndo;if(t.prevColl=this,!v){var m=t.getId(),E=p.Selectors.getAll(),B=p.Css.getAll(),J=(r.keepIds||[]).indexOf(m)<0,ht=d?d.allById():{};delete ht[m];var bt=J?B.remove(B.filter(function(Xt){return Xt.getSelectors().getFullString()==="#".concat(m)}),r):[];E.remove(bt.map(function(Xt){return Xt.getSelectors().at(0)})),t.opt.temporary||(p.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),p.trigger(he.g.remove,t),d&&mn(t)&&Wr(t)&&d.symbols.__trgEvent(d.events.symbolInstanceRemove,{component:t},!0));var wt=t.components();wt.forEach(function(Xt){fr(Xt,Xt,wt,Tr(Tr({},r),{skipRefsUp:!0})),i.removeChildren(Xt,e,r)})}var Vt=t.components();p.stopListening(Vt),p.stopListening(t),p.stopListening(t.get("classes")),t.__postRemove()}},n.prototype.model=function(t,e){var r=e.collection.opt,i=r.em,l,d=i.Components.componentTypes;e.em=i,e.config=r.config,e.componentTypes=d,e.domc=r.domc;for(var p=0;p<d.length;p++){var v=d[p].id;if(v==t.type){l=d[p].model;break}}return l||(l=d[d.length-1].model,i&&t.type&&i.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new l(t,e)},n.prototype.parseString=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.domc,d=r.parent,p=e.asDocument&&(d==null?void 0:d.is("wrapper")),v=i.Css,m=i.Parser.parseHtml(t,{asDocument:p}),E=m.html;if(p){var B=d,J=m.html||{},ht=J.components,bt=Fi(J,["components"]),wt=m.head||{},Vt=wt.components,Xt=Fi(wt,["components"]);E=ht,B.set(bt,e),B.head.set(Xt,e),B.head.components(Vt,e),B.docEl.set(m.root,e),B.set({doctype:m.doctype})}if(tn.checkId(E,m.css,l.componentsById,e),m.css&&v&&!e.temporary){e.at;var te=Fi(e,["at"]);v.addCollection(m.css,Tr(Tr({},te),{extend:1}))}return E},n.prototype.add=function(t,e){var r=this;if(e===void 0&&(e={}),t!=null){e.keepIds=Bo(Bo([],e.keepIds||[],!0),yn(e.previousModels),!0),(0,u.isString)(t)?t=this.parseString(t,e):(0,u.isArray)(t)&&t.forEach(function(l,d){if((0,u.isString)(l)){var p=r.parseString(l,e);t[d]=(0,u.isArray)(p)&&!p.length?null:p}});var i=((0,u.isArray)(t)?t:[t]).filter(Boolean).map(function(l){return r.processDef(l)});return t=(0,u.isArray)(t)?(0,u.flatten)(i,1):i[0],a.prototype.add.call(this,t,e)}},n.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,r=e.em,i=e.config,l=i===void 0?{}:i,d=l.processor,p=t;if(d){p=Tr({},p);var v=d(p);v&&((0,u.each)(p,function(wt,Vt){return delete p[Vt]}),(0,u.extend)(p,v))}if(p.$$typeof&&typeof p.props=="object"){p=Tr({},p),p.props=Tr({},p.props);var m=r.Components,E=r.Parser,B=E.parserHtml;(0,u.each)(p,function(wt,Vt){(0,u.includes)(["props","type"],Vt)||delete p[Vt]});var J=p.props,ht=J.children;delete J.children,delete p.props;var bt=B.splitPropsFromAttr(J);p.attributes=bt.attrs,ht&&(p.components=ht),p.type?m.getType(p.type)||(p.tagName=p.type,delete p.type):p.type="textnode",(0,u.extend)(p,bt.props)}return p},n.prototype.onAdd=function(t,e,r){r===void 0&&(r={});var i=this,l=i.domc,d=i.em,p=t.getStyle(),v=d&&d.getConfig().avoidInlineStyle;if(l&&l.Component.ensureInList(t),!(0,u.isEmpty)(p)&&!v&&d&&d.getConfig().forceClass&&!r.temporary){var m=t.cid;d.Css.setClassRule(m,p),t.setStyle({}),t.addClass(m)}if(t.__postAdd({recursive:!0}),d&&!r.temporary){var E=function(B){d.trigger(he.g.add,B,r),B.components().forEach(function(J){return E(J)})};E(t),l&&mn(t)&&Wr(t)&&l.symbols.__trgEvent(l.events.symbolInstanceAdd,{component:t},!0)}},n}(b.FE);const hi=hs;var ya=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),to=1,eo=2,Ho=function(a){ya(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,i=e.config,l=i===void 0?{}:i,d=r.get("name"),p=r.get("label");d?p||r.set("label",d):r.set("name",p);var v=r.get("name"),m=l.escapeName,E=m?m(v):n.escapeName(v);return r.set("name",E),r.em=e.em,r}return n.prototype.defaults=function(){return{name:"",label:"",type:to,active:!0,private:!1,protected:!1,_undo:!0}},n.prototype.isId=function(){return this.get("type")===eo},n.prototype.isClass=function(){return this.get("type")===to},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,r=this.get("name"),i="";switch(this.get("type")){case to:i=".";break;case eo:i="#";break}return i+(e?e(r):r)},n.prototype.toString=function(){return this.getFullName()},n.prototype.getName=function(){return this.get("name")||""},n.prototype.getLabel=function(){return this.get("label")||""},n.prototype.setLabel=function(t){return this.set("label",t)},n.prototype.getActive=function(){return!!this.get("active")},n.prototype.setActive=function(t){return this.set("active",t)},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,r=b.Hn.prototype.toJSON.call(this,[t]),i=(0,u.result)(this,"defaults");if(e&&e.getConfig().avoidDefaults){(0,u.forEach)(i,function(d,p){r[p]===d&&delete r[p]}),r.label===r.name&&delete r.label;var l=(0,u.keys)(r).length;l===1&&r.name&&(r=r.name),l===2&&r.name&&r.type&&(r=this.getFullName())}return r},n.escapeName=function(t){return"".concat(t).trim().replace(/([^a-z0-9\w\-\\:@\\/#()\.%\+\[\]]+)/gi,"-")},n.TYPE_CLASS=to,n.TYPE_ID=eo,n}(b.Hn);const Br=Ho;Ho.prototype.idAttribute="name";var _a=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_n=function(a,n){return a.reduce(function(t,e,r){return t.concat(_n(a.slice(r+1),"".concat(n).concat(e)))},[n])},Ti=function(a){_a(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||Br.TYPE_CLASS)},n.prototype.getStyleable=function(){return(0,u.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},n.prototype.getValid=function(t){var e=t===void 0?{}:t,r=e.noDisabled;return(0,u.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return r?i.get("active"):1})},n.prototype.getFullString=function(t,e){e===void 0&&(e={});var r=[],i=t||this;return i.forEach(function(l){return r.push(l.getFullName(e))}),e.sort&&r.sort(),r.join("").trim()},n.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,r=t.array,i=[],l=this.map(function(d){return d.getFullName(t)}).sort();return e?l.forEach(function(d,p){i=i.concat(_n(l.slice(p+1),d))}):i=l,r?i:e?i.join(","):i.join("")},n}(b.FE);const vi=Ti;Ti.prototype.model=Br;var vs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zn=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},_l=function(a){vs(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},n.prototype.getId=function(){return this.get("id")},n.prototype.getLabel=function(){return this.get("label")},n}(b.Hn);const ro=_l;function no(a){var n=new Set,t=new Map,e={items:[]};a.forEach(function(i){var l=i.category;if(l){n.add(l);var d=t.get(l);d?d.push(i):t.set(l,[i])}else e.items.push(i)});var r=Array.from(n).map(function(i){return{category:i,items:t.get(i)||[]}});return zn(zn([],r,!0),[e],!1)}var io=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zo="category",gs=function(a){io(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initCategory=function(t){var e=t.get(zo),r=e instanceof ro;if(e&&!r){(0,u.isString)(e)?e={id:e,label:e}:(0,g.isObject)(e)&&!e.id&&(e.id=e.label);var i=this.getCategories().add(e);return t.set(zo,i,{silent:!0}),i}else if(r){var i=e;return this.getCategories().add(i),i}},n}(b.FE),bl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ba=function(a){bl(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,i=e.events,l=e.em,d=i==null?void 0:i.update;return l&&d&&r.on("change",function(p,v){return l.trigger(d,{category:p,changes:p.changedAttributes(),options:v})}),r}return n.prototype.add=function(t,e){var r=(0,u.isArray)(t)?t:[t];return r.forEach(function(i){return i&&(i.id=(0,g.normalizeKey)("".concat(i.id)))}),a.prototype.add.call(this,t,e)},n.prototype.get=function(t){return a.prototype.get.call(this,(0,u.isString)(t)?(0,g.normalizeKey)(t):t)},n}(b.FE);const Ni=ba;ba.prototype.model=ro;var Vi;(function(a){a.select="trait:select",a.value="trait:value",a.categoryUpdate="trait:category:update",a.custom="trait:custom",a.all="trait"})(Vi||(Vi={}));const wa=Vi;var Uo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bi=function(){return Bi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Bi.apply(this,arguments)},oo=function(a){Uo(n,a);function n(t,e){var r=a.call(this,t)||this,i=r.attributes,l=i.target,d=i.name;return!r.get("id")&&r.set("id",d),l&&r.setTarget(l),r.em=e,r}return n.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ro?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),n.prototype.setTarget=function(t){if(t){var e=this.attributes,r=e.name,i=e.changeProp,l=e.value,d=e.getValue;this.target=t,this.unset("target");var p=i?"change:".concat(r):"change:attributes:".concat(r);this.listenTo(t,p,this.targetUpdated);var v=l||(d?void 0:this.getValue());!(0,u.isUndefined)(v)&&this.set({value:v},{silent:!0})}},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,i=r===void 0?!0:r,l=this.getId(),d=this.get("label")||this.getName();return i&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(l)))||d},n.prototype.getValue=function(t){return this.getTargetValue(t)},n.prototype.setValue=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=i.component,d=i.em,p=e.partial,v={},m=this.attributes.setValue;if(m){m({value:t,component:l,editor:d==null?void 0:d.getEditor(),trait:this,partial:!!p,options:e,emitUpdate:function(){return r.targetUpdated()}});return}p&&(v.avoidStore=!0),this.setTargetValue(t,v)},n.prototype.getDefault=function(){return this.get("default")},n.prototype.getOptions=function(){return this.get("options")||[]},n.prototype.getOption=function(t){var e=this,r=(0,g.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===r})[0]},n.prototype.getOptionId=function(t){return t.id||t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var i=e.locale,l=i===void 0?!0:i,d=(0,u.isString)(t)?this.getOption(t):t,p=this.getOptionId(d),v=d.label||d.name||p,m=this.getName();return l&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.options.".concat(m,".").concat(p)))||v},n.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.category,l=t.locale,d=l===void 0?!0:l,p=i==null?void 0:i.getId(),v=i==null?void 0:i.getLabel();return d&&(r==null?void 0:r.t("traitManager.categories.".concat(p)))||v||""},n.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,u.isString)(e)?t.Commands.run(e):e(t.Editor,this)},n.prototype.props=function(){return this.attributes},n.prototype.targetUpdated=function(){var t=this,e=t.component,r=t.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var l={trait:this,component:e,value:i};e.trigger(wa.value,l),r==null||r.trigger(wa.value,l),r==null||r.trigger("trait:update",l)},n.prototype.getTargetValue=function(t){t===void 0&&(t={});var e=this,r=e.component,i=e.em,l=this.getName(),d=this.get("getValue"),p;if(d?p=d({editor:i==null?void 0:i.getEditor(),trait:this,component:r}):this.changeProp?p=r.get(l):p=r.getAttributes()[l],t.useType){var v=this.getType();if(v==="checkbox"){var m=this.attributes,E=m.valueTrue,B=m.valueFalse;!(0,u.isUndefined)(E)&&E===p?p=!0:!(0,u.isUndefined)(B)&&B===p&&(p=!1)}}return(0,u.isUndefined)(p)?"":p},n.prototype.setTargetValue=function(t,e){var r;e===void 0&&(e={});var i=this,l=i.component,d=i.attributes,p=this.getName();if(!(0,u.isUndefined)(t)){var v=t;if(t==="false"?v=!1:t==="true"&&(v=!0),this.getType()==="checkbox"){var m=d.valueTrue,E=d.valueFalse;v&&!(0,u.isUndefined)(m)&&(v=m),!v&&!(0,u.isUndefined)(E)&&(v=E)}var B=(r={},r[p]=v,r);B.__p=e.avoidStore?null:void 0,this.changeProp?l.set(B,e):l.addAttributes(B,e)}},n.prototype.setValueFromInput=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var i={value:t};this.set(i,Bi(Bi({},r),{avoidStore:1})),e&&(this.set("value","",r),this.set(i,r))},n.prototype.getInitValue=function(){var t=this.component,e=this.getName(),r;if(t){var i=t.get("attributes");r=this.changeProp?t.get(e):i[e]}return r||this.get("value")||this.get("default")},n}(b.Hn);const Ei=oo;var Wo=function(){function a(n){n===void 0&&(n={}),this.config=n}return a.prototype.build=function(n,t){return(0,u.isString)(n)?this.buildFromString(n,t):new Ei(n,t)},a.prototype.buildFromString=function(n,t){var e={name:n,type:"text"};switch(n){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new Ei(e,t)},a}();const ms=Wo;var ao=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ko=function(a){ao(n,a);function n(t,e){var r=a.call(this,t)||this;r.categories=new Ni;var i=e.em;r.em=i,r.categories=new Ni([],{em:i,events:{update:wa.categoryUpdate}}),r.on("add",r.handleAdd),r.on("reset",r.handleReset);var l=r.module,d=l==null?void 0:l.getConfig();return r.tf=new ms(d),r}return Object.defineProperty(n.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),n.prototype.getCategories=function(){return this.categories},n.prototype.handleReset=function(t,e){var r=e===void 0?{}:e,i=r.previousModels,l=i===void 0?[]:i;l.forEach(function(d){return d.trigger("remove")})},n.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},n.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},n.prototype.add=function(t,e){if(t!=null){var r=this,i=r.target,l=r.em;if((0,u.isArray)(t)){for(var d=[],p=0,v=t.length;p<v;p++){var m=t[p];d[p]=m instanceof Ei?m:this.tf.build(m,l),d[p].setTarget(i)}return a.prototype.add.call(this,d,e)}var E=t instanceof Ei?t:this.tf.build(t,l);return E.setTarget(i),a.prototype.add.call(this,E,e)}},n}(gs);const Tn=Ko;var si=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),or=function(){return or=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},or.apply(this,arguments)},so=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},En=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Zn=function(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Hi=function(a){return!!(a!=null&&a.getConfig().avoidInlineStyle)},jn="component:drag",Kr="__symbols",hr="__symbol",gi="__symbol_ovrd",mi=he.g.update,yi=he.g.updateInside,ys=function(a){si(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;(0,u.bindAll)(r,"__upSymbProps","__upSymbCls","__upSymbComps");var i=e.em,l=r.parent(),d=l==null?void 0:l.attributes,p=r.get("propagate");if(p&&r.set("propagate",(0,u.isArray)(p)?p:[p]),d&&d.propagate&&!p){var v={},m=d.propagate;m.forEach(function(bt){return v[bt]=l.get(bt)}),v.propagate=m,r.set(or(or({},v),t))}if(e&&e.config&&e.config.voidElements.indexOf(r.get("tagName"))>=0&&r.set("void",!0),e.em=i,r.opt=e,r.em=i,r.frame=e.frame,r.config=e.config||{},r.set("attributes",or(or({},(0,u.result)(r,"defaults").attributes||{}),r.get("attributes")||{})),r.ccid=n.createId(r,e),r.initClasses(),r.initComponents(),r.initTraits(),r.initToolbar(),r.initScriptProps(),r.listenTo(r,"change:script",r.scriptUpdated),r.listenTo(r,"change:tagName",r.tagUpdated),r.listenTo(r,"change:attributes",r.attrUpdated),r.listenTo(r,"change:attributes:id",r._idUpdated),r.on("change:toolbar",r.__emitUpdateTlb),r.on("change",r.__onChange),r.on(yi,r.__propToParent),r.set("status",""),r.views=[],["classes","traits","components"].forEach(function(bt){var wt="add remove ".concat(bt!=="components"?"change":"");r.listenTo(r.get(bt),wt.trim(),function(){for(var Vt=[],Xt=0;Xt<arguments.length;Xt++)Vt[Xt]=arguments[Xt];return r.emitUpdate.apply(r,En([bt],Vt,!1))})}),!e.temporary){var E=i&&i.Css,B=r.attributes,J=B.styles,ht=B.type;J&&E&&E.addCollection(J,{avoidUpdateStyle:!0},{group:"cmp:".concat(ht)}),r.__postAdd(),r.init(),Sr(r)&&nr(r),i==null||i.trigger(he.g.create,r,e)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[hr]=0,t[Kr]=0,t[gi]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),n.prototype.init=function(){},n.prototype.updated=function(t,e,r){},n.prototype.removed=function(){},n.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,r=e==null?void 0:e.UndoManager,i=this.components();r&&!this.__hasUm&&(r.add(i),r.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&i.map(function(l){return l.__postAdd(t)})},n.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},n.prototype.__onChange=function(t,e){var r=this,i=this.changedAttributes()||{};(0,u.keys)(i).forEach(function(l){return r.emitUpdate(l)}),["status","open","toolbar","traits"].forEach(function(l){return delete i[l]}),(0,g.isEmptyObj)(i)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:i,options:e}))},n.prototype.__onStyleChange=function(t){var e=this,r=this.em;if(r){var i="component:styleUpdate",l=(0,u.keys)(t),d={style:t};r.trigger(i,this,d),l.forEach(function(p){return r.trigger("".concat(i,":").concat(p),e,d)})}},n.prototype.__changesUp=function(t){var e=this,r=e.em,i=e.frame;[i,r].forEach(function(l){return l&&l.changesUp(t)})},n.prototype.__propSelfToParent=function(t){this.trigger(mi,t),this.__propToParent(t)},n.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(yi,t)},n.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},n.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},n.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),Ge(this,e)},n.prototype.__upSymbCls=function(t,e,r){r===void 0&&(r={}),ir(this,r)},n.prototype.__upSymbComps=function(t,e,r){fr(this,t,e,r)},n.prototype.is=function(t){return this.get("type")==t},n.prototype.props=function(){return this.attributes},n.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(){return this.get("dmode")||""},n.prototype.setSymbolOverride=function(t){var e;this.set(gi,(e=(0,u.isString)(t)?[t]:t)!==null&&e!==void 0?e:0)},n.prototype.getSymbolOverride=function(){return this.get(gi)},n.prototype.find=function(t){var e,r=[],i=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return i==null||i.each(function(l){var d=i.eq(l),p=d.data("model");p&&r.push(p)}),r},n.prototype.findType=function(t){var e=[],r=function(i){return i.forEach(function(l){l.is(t)&&e.push(l),r(l.components())})};return r(this.components()),e},n.prototype.closest=function(t){var e,r=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return r!=null&&r.length?r.data("model"):void 0},n.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},n.prototype.contains=function(t){var e=!1;if(!t)return e;var r=function(i){!e&&i.forEach(function(l){l===t&&(e=!0),!e&&r(l.components())})};return r(this.components()),e},n.prototype.tagUpdated=function(){this.trigger("rerender")},n.prototype.replaceWith=function(t,e){e===void 0&&(e={});var r=this.collection,i=r.indexOf(this);r.remove(this);var l=r.add(t,or(or({},e),{at:i}));return(0,u.isArray)(l)?l:[l]},n.prototype.attrUpdated=function(t,e,r){var i=this;r===void 0&&(r={});var l=this.get("attributes"),d=l.class;d&&this.setClass(d),delete l.class;var p=l.style;p&&this.setStyle(p,r),delete l.style;var v=or({},this.previous("attributes")),m=(0,g.shallowDiff)(v,this.get("attributes"));(0,u.keys)(m).forEach(function(E){var B,J="attributes:".concat(E);i.trigger("change:".concat(J),i,m[E],r),(B=i.em)===null||B===void 0||B.trigger("".concat(mi,":").concat(J),i,m[E],r)})},n.prototype.setAttributes=function(t,e){return e===void 0&&(e={}),this.set("attributes",or({},t),e),this},n.prototype.addAttributes=function(t,e){return e===void 0&&(e={}),this.setAttributes(or(or({},this.getAttributes({noClass:!0})),t),e)},n.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=Array.isArray(t)?t:[t],i=this.getAttributes();return r.map(function(l){return delete i[l]}),this.setAttributes(i,e)},n.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=this.em,i=(0,u.isString)(t)?t:"",l=i?e:t;if(Hi(r)&&!l.inline){var d=r.get("state"),p=r.Css,v=p.getIdRule(this.getId(),or({state:d},l));return this.rule=v,v?v.getStyle(i):{}}return a.prototype.getStyle.call(this,i)},n.prototype.setStyle=function(t,e){var r=this;t===void 0&&(t={}),e===void 0&&(e={});var i=this,l=i.opt,d=i.em;if(Hi(d)&&!l.temporary&&!e.inline){var p=this.get("style")||{};t=(0,u.isString)(t)?this.parseStyle(t):t,t=or(or({},t),p);var v=d.get("state"),m=d.Css,E=this.getStyle(e);this.rule=m.setIdRule(this.getId(),t,or({state:v},e));var B=(0,g.shallowDiff)(E,t);this.set("style","",{silent:!0}),(0,u.keys)(B).forEach(function(J){return r.trigger("change:style:".concat(J))})}else t=a.prototype.setStyle.apply(this,arguments);return l.temporary||this.__onStyleChange(e.addStyle||t),t},n.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,r=[],i=or({},this.get("attributes")),l=e==null?void 0:e.Selectors,d=this.getId();if(t.noClass?delete i.class:(this.classes.forEach(function(m){return r.push((0,u.isString)(m)?m:m.getName())}),r.length&&(i.class=r.join(" "))),!t.noStyle){var p=this.getStyle({inline:!0});(0,g.isObject)(p)&&!(0,g.isEmptyObj)(p)&&(i.style=this.styleToString({inline:!0}))}if(!(0,u.has)(i,"id")){var v=!1;(Hi(e)||!(0,u.isEmpty)(this.getStyle()))&&(v=!!(l!=null&&l.get(d,l.Selector.TYPE_ID))),(Sr(this)||this.get("script-export")||this.get("script"))&&(v=!0),v&&(i.id=d)}return i},n.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},n.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},n.prototype.removeClass=function(t){var e=[];t=(0,u.isArray)(t)?t:[t];var r=this.classes,i=Br.TYPE_CLASS;return t.forEach(function(l){var d=l.split(" ");d.forEach(function(p){var v=r.where({name:p,type:i})[0];v&&e.push(r.remove(v))})}),e},n.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},n.prototype.initClasses=function(t,e,r){r===void 0&&(r={});var i="change:classes",l=this.get("attributes")||{},d=l.class,p=so(l,["class"]),v=[this,i,this.initClasses],m=this.get("classes")||d||[],E=(0,u.isString)(m)?m.split(" "):m;this.stopListening.apply(this,v);var B=this.normalizeClasses(E),J=new vi([]);return this.set("classes",J,r),J.add(B),J.on("add remove reset",this.__upSymbCls),d&&B.length&&this.set("attributes",p),this.listenTo.apply(this,v),this},n.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var r=new hi([],this.opt);r.parent=this;var i=this.get("components"),l=!this.opt.avoidChildren;return this.set("components",r),l&&i&&r.add((0,u.isFunction)(i)?i(this):i,this.opt),r.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},n.prototype.initTraits=function(t){var e=this.em,r="change:traits";this.off(r,this.initTraits),this.__loadTraits();var i=or({},this.get("attributes")),l=this.traits;return l.each(function(d){if(!d.changeProp){var p=d.getName(),v=d.getInitValue();p&&v&&(i[p]=v)}}),l.length&&this.set("attributes",i),this.on(r,this.initTraits),t&&e&&e.trigger("component:toggled"),this},n.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var r=this.previous(t)||[],i=this.get(t)||[],l=r.map(function(p){return"change:".concat(p)}).join(" "),d=i.map(function(p){return"change:".concat(p)}).join(" ");l&&this.off(l,this.__scriptPropsChange),d&&this.on(d,this.__scriptPropsChange),this.on.apply(this,e)}},n.prototype.__scriptPropsChange=function(t,e,r){r===void 0&&(r={}),!r.avoidStore&&this.trigger("rerender")},n.prototype.append=function(t,e){e===void 0&&(e={});var r=(0,u.isArray)(t)?En([],t,!0):[t],i=r.map(function(d){return(0,u.isString)(d)||d.collection&&d.collection.remove(d,{temporary:!0}),d}),l=this.components().add(i,or({action:he.W.add},e));return(0,u.isArray)(l)?l:[l]},n.prototype.components=function(t,e){e===void 0&&(e={});var r=this.get("components");return(0,u.isUndefined)(t)?r:(r.reset(void 0,e),t?this.append(t,e):[])},n.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},n.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},n.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},n.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},n.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},n.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},n.prototype.initToolbar=function(){var t=this.em,e=this,r=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var i=[];e.collection&&i.push({label:t.getIcon("arrowUp"),command:function(l){return l.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&i.push({attributes:{class:"".concat(r,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&i.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&i.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",i)}},n.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var r=t||this.traits;if(!(r instanceof Tn)){r=(0,u.isFunction)(r)?r(this):r;var i=new Tn([],this.opt);i.setTarget(this),r.length&&(r.forEach(function(l){return l.attributes&&delete l.attributes.value}),i.add(r)),this.set({traits:i},e)}return this},n.prototype.getTraits=function(){return this.__loadTraits(),En([],this.traits.models,!0)},n.prototype.setTraits=function(t){var e=(0,u.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},n.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},n.prototype.updateTrait=function(t,e){var r,i=this.getTrait(t);return i&&i.set(e),(r=this.em)===null||r===void 0||r.trigger("component:toggled"),this},n.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},n.prototype.removeTrait=function(t){var e=this,r,i=(0,u.isArray)(t)?t:[t],l=i.map(function(v){return e.getTrait(v)}),d=this.traits,p=l.length?d.remove(l):[];return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,u.isArray)(p)?p:[p]},n.prototype.addTrait=function(t,e){var r;e===void 0&&(e={}),this.__loadTraits();var i=this.traits.add(t,e);return(r=this.em)===null||r===void 0||r.trigger("component:toggled"),(0,u.isArray)(i)?i:[i]},n.prototype.normalizeClasses=function(t){var e=[],r=this.em,i=r==null?void 0:r.Selectors;return i?t.models?En([],t.models,!0):(t.forEach(function(l){return e.push(i.add(l))}),e):[]},n.prototype.clone=function(t){t===void 0&&(t={});var e=this.em,r=or({},this.attributes),i=or({},this.opt),l=this.getId(),d=e==null?void 0:e.Css;r.attributes=or({},r.attributes),delete r.attributes.id,r.components=[],r.classes=[],r.traits=[],Wr(this)&&(t.symbol=!0),this.get("components").each(function(ht,bt){r.components[bt]=ht.clone(or(or({},t),{_inner:1}))}),this.get("traits").each(function(ht,bt){r.traits[bt]=ht.clone()}),this.get("classes").each(function(ht,bt){r.classes[bt]=ht.get("name")}),r.status="",i.collection=null;var p=new this.constructor(r,i),v="#".concat(p.getId()),m=d?d.getRules("#".concat(l)):[];m.forEach(function(ht){var bt=ht.clone();bt.set("selectors",[v]),d.getAll().add(bt)}),p.set(Kr,0);var E=un(this),B=Vr(this);!t.symbol&&(E||B)?(p.set(hr,0),p.set(Kr,0)):E?(E.set(Kr,En(En([],Vr(E),!0),[p],!1)),nr(p)):t.symbol&&(De(this)?(this.set(Kr,En(En([],B,!0),[p],!1)),p.set(hr,this),nr(p)):t.symbolInv?(this.set(Kr,[p]),p.set(hr,this),[this,p].map(function(ht){return nr(ht)})):(p.set(Kr,[this]),[this,p].map(function(ht){return nr(ht)}),this.set(hr,p)));var J="component:clone";return e&&e.trigger(J,p),this.trigger(J,p),p},n.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,r=this.attributes,i=r.type,l=r.tagName,d=r.name,p=i||l,v=i?"":l,m="domComponents.names.",E=d&&(e==null?void 0:e.t("".concat(m).concat(d))),B=v&&(e==null?void 0:e.t("".concat(m).concat(v))),J=e&&(e.t("".concat(m).concat(i))||e.t("".concat(m).concat(l))),ht=this.get("custom-name");return(t.noCustom?"":ht)||E||d||B||(0,g.capitalize)(v)||J||(0,g.capitalize)(p)},n.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},n.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this,r=[],i=t.tag,l=i||e.get("tagName"),d=e.get("void"),p=t.attributes,v=this.getAttrToHTML(t);if(delete t.tag,p&&((0,u.isFunction)(p)?v=p(e,v)||{}:(0,g.isObject)(p)&&(v=p)),t.withProps){var m=this.toJSON();(0,u.forEach)(m,function(Xt,te){var ve=["classes","attributes","components"];te[0]!=="_"&&ve.indexOf(te)<0&&(v["data-gjs-".concat(te)]=(0,u.isArray)(Xt)||(0,g.isObject)(Xt)?JSON.stringify(Xt):(0,u.isBoolean)(Xt)?"".concat(Xt):Xt)})}for(var E in v){var B=v[E];if(!(0,u.isUndefined)(B)&&B!==null)if((0,u.isBoolean)(B))B&&r.push(E);else{var J="";if(t.altQuoteAttr&&(0,u.isString)(B)&&B.indexOf('"')>=0)J="'".concat(B.replace(/'/g,"&apos;"),"'");else{var ht=(0,u.isString)(B)?B.replace(/"/g,"&quot;"):B;J='"'.concat(ht,'"')}r.push("".concat(E,"=").concat(J))}}var bt=r.length?" ".concat(r.join(" ")):"",wt=e.getInnerHTML(t),Vt="<".concat(l).concat(bt).concat(d?"/":"",">").concat(wt);return!d&&(Vt+="</".concat(l,">")),Vt},n.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},n.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(r){return r.toHTML(t)}).join(""):this.content},n.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return Hi(this.em)&&(t==null?void 0:t.keepInlineStyle)!==!0&&delete e.style,e},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=P.Model.prototype.toJSON.call(this,t);if(e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,!t.fromUndo){var r=e[hr],i=e[Kr];i&&(0,u.isArray)(i)&&(e[Kr]=i.filter(function(l){return l}).map(function(l){return l.getId?l.getId():l})),r&&!(0,u.isString)(r)&&(e[hr]=r.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},n.prototype.getChangedProps=function(t){var e=t||P.Model.prototype.toJSON.apply(this),r=(0,u.result)(this,"defaults");return(0,u.forEach)(r,function(i,l){["type"].indexOf(l)===-1&&e[l]===i&&delete e[l]}),(0,u.isEmpty)(e.type)&&delete e.type,(0,u.forEach)(["attributes","style"],function(i){(0,u.isEmpty)(r[i])&&(0,u.isEmpty)(e[i])&&delete e[i]}),(0,u.forEach)(["classes","components"],function(i){(!e[i]||(0,u.isEmpty)(r[i])&&!e[i].length)&&delete e[i]}),e},n.prototype.getId=function(){var t=this.get("attributes")||{};return t.id||this.ccid||this.cid},n.prototype.setId=function(t,e){var r=or({},this.get("attributes"));return r.id=t,this.set("attributes",r,e),this},n.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},n.prototype.getView=function(t){var e=this,r=e.view,i=e.views,l=e.em,d=t||(l==null?void 0:l.getCurrentFrameModel());return d&&(r=i.filter(function(p){return p.frameView===d.view})[0]),r},n.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},n.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(r,i){return r[i]=t[i],r},{})},n.prototype.getScriptString=function(t){var e=this,r=t||this.get("script")||"";if(!r)return r;if(this.get("script-props"))r=r.toString().trim();else{if((0,u.isFunction)(r)){var i=r.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),r=i.trim()}var l=this.em.getConfig(),d=Zn(l.tagVarStart||"{[ "),p=Zn(l.tagVarEnd||" ]}"),v=new RegExp("".concat(d,"([\\w\\d-]*)").concat(p),"g");r=r.replace(v,function(m,E){e.scriptUpdated();var B=e.attributes[E]||"";return(0,u.isArray)(B)||typeof B=="object"?JSON.stringify(B):B})}return r},n.prototype.emitUpdate=function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var l=this.em,d=mi+(t?":".concat(t):""),p=t&&this.get(t);t&&this.updated.apply(this,En([t,p,t&&this.previous(t)],r,!1)),this.trigger.apply(this,En([d],r,!1)),l&&l.trigger.apply(l,En([d,this],r,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=p,e),options:r[2]||r[1]||{}})},n.prototype.onAll=function(t){return(0,u.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},n.prototype.forEachChild=function(t){(0,u.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},n.prototype.remove=function(t){var e=this;t===void 0&&(t={});var r=this.em,i=this.collection,l=function(){i&&i.remove(e,or({action:he.W.remove},t)),i||(e.components("",t),e.components().removeChildren(e,void 0,t))},d=or({},t);return[this,r].map(function(p){return p.trigger(he.g.removeBefore,e,l,d)}),!d.abort&&l(),this},n.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var r=e.at,i=this.index(),l=t===this.parent(),d=i===r||i===r-1;if(!l||!d){l&&r&&r>i&&(e.at=r-1);var p=he.W.move;this.remove({action:p,temporary:1}),t.append(this,or({action:p},e)),this.emitUpdate()}}return this},n.prototype.isInstanceOf=function(t){var e,r,i=(r=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||r===void 0?void 0:r.model;if(!i)return!1;var l=this.constructor.typeExtends;return this instanceof i||l.has(t)},n.prototype.isChildOf=function(t){for(var e=(0,u.isString)(t),r=this.parent();r;){if(e){if(r.isInstanceOf(t))return!0}else if(r===t)return!0;r=r.parent()}return!1},n.prototype.resetId=function(t){var e=this.em,r=this.getId();if(!r)return this;var i=n.createId(this);this.setId(i);var l=e==null?void 0:e.Css.getIdRule(r),d=l==null?void 0:l.get("selectors").at(0);return d==null||d.set("name",i),this},n.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,r=e.id,i=this.em,l=r||this.getId();return i==null?void 0:i.Css.getIdRule(l)},n.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},n.prototype._idUpdated=function(t,e,r){if(r===void 0&&(r={}),!r.idUpdate){var i=this.ccid,l=(this.get("attributes")||{}).id,d=(this.previous("attributes")||{}).id||i,p=n.getList(this);if(p[l]||!l&&d)return this.setId(d,{idUpdate:!0});delete p[d],p[l]=this,this.ccid=l;var v=this._getStyleSelector({id:d});v&&v.set({name:l,label:l})}},n.getDefaults=function(){return(0,u.result)(this.prototype,"defaults")},n.isComponent=function(t,e){return{tagName:(0,g.toLowerCase)(t.tagName)}},n.ensureInList=function(t){var e=n.getList(t),r=t.getId(),i=e[r];if(!i)e[r]=t;else if(i!==t){var l=n.getIncrementId(r,e);t.setId(l),e[l]=t}t.components().forEach(function(d){return n.ensureInList(d)})},n.createId=function(t,e){e===void 0&&(e={});var r=n.getList(t),i=e.idMap,l=i===void 0?{}:i,d=t.get("attributes").id,p;return d?(p=n.getIncrementId(d,r,e),t.setId(p),d!==p&&(l[d]=p)):p=n.getNewId(r),r[p]=t,p},n.getNewId=function(t){for(var e=Object.keys(t).length,r=e.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-r),l="i".concat(i);t[l];)l=n.getNewId(t);return l},n.getIncrementId=function(t,e,r){r===void 0&&(r={});var i=r.keepIds,l=i===void 0?[]:i,d=1,p=t;if(l.indexOf(t)<0)for(;e[p];)d++,p="".concat(t,"-").concat(d);return p},n.getList=function(t){var e,r=t.em,i=r==null?void 0:r.Components;return(e=i==null?void 0:i.componentsById)!==null&&e!==void 0?e:{}},n.checkId=function(t,e,r,i){e===void 0&&(e=[]),r===void 0&&(r={}),i===void 0&&(i={});var l=(0,u.isArray)(t)?t:[t],d=i.keepIds,p=d===void 0?[]:d,v=i.idMap,m=v===void 0?{}:v;l.forEach(function(E){E.attributes;var B=E.attributes,J=B===void 0?{}:B,ht=E.components,bt=J.id;if(bt&&r[bt]&&p.indexOf(bt)<0){var wt=n.getIncrementId(bt,r);m[bt]=wt,J.id=wt,(0,u.isArray)(e)&&e.forEach(function(Vt){var Xt=Vt.selectors;Xt.forEach(function(te,ve){te==="#".concat(bt)&&(Xt[ve]="#".concat(wt))})})}ht&&n.checkId(ht,e,r,i)})},n.typeExtends=new Set,n}(In);const tn=ys;var Su=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lo=function(){return lo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},lo.apply(this,arguments)},_i="head",_s=["title","style","base","link","meta","script","noscript"],wl=function(a){Su(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return lo(lo({},a.prototype.defaults),{type:_i,tagName:_i,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||_s.includes((0,g.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===_i},n}(tn);const xa=wl;var Ca=function(){return Ca=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ca.apply(this,arguments)},xl=function(){function a(n,t){var e=this;this.em=n,this.canvas=n.Canvas;var r=t||this.canvas.getFrames().map(function(l){return l.getComponent().getEl()}),i=Array.isArray(r)?r:[r];this.el=i[0],this.counter=0,(0,u.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),i.forEach(function(l){return e.toggleEffects(l,!0)})}return a.prototype.toggleEffects=function(n,t){var e={on:pe.on,off:pe.S1},r=t?"on":"off";e[r](n,"dragenter",this.handleDragEnter),e[r](n,"dragover",this.handleDragOver),e[r](n,"drop",this.handleDrop),e[r](n,"dragleave",this.handleDragLeave)},a.prototype.__customTglEff=function(n){var t,e=n?pe.on:pe.S1,r=this.el.ownerDocument,i=(t=r.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=n?{onStart:function(l){var d=l.sorter;(0,pe.on)(i,"pointermove",d.onMove)},onEnd:function(l){var d=l.sorter;(0,pe.S1)(i,"pointermove",d.onMove)},customTarget:function(l){var d=l.event;return r.elementFromPoint(d.clientX,d.clientY)}}:null,e(i,"pointerenter",this.handleDragEnter),e(i,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(i,"pointerout",this.handleDragLeave)},a.prototype.startCustom=function(){this.__customTglEff(!0)},a.prototype.endCustom=function(n){this.over?this.endDrop(n):this.__customTglEff(!1)},a.prototype.endDrop=function(n,t){var e=this,r=e.em,i=e.dragStop;this.counter=0,i&&i(n||!this.over),this.__customTglEff(!1),r.trigger("canvas:dragend",t)},a.prototype.handleDragLeave=function(n){this.updateCounter(-1,n)},a.prototype.updateCounter=function(n,t){this.counter+=n,this.counter===0&&this.endDrop(!0,t)},a.prototype.handleDragEnter=function(n){var t=this,e=this,r=e.em,i=e.canvas,l=n.dataTransfer,d=r.get("dragContent");if(!(!d&&!i.getConfig().allowExternalDrop)&&(this.updateCounter(1,n),!this.over)){this.over=!0;var p=r.Utils,v=d||"<br>",m,E;if(r.stopDefault(),r.inAbsoluteMode()){var B=r.Components.getWrapper(),J=B.append({})[0],ht=r.Commands.run("core:component-drag",{event:n,guidesInfo:1,center:1,target:J,onEnd:function(wt,Vt,Xt){var te=Xt.cancelled,ve;if(!te){ve=B.append(v)[0];var Ee=i.getOffset(),Re=J.getStyle(),ze=Re.top,be=Re.left,He=Re.position,qe=(0,pe.GX)(wt.target),gr=parseInt("".concat(parseFloat(be)+qe.x-Ee.left),10),Pe=parseInt("".concat(parseFloat(ze)+qe.y-Ee.top),10);ve.addStyle({left:gr+"px",top:Pe+"px",position:He})}t.handleDragEnd(ve,l),J.remove()}});m=function(wt){return ht.stop(n,{cancel:wt})},E=function(wt){return v=wt}}else{var bt=new p.Sorter(Ca({em:r,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:i.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(wt){return t.handleDragEnd(wt,l)},document:this.el.ownerDocument},this.sortOpts||{}));bt.setDropContent(v),bt.startSort(),this.sorter=bt,m=function(wt){wt&&(bt.moved=!1),bt.endMove()},E=function(wt){return bt.setDropContent(wt)}}this.dragStop=m,this.dragContent=E,r.trigger("canvas:dragenter",l,v)}},a.prototype.handleDragEnd=function(n,t){var e=this.em;this.over=!1,n&&(e.set("dragResult",n),e.trigger("canvas:drop",t,n)),e.runDefault({preserveSelected:1})},a.prototype.handleDragOver=function(n){n.preventDefault(),this.em.trigger("canvas:dragover",n)},a.prototype.handleDrop=function(n){n.preventDefault();var t=this.dragContent,e=n.dataTransfer,r=this.getContentByData(e).content;n.target.style.border="",r&&t&&t(r),this.endDrop(!r,n)},a.prototype.getContentByData=function(n){var t=this.em,e=n&&n.types,r=n&&n.files||[],i=t.get("dragContent"),l=n&&n.getData("text");if(r.length){l=[];for(var d=0;d<r.length;d++){var p=r[d],v=p.type.split("/")[0];v=="image"&&l.push({type:v,file:p,attributes:{alt:p.name}})}}else if(i)l=i;else if((0,u.indexOf)(e,"text/html")>=0)l=n&&n.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,u.indexOf)(e,"text/uri-list")>=0)l={type:"link",attributes:{href:l},content:l};else if((0,u.indexOf)(e,"text/json")>=0){var m=n&&n.getData("text/json");m&&(l=JSON.parse(m))}else e.length===1&&e[0]==="text/plain"&&(l="<div>".concat(l,"</div>"));var E={content:l};return t.trigger("canvas:dragdata",n,E),E},a}();const bs=xl;var Cl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pn=function(){return Pn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Pn.apply(this,arguments)},Sa=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Pi=function(a){Cl(n,a);function n(t,e){var r=a.call(this,{model:t})||this;r.dragging=!1,r.loaded=!1,r.lastMaxHeight=0,r.tools={},(0,u.bindAll)(r,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var i=r.el;r.module._config=Pn(Pn({},r.config||{}),{frameView:r}),r.frameWrapView=e,r.showGlobalTools=(0,u.debounce)(r.showGlobalTools.bind(r),50);var l=r.getCanvasModel();return r.listenTo(t,"change:head",r.updateHead),r.listenTo(l,"change:styles",r.renderStyles),t.view=r,(0,g.setViewEl)(i,r),r}return Object.defineProperty(n.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),n.prototype.getBoxRect=function(){var t=this,e=t.el,r=t.module,i=r.getCanvasView(),l=r.getCoords(),d=e.getBoundingClientRect(),p=i.getCanvasOffset(),v=i.getViewportDelta(),m=r.getZoomMultiplier(),E=(d.x-p.left-v.x-l.x)*m,B=(d.y-p.top-v.y-l.y)*m,J=d.width*m,ht=d.height*m;return{x:E,y:B,width:J,height:ht}},n.prototype.updateHead=function(){var t=this.model,e=this.getHead(),r=[],i=[],l=t.head,d=t.previous("head"),p=function(m){return m===void 0&&(m={}),Object.keys(m).sort().map(function(E){return"[".concat(E,'="').concat(m[E],'"]')}).join("")},v=function(m,E,B){m.forEach(function(J){var ht=J.tag,bt=J.attributes,wt=E.some(function(Vt){return Vt.tag===ht&&p(Vt.attributes)===p(bt)});!wt&&B.push(J)})};v(l,d,i),v(d,l,r),r.forEach(function(m){var E,B=e.querySelector("".concat(m.tag).concat(p(m.attributes)));(E=B==null?void 0:B.parentNode)===null||E===void 0||E.removeChild(B)}),(0,pe.SJ)(e,i)},n.prototype.getEl=function(){return this.el},n.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},n.prototype.getWindow=function(){return this.getEl().contentWindow},n.prototype.getDoc=function(){return this.getEl().contentDocument},n.prototype.getHead=function(){return this.getDoc().querySelector("head")},n.prototype.getBody=function(){return this.getDoc().querySelector("body")},n.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},n.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,pe.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},n.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},n.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},n.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},n.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},n.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},n.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},n.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),r=e.scrollTop,i=e.scrollLeft,l=t.offsetHeight,d=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:l,width:d,scrollTop:r,scrollLeft:i,scrollBottom:r+l,scrollRight:i+d}},n.prototype._getTool=function(t){var e=this.tools,r=this.getToolsEl();return e[t]||(e[t]=r.querySelector(t)),e[t]},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),dr.prototype.remove.apply(this,e),this},n.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},n.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,e=this.em.Canvas,r=this.getWindow(),i=r.pageYOffset,l=t||0,d=e.getConfig().autoscrollLimit,p=this.getRect().height-d,v=i;if(l<d&&(v-=d-l),l>p&&(v+=l-p),!(0,u.isUndefined)(t)&&v!==i&&v>0&&v<this.lastMaxHeight){var m=this.getGlobalToolsEl();m.style.opacity="0",this.showGlobalTools(),r.scrollTo(0,v),e.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},n.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,pe.VB)(t).clientY*this.em.getZoomDecimal()},n.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},n.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},n.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var e=this.getWindow(),r=t?"on":"off",i={on:pe.on,off:pe.S1};i[r](e,"mousemove dragover",this.updateClientY),i[r](e,"mouseup",this.stopAutoscroll)},n.prototype.render=function(){var t=this,e=t.$el,r=t.ppfx,i=t.em;return e.attr({class:"".concat(r,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},n.prototype.renderScripts=function(){var t=this,e=this,r=e.el,i=e.model,l=e.em,d="frame:load",p={el:r,model:i,view:this},v=this.getCanvasModel(),m=function(E){var B;if(E.length>0){var J=E.shift(),ht=(0,pe.ut)("script",Pn({type:"text/javascript"},(0,u.isString)(J)?{src:J}:J));(B=r.contentDocument)===null||B===void 0||B.head.appendChild(ht),ht.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?m(E):ht.onerror=ht.onload=m.bind(null,E)}else l==null||l.trigger(Ie.frameLoadHead,p),t.renderBody(),l==null||l.trigger(Ie.frameLoadBody,p),l==null||l.trigger(d,p)};r.onload=function(){var E=t.config.frameContent;if(E){var B=t.getDoc();B.open(),B.write(E),B.close()}p.window=t.getWindow(),l==null||l.trigger("".concat(d,":before"),p),l==null||l.trigger(Ie.frameLoad,p),t.renderHead(),m(Sa([],v.get("scripts"),!0))}},n.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),r=this.getCanvasModel(),i=function(E){return E.map(function(B){return{tag:"link",attributes:Pn({rel:"stylesheet"},(0,u.isString)(B)?{href:B}:B)}})},l=i(t.prev||r.previous("styles")),d=i(r.get("styles")),p=[],v=[],m=function(E,B,J){E.forEach(function(ht){var bt=ht.attributes.href,wt=B.some(function(Vt){return Vt.attributes.href===bt});!wt&&J.push(ht)})};m(d,l,v),m(l,d,p),p.forEach(function(E){var B,J=e.querySelector('link[href="'.concat(E.attributes.href,'"]'));(B=J==null?void 0:J.parentNode)===null||B===void 0||B.removeChild(J)}),(0,pe.SJ)(e,v)},n.prototype.renderHead=function(){var t=this,e=t.model,r=t.em,i=e.root,l=r.Components.getType(_i).view;this.headView=new l({el:this.getHead(),model:i.head,config:Pn(Pn({},i.config),{frameView:this})}).render()},n.prototype.renderBody=function(){var t=this,e,r,i=this,l=i.config,d=i.em,p=i.model,v=i.ppfx,m=this.getDoc(),E=this.getBody(),B=this.getWindow(),J=p.hasAutoHeight(),ht=d.config;B._isEditor=!0,this.renderStyles({prev:[]});var bt="#ffca6f";(0,pe.R3)(E,`<style>
      `.concat(ht.baseCss||l.frameStyle||"",`

      `).concat(J?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(J?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(v,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(v,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(v,`selected-parent {
        outline: 2px solid `).concat(bt,` !important
      }

      .`).concat(v,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(v,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(v,`no-pointer {
        pointer-events: none;
      }

      .`).concat(v,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(v,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(v,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(v,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(v,`is__grabbing,
      .`).concat(v,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(ht.canvasCss||"",`
      `).concat(ht.protectedCss||"",`
    </style>`));var wt=p.root,Vt=d.Components.getType("wrapper").view;this.wrapper=new Vt({model:wt,config:Pn(Pn({},wt.config),{em:d,frameView:this})}).render(),(0,pe.R3)(E,(e=this.wrapper)===null||e===void 0?void 0:e.el),(0,pe.R3)(E,new Sn({collection:p.getStyles(),config:Pn(Pn({},d.Css.getConfig()),{frameView:this})}).render().el),(0,pe.R3)(E,this.getJsContainer()),(0,pe.on)(E,"click",function(Xt){var te;return Xt&&((te=Xt.target)===null||te===void 0?void 0:te.tagName)=="A"&&Xt.preventDefault()}),(0,pe.on)(E,"submit",function(Xt){return Xt&&Xt.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!l.infiniteCanvas}}].forEach(function(Xt){return Xt.event.split(" ").forEach(function(te){m.addEventListener(te,function(ve){return t.el.dispatchEvent((0,pe.t3)(ve,Xt.class))},Xt.opts)})}),this._toggleEffects(!0),(0,g.hasDnd)(d)&&(this.droppable=new bs(d,(r=this.wrapper)===null||r===void 0?void 0:r.el)),this.loaded=!0,p.trigger("loaded")},n.prototype._toggleEffects=function(t){var e=t?pe.on:pe.S1,r=this.getWindow();r&&e(r,"".concat(pe.G1," resize"),this._emitUpdate)},n.prototype._emitUpdate=function(){this.model._emitUpdated()},n}(dr);const Sl=Pi;var Oa=wr(668),uo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cn=function(){return cn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},cn.apply(this,arguments)},Hr=function(a){uo(n,a);function n(t,e){var r=a.call(this,{model:t})||this;return(0,u.bindAll)(r,"onScroll","frameLoaded","updateOffset","remove","startDrag"),cn(cn({},t.config),{frameWrapView:r}),r.cv=e,r.frame=new Sl(t,r),r.classAnim="".concat(r.ppfx,"frame-wrapper--anim"),r.updateOffset=(0,u.debounce)(r.updateOffset.bind(r),0),r.updateSize=(0,u.debounce)(r.updateSize.bind(r),0),r.listenTo(t,"loaded",r.frameLoaded),r.listenTo(t,"change:x change:y",r.updatePos),r.listenTo(t,"change:width change:height",r.updateSize),r.listenTo(t,"destroy remove",r.remove),r.updatePos(),r.setupDragger(),r}return n.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},n.prototype.setupDragger=function(){var t=this,e=this,r=e.module,i=e.model,l,d,p,v=function(m){r.toggleFramesEvents(m)};this.dragger=new Oa.Z({onStart:function(){var m=i.attributes,E=m.x,B=m.y;p=t.em.getZoomMultiplier(),l=E,d=B,v(!1)},onEnd:function(){return v(!0)},setPosition:function(m){i.set({x:l+m.x*p,y:d+m.y*p})}})},n.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},n.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,pe.L_)(this.elTools)},n.prototype.remove=function(t){var e=this;return this.__clear(t),dr.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(r){return e[r]=0}),this},n.prototype.updateOffset=function(){var t,e=this,r=e.em,i=e.$el,l=e.frame;!r||r.destroyed||(r.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(t=l==null?void 0:l.model)===null||t===void 0||t._emitUpdated())},n.prototype.updatePos=function(t){var e=this,r=e.model,i=e.el,l=r.attributes,d=l.x,p=l.y,v=i.style;this.frame.rect=void 0,v.left=isNaN(d)?d:"".concat(d,"px"),v.top=isNaN(p)?p:"".concat(p,"px"),t&&this.updateOffset()},n.prototype.updateSize=function(){this.updateDim()},n.prototype.updateDim=function(){var t=this,e=t.em,r=t.el,i=t.$el,l=t.model,d=t.classAnim,p=t.frame;if(p){p.rect=void 0,i.addClass(d);var v=this.__handleSize(),m=v.noChanges,E=v.width,B=v.height;((0,u.isNull)(E)||(0,u.isNull)(B))&&l.set(cn(cn({},E?{}:{width:r.offsetWidth}),B?{}:{height:r.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),m?this.updateOffset():setTimeout(this.updateOffset,350)}},n.prototype.onScroll=function(){var t=this,e=t.frame,r=t.em;r.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},n.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},n.prototype.__handleSize=function(){var t,e,r="px",i=this,l=i.model,d=i.el,p=d.style,v=l.attributes,m=v.width,E=v.height,B=p.width||"",J=p.height||"",ht=m||"",bt=E||"",wt=B==ht&&J==bt,Vt=(0,u.isNumber)(ht)?"".concat(ht).concat(r):ht,Xt=(0,u.isNumber)(bt)?"".concat(bt).concat(r):bt;if(p.width=Vt,l.hasAutoHeight()){var te=this.frame.el;if(te.contentDocument){var ve=te.contentDocument,Ee=new ResizeObserver(function(){p.height="".concat(ve.body.scrollHeight,"px")});Ee.observe(ve.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=Ee}}else p.height=Xt,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),delete this.sizeObserver;return{noChanges:wt,width:m,height:E,newW:ht,newH:bt}},n.prototype.render=function(){var t=this,e=t.frame,r=t.$el,i=t.ppfx,l=t.cv,d=t.model,p=t.el,v=d.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),r.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(d.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var m=(0,pe.ut)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=m;var E=l==null?void 0:l.toolsWrapper;return E&&E.appendChild(m),v&&v({el:p,elTop:p.querySelector("[data-frame-top]"),elRight:p.querySelector("[data-frame-right]"),elBottom:p.querySelector("[data-frame-bottom]"),elLeft:p.querySelector("[data-frame-left]"),frame:d,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},n}(dr);const Ol=Hr;var ws=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zi=function(a){ws(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,!0)||this;return r.listenTo(r.collection,"reset",r.render),r.canvasView=e.canvasView,r._module=e.module,r}return n.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(r){return r.remove(e)})},n.prototype.onRender=function(){var t=this,e=t.$el,r=t.ppfx;e.attr({class:"".concat(r,"frames")})},n.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},n.prototype.renderView=function(t,e){return new Ol(t,this.canvasView)},n}(jt);const Tl=zi;var co=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Go=function(){return Go=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Go.apply(this,arguments)},Ta=function(a){co(n,a);function n(t){var e=a.call(this,{model:t})||this;e.ready=!1,(0,u.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var r=e,i=r.em,l=r.pfx,d=r.ppfx,p=e.module.events;return e.className="".concat(l,"canvas ").concat(d,"no-touch-actions").concat(i.config.customUI?"":" ".concat(l,"canvas-bg")),e.clsUnscale="".concat(l,"unscale"),e._initFrames(),e.listenTo(i,p.refresh,e.clearOff),e.listenTo(i,"component:selected",e.checkSelected),e.listenTo(i,"".concat(p.coords," ").concat(p.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return n.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},n.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},n.prototype._initFrames=function(){var t=this,e=t.frames,r=t.model,i=t.config,l=t.em,d=r.frames;l.set("readyCanvas",0),d.once("loaded:all",function(){return l.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new Tl({collection:d},Go(Go({},i),{canvasView:this}))},n.prototype.checkSelected=function(t,e){var r;e===void 0&&(e={});var i=e.scroll,l=this.em.getCurrentFrame();i&&((r=t.views)===null||r===void 0||r.forEach(function(d){d.frameView===l&&d.scrollIntoView(i)}))},n.prototype.remove=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,dr.prototype.remove.apply(this,e),this.toggleListeners(!1),this},n.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},n.prototype.toggleListeners=function(t){var e=this,r=e.el,i=e.config,l=t?pe.on:pe.S1;l(document,"keypress",this.onKeyPress),l(window,"scroll resize",this.clearOff),l(r,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),l(r,"pointermove",this.onPointer)},n.prototype.screenToWorld=function(t,e){var r=this.module,i=r.getCoords(),l=r.getZoomMultiplier(),d=this.getViewportDelta();return{x:(t-i.x-d.x)*l,y:(e-i.y-d.y)*l}},n.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),r=(0,pe.GX)(),i={x:t.clientX-e.left+r.x,y:t.clientY-e.top+r.y};if(t._parentEvent){var l=t.target.getBoundingClientRect(),d=this.module.getZoomDecimal();i.x=l.left-e.left+r.x+t.clientX*d,i.y=l.top-e.top+r.y+t.clientY*d}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},n.prototype.onKeyPress=function(t){var e=this.em,r=(0,pe.sN)(t);r===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},n.prototype.onWheel=function(t){var e=this,r=e.module,i=e.config;if(i.infiniteCanvas){this.preventDefault(t);var l=t.deltaX,d=t.deltaY,p=r.getZoomDecimal(),v=(0,pe.Vb)(t),m=r.getCoords();if(v){var E=p-d*p*.01;r.setZoom(E*100);var B=this.model.getPointerCoords(b.vA.Screen),J=this.getCanvasOffset(),ht=B.x-J.width/2,bt=B.y-J.height/2,wt=E/p,Vt=ht-(ht-m.x)*wt,Xt=bt-(bt-m.y)*wt;r.setCoords(Vt,Xt)}else this.onPointer(t),r.setCoords(m.x-l,m.y-d)}},n.prototype.updateFrames=function(t){var e=this.em,r=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),r.style.display="none",e.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(i),e.runDefault(i),r.style.display=""},300)},n.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,r=t.model,i=t.module,l=t.cvStyle,d=t.clsUnscale,p=i.getZoomMultiplier();if(e){var v=r.attributes,m=v.x,E=v.y,B=i.getZoomDecimal();e.style.transform="scale(".concat(B,") translate(").concat(m*p,"px, ").concat(E*p,"px)")}l&&(l.innerHTML=`
        .`.concat(d," { scale: ").concat(p,` }
      `))},n.prototype.fitViewport=function(t){var e,r;t===void 0&&(t={});var i=this,l=i.em,d=i.module,p=i.model,v=this.getCanvasOffset(),m=t.el,E=m&&((e=(0,g.getComponentView)(m))===null||e===void 0?void 0:e.frameView),B=E?E.model:t.frame||l.getCurrentFrameModel()||p.frames.at(0),J=B.attributes,ht=J.x,bt=J.y,wt={x:ht??0,y:bt??0,width:B.width,height:B.height};if(m){var Vt=this.getElBoxRect(m);wt.x=wt.x+Vt.x,wt.y=wt.y+Vt.y,wt.width=Vt.width,wt.height=Vt.height}var Xt=t.ignoreHeight,te=(r=t.gap)!==null&&r!==void 0?r:0,ve=(0,u.isNumber)(te),Ee=ve?te:te.x,Re=ve?te:te.y,ze=wt.width+Ee*2,be=wt.height+Re*2,He=v.width,qe=v.height,gr=He/ze,Pe=qe/be,ei=Xt?gr:Math.min(gr,Pe),mc=ei*100;d.setZoom(mc);var cu=-wt.x+(B.width>=He?He/2-ze/2:-Ee),fu=-wt.y+qe/2-be/2,Ao={x:(cu+Ee)*ei,y:(fu+Re)*ei};if(Xt){var el=d.getZoomMultiplier(),rl=qe*el,Ja=rl-qe,Qa=Ja/2;Ao.y=(-wt.y+Re)*ei-Qa/el}d.setCoords(Ao.x,Ao.y)},n.prototype.isElInViewport=function(t){var e=(0,g.getElement)(t),r=(0,pe.Ut)(e),i=this.getFrameOffset(e),l=r.top,d=r.left;return l>=0&&d>=0&&l<=i.height&&d<=i.width},n.prototype.offset=function(t,e){e===void 0&&(e={});var r=e.noScroll,i=(0,pe.Ut)(t),l=r?{x:0,y:0}:(0,pe.GX)(t);return{top:i.top+l.y,left:i.left+l.x,width:i.width,height:i.height}},n.prototype.getRectToScreen=function(t){var e,r,i,l,d=this.module.getZoomDecimal(),p=this.module.getCoords(),v=this.getViewportDelta(),m=((e=t.x)!==null&&e!==void 0?e:0)*d+p.x+v.x||0,E=((r=t.y)!==null&&r!==void 0?r:0)*d+p.y+v.y||0;return{x:m,y:E,width:((i=t.width)!==null&&i!==void 0?i:0)*d,height:((l=t.height)!==null&&l!==void 0?l:0)*d}},n.prototype.getElBoxRect=function(t,e){var r,i,l;e===void 0&&(e={});var d=this.module,p=(0,pe.Ut)(t),v=p.width,m=p.height,E=p.left,B=p.top,J=(r=(0,g.getComponentView)(t))===null||r===void 0?void 0:r.frameView,ht=J==null?void 0:J.getBoxRect(),bt=d.getZoomMultiplier(),wt=(i=ht==null?void 0:ht.x)!==null&&i!==void 0?i:0,Vt=(l=ht==null?void 0:ht.y)!==null&&l!==void 0?l:0,Xt=this.el,te=(0,pe.GX)(),ve=E+wt+(Xt.scrollLeft+te.x)*bt,Ee=B+Vt+(Xt.scrollTop+te.y)*bt,Re={x:ve,y:Ee,width:v,height:m};return e.local&&(Re.x=E,Re.y=B),e.toScreen?this.getRectToScreen(Re):Re},n.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),r=e.top,i=e.left,l=e.width,d=e.height,p=this.module;if(t.toWorld){var v=p.getZoomMultiplier(),m=p.getCoords(),E=this.getViewportDelta(),B=-m.x-E.x||0,J=-m.y-E.y||0;return{x:B*v,y:J*v,width:l*v,height:d*v}}else return{x:i,y:r,width:l,height:d}},n.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),r=this.getCanvasOffset(),i=r.width,l=r.height,d=i*e,p=l*e,v=d-i,m=p-l;return{x:v/2/e,y:m/2/e}},n.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},n.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var r=(e=this.frame)===null||e===void 0?void 0:e.el,i=t==null?void 0:t.ownerDocument.defaultView,l=i?i.frameElement:r;this.frmOff=this.offset(l||r)}return this.frmOff},n.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var r=this.module.getZoomDecimal(),i=this.getFrameOffset(t),l=this.el,d=this.getCanvasOffset(),p=this.offset(t,e),v=e.avoidFrameOffset?0:i.top,m=e.avoidFrameOffset?0:i.left,E=e.avoidFrameZoom?p.top:p.top*r,B=e.avoidFrameZoom?p.left:p.left*r,J=e.avoidFrameOffset?E:E+v-d.top+l.scrollTop,ht=e.avoidFrameOffset?B:B+m-d.left+l.scrollLeft,bt=e.avoidFrameZoom?p.height:p.height*r,wt=e.avoidFrameZoom?p.width:p.width*r;return{top:J,left:ht,height:bt,width:wt,zoom:r,rect:p}},n.prototype.getElementOffsets=function(t){if(!t||(0,pe.BM)(t))return{};var e={},r=window.getComputedStyle(t),i=this.module.getZoomDecimal(),l=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return l.forEach(function(d){e[d]=parseFloat(r[d])*i}),e},n.prototype.getPosition=function(t){var e;t===void 0&&(t={});var r=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!r)return{top:0,left:0,width:0,height:0};var i=r.body,l=this.module.getZoomDecimal(),d=this.getFrameOffset(),p=this.getCanvasOffset(),v=t.noScroll;return{top:d.top+(v?0:i.scrollTop)*l-p.top,left:d.left+(v?0:i.scrollLeft)*l-p.left,width:p.width,height:p.height}},n.prototype.updateScript=function(t){var e=t.model,r=e.getId();if(!t.scriptContainer){t.scriptContainer=(0,pe.ut)("div",{"data-id":r});var i=this.getJsContainer();i==null||i.appendChild(t.scriptContainer)}t.el.id=r,t.scriptContainer.innerHTML="";var l=document.createElement("script"),d=e.getScriptString(),p=e.get("script-props")?d:`function(){
`.concat(d,`
;}`),v=JSON.stringify(e.__getScriptProps());l.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(r,`');
        if (!item) return;
        (`).concat(p,".bind(item))(").concat(v,`)
      }, 1);`),setTimeout(function(){var m=t.scriptContainer;m==null||m.appendChild(l)},0)},n.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},n.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},n.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,r=t.frames,i=t.em,l=t.framesArea,d=e.frames;d.listenToLoad(),r.render();var p=d.at(0),v=p==null?void 0:p.view;i.setCurrentFrame(v),l==null||l.appendChild(r.el),this.frame=v,this.updateFramesArea()}},n.prototype.renderFrames=function(){this._renderFrames()},n.prototype.render=function(){var t=this,e=t.el,r=t.$el,i=t.ppfx,l=t.config,d=t.em;r.html(this.template());var p=r.find("[data-frames]");this.framesArea=p.get(0);var v=r.find("[data-tools]");return this.toolsWrapper=v.get(0),v.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(l.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(i,"tools")),this.hlEl=e.querySelector(".".concat(i,"highlighter")),this.badgeEl=e.querySelector(".".concat(i,"badge")),this.placerEl=e.querySelector(".".concat(i,"placeholder")),this.ghostEl=e.querySelector(".".concat(i,"ghost")),this.toolbarEl=e.querySelector(".".concat(i,"toolbar")),this.resizerEl=e.querySelector(".".concat(i,"resizer")),this.offsetEl=e.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(i,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),this.el.className=(0,g.getUiClass)(d,this.className),this.ready=!0,this._renderFrames(),this},n}(dr);const fo=Ta;var El=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ki=function(){return ki=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ki.apply(this,arguments)},xs=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Cs=function(a){El(n,a);function n(t){var e=a.call(this,t,"Canvas",at)||this;return e.events=ar,e.framesById={},e.canvas=new ne(e),e.spots=new we(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e}return n.prototype.getCanvasView=function(){return this.canvasView},n.prototype.postLoad=function(){this.model.init()},n.prototype.getModel=function(){return this.canvas},n.prototype.getElement=function(){return this.getCanvasView().el},n.prototype.getFrame=function(t){return this.getFrames()[t||0]},n.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},n.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},n.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},n.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},n.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},n.prototype._getLocalEl=function(t,e,r){var i=t,l=e==null?void 0:e.frameView;return i=l?l[r]():i,i},n.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},n.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},n.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},n.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},n.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},n.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},n.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},n.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},n.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},n.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},n.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},n.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new fo(this.canvas),this.canvasView.render().el},n.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},n.prototype.offset=function(t){return this.getCanvasView().offset(t)},n.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},n.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},n.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},n.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},r=e.top,i=r===void 0?0:r,l=e.left,d=l===void 0?0:l;return ki(ki({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:d})},n.prototype.getTargetToElementDim=function(t,e,r){r===void 0&&(r={});var i=r||{},l=this.getCanvasView().getPosition();if(l){var d=i.elPos||this.getCanvasView().getElementPos(e),p=r.toRight||0,v=i.targetHeight||t.offsetHeight,m=i.targetWidth||t.offsetWidth,E=i.event||null,B=d.top-v,J=d.left;J+=p?d.width:0,J=p?J-m:J;var ht=J<l.left?l.left:J,bt=B<l.top?l.top:B;bt=bt>d.top+d.height?d.top+d.height:bt;var wt={top:bt,left:ht,elementTop:d.top,elementLeft:d.left,elementWidth:d.width,elementHeight:d.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:l.top,canvasLeft:l.left,canvasWidth:l.width,canvasHeight:l.height};return E&&this.em&&this.em.trigger(E,wt),wt}},n.prototype.canvasRectOffset=function(t,e,r){var i=this;r===void 0&&(r={});var l=function(p){var v=p.defaultView;return v==null?void 0:v.frameElement},d=function(p,v,m){v===void 0&&(v=1);var E=i.em.getZoomDecimal(),B=v?"top":"left",J=p.ownerDocument,ht=r.offset?l(J):{},bt=ht.offsetTop,wt=bt===void 0?0:bt,Vt=ht.offsetLeft,Xt=Vt===void 0?0:Vt,te=J.body||{},ve=te.scrollTop,Ee=ve===void 0?0:ve,Re=te.scrollLeft,ze=Re===void 0?0:Re,be=v?Ee:ze,He=v?wt:Xt;return m[B]-(be-He)*E};return{top:d(t,1,e),left:d(t,0,e)}},n.prototype.getTargetToElementFixed=function(t,e,r){r===void 0&&(r={});var i=r.pos||this.getElementPos(t,{noScroll:!0}),l=r.canvasOff||this.canvasRectOffset(t,i),d=e.offsetHeight||0,p=e.offsetWidth||0,v=i.left+i.width,m=this.getCanvasView(),E=m.getPosition(),B=m.getFrameOffset(t),J=r.event,ht=-d,bt=(0,u.isUndefined)(r.left)?i.width-p:r.left;if(bt=i.left<-bt?-i.left:bt,bt=v>E.width?bt-(v-E.width):bt,l.top<d){var wt=i.height+d,Vt=wt<B.height;Vt?ht=ht+wt:ht=-l.top<i.height?-l.top:i.height}var Xt={top:ht,left:bt,canvasOffsetTop:l.top,canvasOffsetLeft:l.left,elRect:i,canvasOffset:l,canvasRect:E,targetWidth:p,targetHeight:d};return J&&this.em.trigger(J,Xt),Xt},n.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var r=e.subWinOffset,i=t.target.ownerDocument,l=i.defaultView||i.parentWindow,d=l.frameElement,p=r?l.pageYOffset:0,v=r?l.pageXOffset:0,m=this.getZoomMultiplier(),E=0,B=0;if(d){var J=d.getBoundingClientRect();E=J.top||0,B=J.left||0}return{y:(t.clientY+E-p)*m,x:(t.clientX+B-v)*m}},n.prototype.getMouseRelativeCanvas=function(t,e){var r,i=this.getZoomDecimal(),l=(r=this.getCanvasView().getPosition(e))!==null&&r!==void 0?r:{},d=l.top,p=d===void 0?0:d,v=l.left,m=v===void 0?0:v;return{y:t.clientY*i+p,x:t.clientX*i+m}},n.prototype.hasFocus=function(){return this.getDocument().hasFocus()},n.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),r=xs(["body"],this.config.notTextable,!0),i=e&&document.activeElement===e,l=i?t&&t.activeElement:document.activeElement;return l&&!r.some(function(d){return l.matches(d)})},n.prototype.scrollTo=function(t,e){e===void 0&&(e={});var r=(0,g.getElement)(t),i=r&&(0,g.getViewEl)(r);i&&i.scrollIntoView(e)},n.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},n.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},n.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},n.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},n.prototype.setCoords=function(t,e,r){var i;r===void 0&&(r={});var l=t||t===0,d=e||e===0,p={x:this.canvas.get("x"),y:this.canvas.get("y")};if(l&&(p.x=parseFloat("".concat(t))),d&&(p.y=parseFloat("".concat(e))),r.toWorld){var v=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();v&&(l&&(p.x=p.x-v.x),d&&(p.y=p.y-v.y))}return this.canvas.set(p),this},n.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,r=t.y;return{x:e,y:r}},n.prototype.getPointer=function(t){var e=this.canvas.attributes,r=e.pointer,i=e.pointerScreen;return t?i:r},n.prototype.getZoomDecimal=function(){return this.getZoom()/100},n.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},n.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},n.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},n.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},n.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new z(this,ki({},t)),e)},n.prototype.getLastDragResult=function(){return this.em.get("dragResult")},n.prototype.addSpot=function(t,e){var r;e===void 0&&(e={});var i=t,l=this.getSpots(i);if(l.length){var d=l[0];return d.set(i),d}var p=i.componentView||((r=i.component)===null||r===void 0?void 0:r.view),v=new ce.Z(this,ki(ki({},i),{id:i.id||"cs_".concat(i.type,"_").concat(p==null?void 0:p.cid),type:i.type||""}));return this.spots.add(v,e),v},n.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},n.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,u.isArray)(t)?t:this.getSpots(t),r=this.spots.remove(e);return r},n.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},n.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},n.prototype.refresh=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,l=e.canvasView;l==null||l.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),r.trigger("canvas:updateTools")),r.set("canvasOffset",this.getOffset()),r.trigger(i.refresh,t)},n.prototype.refreshSpots=function(){this.spots.refresh()},n.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(r){return t[r]={}})},n}(nt);const Ss=Cs,Ai={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var bi=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wi=function(){return wi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},wi.apply(this,arguments)},Os=function(a){bi(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return wi(wi({},a.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},n.prototype.__escapeContent=function(t){return(0,g.escapeNodeContent)(t)},n.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(tn);const G=Os;var ct=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Et=function(){return Et=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Et.apply(this,arguments)},Dt=function(a){ct(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Et({},a.prototype.defaults)},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},n.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},n}(G);const qt=Dt;var Wt=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),de=function(){return de=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},de.apply(this,arguments)},Te="iframe",Ye=function(a){Wt(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return de(de({},a.prototype.defaults),{type:Te,tagName:Te,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===Te},n}(tn);const Ue=Ye;var _r=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gr=function(){return Gr=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Gr.apply(this,arguments)},Ea='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Pl=function(a){_r(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,i=r.get("attributes").src;return i&&(0,g.buildBase64UrlFromSvg)((0,u.result)(r,"defaults").src)!==i&&r.set("src",i,{silent:!0}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Gr(Gr({},a.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(Ea,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(Ea,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),n.prototype.initToolbar=function(){a.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,r="image-editor";if(e.has(r)){for(var i=!1,l=this.get("toolbar"),d=0;d<l.length;d++)if(l[d].command==="image-editor"){i=!0;break}i||(l.push({attributes:{class:"fa fa-pencil"},command:r}),this.set("toolbar",l))}}},n.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},n.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",r=e;return e&&e.substr(0,4)==="<svg"&&(r=(0,g.buildBase64UrlFromSvg)(e)),r},n.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,u.result)(this,"defaults").src;return t===e||t===(0,g.buildBase64UrlFromSvg)(e)},n.prototype.toJSON=function(t){var e=a.prototype.toJSON.call(this,t),r=e.attributes;return r&&e.src===r.src&&delete e.src,e},n.prototype.parseUri=function(t){var e={},r=function(i){i===void 0&&(i="");for(var l={},d=i.substring(1).split("&"),p=0;p<d.length;p++){var v=d[p].split("="),m=decodeURIComponent(v[0]);m&&(l[m]=decodeURIComponent(v[1]||""))}return l};if((0,g.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:r(e.search)}},n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)==="img"},n}(tn);const Ou=Pl;var cp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ts=function(){return Ts=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ts.apply(this,arguments)},zc=function(a){cp(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.__checkInnerChilds(),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ts(Ts({},a.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),n.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(r){r.isInstanceOf("textnode")||r.set({locked:!0,layerable:!1})};(0,u.isFunction)(t)?this.forEachChild(function(r){t(r)&&e(r)}):this.forEachChild(e)}},n}(tn);const $o=zc;var Uc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Es=function(){return Es=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Es.apply(this,arguments)},Ps="label",kl=function(a){Uc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Es(Es({},a.prototype.defaults),{type:Ps,tagName:Ps,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===Ps},n}($o);const Wc=kl;var Al=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Un=function(){return Un=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Un.apply(this,arguments)},Tu="link",Eu=function(a){Al(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Un(Un({},a.prototype.defaults),{type:Tu,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){e===void 0&&(e={});var r;if((0,g.toLowerCase)(t.tagName)==="a"){var i=e.textTags||[];r={type:Tu,editable:!1};var l=t.childNodes,d=l.length;d||delete r.editable,(0,u.forEach)(l,function(p){var v=p.tagName;(p.nodeType==3&&p.textContent.trim()!==""||v&&i.indexOf((0,g.toLowerCase)(v))>=0)&&delete r.editable})}return r},n}($o);const Pu=Eu;var Kc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ks=function(){return ks=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ks.apply(this,arguments)},ku=function(a){Kc(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.get("src")?r.parseFromSrc():r.updateSrc(),r.listenTo(r,"change:address change:zoom change:mapType",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){var t=a.prototype.defaults;return ks(ks({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),n.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},n.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),r=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",r=r?"&t="+r:"";var i=this.get("mapUrl")+"?"+t+e+r;return i+="&output=embed",i},n.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},n.isComponent=function(t){if((0,g.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},n}(Ou);const fp=ku;var dp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ml=function(){return Ml=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ml.apply(this,arguments)},Ui="script",Pa=function(a){dp(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ml(Ml({},a.prototype.defaults),{type:Ui,tagName:Ui,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===Ui},n}(tn);const ka=Pa;var Au=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Aa=function(){return Aa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Aa.apply(this,arguments)},Ll="svg",Mu=function(a){Au(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Aa(Aa({},a.prototype.defaults),{type:Ll,tagName:Ll,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),n.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===Ll},n}(tn);const po=Mu;var Zo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fn=function(){return fn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},fn.apply(this,arguments)},ho=function(a){Zo(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return fn(fn({},a.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),n.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},n}(po);const vo=ho;var Dl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Il=function(){return Il=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Il.apply(this,arguments)},jl="table",As=function(a){Dl(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,i=r.get("components");return!i.length&&i.add({type:"tbody"}),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Il(Il({},a.prototype.defaults),{type:jl,tagName:jl,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===jl},n}(tn);const Gc=As;var Lu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qo=function(){return qo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},qo.apply(this,arguments)},Du="tbody",Iu=function(a){Lu(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this,i=r.get("components"),l=r.get("columns"),d=r.get("rows");if(!i.length){for(var p=[];d--;){for(var v=[],m=l;m--;)v.push({type:"cell",classes:["cell"]});p.push({type:"row",classes:["row"],components:v})}i.add(p)}return r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return qo(qo({},a.prototype.defaults),{type:Du,tagName:Du,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===Du},n}(tn);const Rl=Iu;var ju=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ma=function(){return Ma=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ma.apply(this,arguments)},La=function(a){ju(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ma(Ma({},a.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return["td","th"].indexOf((0,g.toLowerCase)(t.tagName))>=0},n}(tn);const Fl=La;var $c=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yo=function(){return Yo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Yo.apply(this,arguments)},Ru="tfoot",pp=function(a){$c(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Yo(Yo({},a.prototype.defaults),{type:Ru,tagName:Ru})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===Ru},n}(Rl);const hp=pp;var Fu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Da=function(){return Da=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Da.apply(this,arguments)},go="thead",Ms=function(a){Fu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Da(Da({},a.prototype.defaults),{type:go,tagName:go})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===go},n}(Rl);const vp=Ms;var Nl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ls=function(){return Ls=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ls.apply(this,arguments)},Ia="tr",Zc=function(a){Nl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Ls(Ls({},a.prototype.defaults),{tagName:Ia,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),n.isComponent=function(t){return(0,g.toLowerCase)(t.tagName)===Ia},n}(tn);const Xo=Zc;var Ds=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mi=function(){return Mi=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Mi.apply(this,arguments)},Jo="video",xi="yt",Qo="vi",ta="ytnc",Nu="so",Vu=function(a){return a&&a!=="0"},ea=function(a){Ds(n,a);function n(t,e){t===void 0&&(t={});var r=a.call(this,t,e)||this;return r.get("src")&&r.parseFromSrc(),r.updatePropsFromAttr(),r.updateTraits(),r.on("change:provider",r.updateTraits),r.on("change:videoId change:provider",r.updateSrc),r}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Mi(Mi({},a.prototype.defaults),{type:Jo,tagName:Jo,videoId:"",void:!1,provider:Nu,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),n.prototype.updatePropsFromAttr=function(){if(this.get("provider")===Nu){var t=this.get("attributes"),e=t.controls,r=t.autoplay,i=t.loop,l={};(0,g.isDef)(e)&&(l.controls=!!e),(0,g.isDef)(r)&&(l.autoplay=!!r),(0,g.isDef)(i)&&(l.loop=!!i),(0,g.isEmptyObj)(l)||this.set(l)}},n.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),r="iframe",i;switch(e){case xi:case ta:i=this.getYoutubeTraits();break;case Qo:i=this.getVimeoTraits();break;default:r="video",i=this.getSourceTraits()}this.set({tagName:r},{silent:!0}),this.set({traits:i}),t.get("ready")&&t.trigger("component:toggled")},n.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),r=e.query;switch(t){case xi:case ta:case Qo:this.set("videoId",e.pathname.split("/").pop()),r.list&&this.set("list",r.list),Vu(r.autoplay)&&this.set("autoplay",!0),Vu(r.loop)&&this.set("loop",!0),parseInt(r.controls)===0&&this.set("controls",!1),Vu(r.color)&&this.set("color",r.color),r.rel==="0"&&this.set("rel",0),r.modestbranding==="1"&&this.set("modestbranding",1);break}},n.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case xi:e=this.getYoutubeSrc();break;case ta:e=this.getYoutubeNoCookieSrc();break;case Qo:e=this.getVimeoSrc();break}this.set({src:e})},n.prototype.getAttrToHTML=function(){var t=a.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case xi:case ta:case Qo:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},n.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:xi,name:"Youtube"},{value:ta,name:"Youtube (no cookie)"},{value:Qo,name:"Vimeo"}]}},n.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},n.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},n.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},n.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},n.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},n.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},n.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),r=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=r?"&list=".concat(r):"",e+=this.get("autoplay")?"&autoplay=1&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},n.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},n.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},n.isComponent=function(t){var e=t.tagName,r=t.src,i=/youtube\.com\/embed/.test(r),l=/youtube-nocookie\.com\/embed/.test(r),d=/player\.vimeo\.com\/video/.test(r),p=i||l||d;if((0,g.toLowerCase)(e)==Jo||(0,g.toLowerCase)(e)=="iframe"&&p){var v={type:"video"};return r&&(v.src=r),p&&(i?v.provider=xi:l?v.provider=ta:d&&(v.provider=Qo)),v}},n}(Ou);const ra=ea;var gp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vl=function(){return Vl=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Vl.apply(this,arguments)},mp=function(a){gp(n,a);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r,i,l=a.apply(this,t)||this,d=t[1],p=(r=d==null?void 0:d.em)===null||r===void 0?void 0:r.Components,v=(i=p==null?void 0:p.getType(_i))===null||i===void 0?void 0:i.model,m=p==null?void 0:p.getType("default").model;return v&&l.set({head:new v({},d),docEl:new m({tagName:"html"},d)},{silent:!0}),l}return Object.defineProperty(n.prototype,"defaults",{get:function(){return Vl(Vl({},a.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),n.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,r=(0,u.isUndefined)(t.asDocument)?!!e:t.asDocument,i=this,l=i.head,d=i.docEl,p=a.prototype.toHTML.call(this,t),v=r&&(l==null?void 0:l.toHTML(t))||"",m=r&&(0,pe.nB)(d==null?void 0:d.getAttrToHTML())||"",E=m?" ".concat(m):"";return r?"".concat(e,"<html").concat(E,">").concat(v).concat(p,"</html>"):p},n.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),a.prototype.__postAdd.call(this)},n.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),a.prototype.__postRemove.call(this)},n.isComponent=function(){return!1},n}(tn);const yp=mp;var _p=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bp=function(a){_p(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.compView=Ar,t}return n.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},n.prototype.removeChildren=function(t,e,r){var i=this;r===void 0&&(r={}),t.views.forEach(function(d){if(d){var p=d.childrenView,v=d.scriptContainer;p&&p.stopListening(),(0,pe.L_)(v),d.remove.apply(d)}});var l=t.components();l.forEach(function(d){return i.removeChildren(d,e,r)})},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){for(var i=this,l=i.config,d=i.opts,p=i.em,v=l.frameView,m=(v==null?void 0:v.model)&&t.getView(v.model),E=d.componentTypes||(p==null?void 0:p.Components.getTypes()),B=t.get("type")||"default",J=this.compView,ht=0;ht<E.length;ht++)if(E[ht].id==B){J=E[ht].view;break}var bt=m||new J({model:t,config:l,componentTypes:E}),wt;try{wt=bt.render().el}catch(ve){wt=document.createTextNode(""),p.logError(ve)}if(e)e.appendChild(wt);else{var Vt=this.parentEl,Xt=Vt.childNodes;if((0,u.isUndefined)(r))Vt.appendChild(wt);else{var te=Xt.length==r;te&&r--,te||!Xt.length?Vt.appendChild(wt):Vt.insertBefore(wt,Xt[r])}}return t.opt.temporary||p==null||p.trigger("component:mount",t),wt},n.prototype.resetChildren=function(t,e){var r=this,i=e===void 0?{}:e,l=i.previousModels,d=l===void 0?[]:l;this.parentEl.innerHTML="",d.forEach(function(p){return r.removeChildren(p,r.collection)}),t.each(function(p){return r.addToCollection(p)})},n.prototype.render=function(t){var e=this,r=this.el,i=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(l){return e.addToCollection(l,i)}),r.innerHTML="",r.appendChild(i),this},n}(b.G7);const Rn=bp;var en=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Er=function(){return Er=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Er.apply(this,arguments)},rn=function(a){en(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.className=function(){return this.getClasses()},n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{},i=r.em,l=e.opt||{},d=this,p=d.$el,v=d.el;this.opts=t,this.modelOpt=l,this.config=r,this.em=i,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),p.data("model",e),(0,g.setViewEl)(v,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Er(Er({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!l.temporary&&this.init(this._clbObj())},Object.defineProperty(n.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"createDoc",{get:function(){var t,e,r=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?r:document},enumerable:!1,configurable:!0}),n.prototype.__isDraggable=function(){var t=this,e=t.model,r=t.config,i=e.attributes.draggable;return r.draggableComponents&&i},n.prototype._clbObj=function(){var t=this,e=t.em,r=t.model,i=t.el;return{editor:e==null?void 0:e.getEditor(),model:r,el:i}},n.prototype.init=function(t){},n.prototype.removed=function(t){},n.prototype.onRender=function(t){},n.prototype.onActive=function(t){},n.prototype.onDisable=function(t){},n.prototype.remove=function(){var t;a.prototype.remove.call(this);var e=this,r=e.model,i=e.$el,l=r.views,d=this.frameView||{};return r.components().forEach(function(p){var v=p.getView(d.model);v==null||v.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),l.splice(l.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},n.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},n.prototype.initClasses=function(){var t=this.model,e=t.classes,r="change:classes";e instanceof vi&&(this.stopListening(t,r,this.initClasses),this.listenTo(t,r,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},n.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,r=e.model,i=e.$el,l=e.childrenView,d="change:components",p=r.get("components"),v=[r,d,this.initComponents];p instanceof hi&&(i.data("collection",p),l&&l.remove(),this.stopListening.apply(this,v),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,v))},n.prototype.handleChange=function(){var t=this.model,e=(0,u.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var r in t.changed)t.emitUpdate(r)}},n.prototype.importClasses=function(){var t=this,e=t.em,r=t.model,i=e.Selectors;i&&r.classes.forEach(function(l){return i.add(l.getName())})},n.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.el,l=e.ppfx,d=e.model,p=r==null?void 0:r.Canvas,v=p==null?void 0:p.config.extHl,m=d.get("status"),E="".concat(l,"selected"),B="".concat(E,"-parent"),J="".concat(l,"freezed"),ht="".concat(l,"hovered"),bt="".concat(l,"no-pointer"),wt="".concat(l,"pointer-init"),Vt=[E,B,J,ht,bt],Xt=v&&!t.noExtHl?"":E;this.$el.removeClass(Vt.join(" "));var te=i.getAttribute("class")||"",ve=[te],Ee=!(p!=null&&p.hasCustomSpot(ce.q.Select)),Re=!(p!=null&&p.hasCustomSpot(ce.q.Target));switch(m){case"selected":Ee&&ve.push(Xt);break;case"selected-parent":Re&&ve.push(B);break;case"freezed":ve.push(J);break;case"freezed-selected":ve.push(J),Ee&&ve.push(Xt);break;case"hovered":!t.avoidHover&&ve.push(ht);break}(0,u.isBoolean)(d.locked)&&ve.push(d.locked?bt:wt);var ze=ve.filter(Boolean).join(" ");ze&&i.setAttribute("class",ze)},n.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),r=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",r?!0:"")},n.prototype.updateStyle=function(t,e,r){r===void 0&&(r={});var i=this,l=i.model,d=i.em;if(Hi(d)&&!r.inline){var p=this.__cmpStyleOpts,v=l.getStyle(Er({inline:!0},p));!(0,u.isEmpty)(v)&&l.setStyle(v,p)}else this.setAttribute("style",l.styleToString(r))},n.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},n.prototype.setAttribute=function(t,e){var r=this.$el;e?r.attr(t,e):r.removeAttr(t)},n.prototype.getClasses=function(){return this.model.getClasses().join(" ")},n.prototype.updateAttributes=function(){var t=[],e=this,r=e.model,i=e.$el,l=e.el,d=r.attributes,p=d.textable,v=d.type,m=Er(Er({id:r.getId(),"data-gjs-type":v||"default"},this.__isDraggable()&&{draggable:!0}),p&&{contenteditable:"false"});(0,u.each)(l.attributes,function(B){return t.push(B.nodeName)}),t.forEach(function(B){return i.removeAttr(B)}),this.updateStyle(),this.updateHighlight();var E=Er(Er({},m),r.getAttributes());(0,u.keys)(E).forEach(function(B){return E[B]===!1&&delete E[B]}),i.attr(E)},n.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},n.prototype.prevDef=function(t){t.preventDefault()},n.prototype.updateScript=function(){var t=this,e=t.model,r=t.em;e.get("script")&&(r==null||r.Canvas.getCanvasView().updateScript(this))},n.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},n.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,r=0,i=0,l=function(d){var p=d.offsetParent;p?(r+=p.offsetTop,i+=p.offsetLeft,l(p)):(t.top=e.offsetTop+r,t.left=e.offsetLeft+i,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return l(e),t},n.prototype.isInViewport=function(){var t=this,e=t.el,r=t.em,i=t.frameView,l=r.Canvas.getCanvasView(),d=l.getElBoxRect(e,{local:!0}),p=i.el,v=p.clientHeight,m=p.clientWidth,E=d.y,B=d.x,J=E+d.height,ht=B+d.width,bt=E>=0&&E<v,wt=J>0&&J<v,Vt=ht>=0&&ht<m,Xt=B>0&&B<=m,te=(bt||wt)&&(Vt||Xt);return te},n.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var r=this.isInViewport();if(!r||t.force){var i=this.el;if(t.behavior!=="smooth"){var l=this.getOffsetRect();(e=i.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,l.top)}else i.scrollIntoView(Er({behavior:"smooth",block:"nearest"},t))}},n.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,pe.dL)(t,this.el),this.render()},n.prototype._setData=function(){var t=this.model,e=t.components(),r=this;this.$el.data({model:t,collection:e,view:r})},n.prototype._createElement=function(t){return this.createDoc.createElement(t)},n.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new Rn({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var r=Array.prototype.slice.call(e.el.childNodes),i=0,l=r.length;i<l;i++)t.appendChild(r.shift())},n.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},n.prototype.onAttrUpdate=function(){},n.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,g.setViewEl)(this.el,this),this.postRender(),this)},n.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},n.getEvents=function(){return(0,u.result)(this.prototype,"events")},n}(b.G7);const Ar=rn;var wp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bl=function(a){wp(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._setAttributes=function(){},n.prototype.renderAttributes=function(){},n.prototype.updateStatus=function(){},n.prototype.updateClasses=function(){},n.prototype.setAttribute=function(){},n.prototype.updateAttributes=function(){},n.prototype.initClasses=function(){},n.prototype.initComponents=function(){},n.prototype.delegateEvents=function(){return this},n.prototype._createElement=function(){return document.createTextNode("")},n.prototype.render=function(){var t=this,e=t.model,r=t.el;return e.opt.temporary?this:(r.textContent=e.content,this)},n}(Ar);const qc=Bl;var xp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cp=function(a){xp(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(){return document.createComment(this.model.content)},n}(qc);const Bu=Cp;var Yc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hu=function(a){Yc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},n.prototype.updateSrc=function(){var t=(0,pe.sE)(this.el,"iframe")[0];t&&(0,pe.FW)(t,{src:this.__getSrc()})},n.prototype.render=function(){a.prototype.render.call(this);var t=(0,pe.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},n.prototype.__getSrc=function(){return this.model.getAttributes().src||""},n}(Ar);const Sp=Hu;var zu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uu=function(a){zu(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"img"},n.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},n.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,r=t.em,i=e.get("file");if(i&&r){var l=r.Assets.FileUploader();l==null||l.uploadFile({dataTransfer:{files:[i]}},function(d){var p=d&&d.data&&d.data[0],v=p&&((0,u.isString)(p)?p:p.src);v&&e.set({src:v})}),e.set("file","")}}},n.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},n.prototype.updateClasses=function(){a.prototype.updateClasses.call(this);var t=this,e=t.el,r=t.classEmpty,i=t.model,l=i.getSrcResult()&&!i.isDefaultSrc(),d=l?"remove":"add";e.classList[d](r)},n.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this,r=e.em,i=e.model,l=r==null?void 0:r.Assets;l&&i.get("editable")&&l.open({select:function(d,p){i.set({src:d.getSrc()}),p&&l.close()},target:i,types:["image"],accept:"image/*"})},n.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},n.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},n.prototype.noDrag=function(t){return t.preventDefault(),!1},n.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,r=t.model,i=e.attr("class")||"";return!r.get("src")&&e.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},n}(Ar);const Hl=Uu;var Xc=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),na=function(){return na=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},na.apply(this,arguments)},Is=function(a,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(m){try{v(e.next(m))}catch(E){l(E)}}function p(m){try{v(e.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):r(m.value).then(d,p)}v((e=e.apply(a,n||[])).next())})},mo=function(a,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(v){return function(m){return p([v,m])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(t=0)),t;)try{if(e=1,r&&(i=v[0]&2?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,r=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){t.label=v[1];break}if(v[0]===6&&t.label<i[1]){t.label=i[1],i=v;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(v);break}i[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(a,t)}catch(m){v=[6,m],r=0}finally{e=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Op=function(a){Xc(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),(0,u.bindAll)(this,"disableEditing","onDisable");var e=this.model,r=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=r==null?void 0:r.RichTextEditor},n.prototype.updateContentText=function(t,e,r){r===void 0&&(r={}),!r.fromDisable&&this.disableEditing()},n.prototype.canActivate=function(){var t=this,e=t.model,r=t.rteEnabled,i=t.em,l=i==null?void 0:i.getEditing(),d=l===e,p=!0,v=!1,m;if((r||!e.get("editable")||d||(v=e.isChildOf("text")))&&(p=!1,v&&!e.get("textable"))){for(var E=e.parent();E&&!E.isInstanceOf("text");)E=E.parent();E&&E.get("editable")?m=E:p=!0}return{result:p,delegate:m}},n.prototype.onActive=function(t){var e,r;return Is(this,void 0,void 0,function(){var i,l,d,p,v,m,E,B,J;return mo(this,function(ht){switch(ht.label){case 0:return i=this,l=i.rte,d=i.em,p=this.canActivate(),v=p.result,m=p.delegate,v?((r=t==null?void 0:t.stopPropagation)===null||r===void 0||r.call(t),E=this,[4,this.getContent()]):(m&&((e=t==null?void 0:t.stopPropagation)===null||e===void 0||e.call(t),d.setSelected(m),m.trigger("active",t)),[2]);case 1:if(E.lastContent=ht.sent(),!l)return[3,5];ht.label=2;case 2:return ht.trys.push([2,4,,5]),B=this,[4,l.enable(this,this.activeRte,{event:t})];case 3:return B.activeRte=ht.sent(),[3,5];case 4:return J=ht.sent(),d.logError(J),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},n.prototype.onDisable=function(t){this.disableEditing(t)},n.prototype.disableEditing=function(t){return t===void 0&&(t={}),Is(this,void 0,void 0,function(){var e,r,i,l,d,p,v,m;return mo(this,function(E){switch(E.label){case 0:if(e=this,r=e.model,i=e.rte,l=e.activeRte,d=e.em,p=r&&r.get("editable"),!i)return[3,8];E.label=1;case 1:return E.trys.push([1,3,,4]),[4,i.disable(this,l,t)];case 2:return E.sent(),[3,4];case 3:return v=E.sent(),d.logError(v),[3,4];case 4:return m=p,m?[4,this.getContent()]:[3,6];case 5:m=E.sent()!==this.lastContent,E.label=6;case 6:return m?[4,this.syncContent(t)]:[3,8];case 7:E.sent(),this.lastContent="",E.label=8;case 8:return this.toggleEvents(),[2]}})})},n.prototype.getContent=function(){return Is(this,void 0,void 0,function(){var t,e,r,i;return mo(this,function(l){switch(l.label){case 0:return t=this,e=t.rte,r=t.activeRte,i="",e?[4,e.getContent(this,r)]:[3,2];case 1:i=l.sent(),l.label=2;case 2:return[2,i]}})})},n.prototype.syncContent=function(t){return t===void 0&&(t={}),Is(this,void 0,void 0,function(){var e,r,i,l,d,p,v;return mo(this,function(m){switch(m.label){case 0:return e=this,r=e.model,i=e.rte,l=e.rteEnabled,!l&&!t.force?[2]:[4,this.getContent()];case 1:return d=m.sent(),p=r.components(),v=na({fromDisable:1},t),r.set("content","",v),i!=null&&i.customRte&&!i.customRte.parseContent?(p.length&&p.reset(void 0,na(na({},t),{keepIds:yn(p)})),r.set("content",d,v)):p.resetFromString(d,t),[2]}})})},n.prototype.insertComponent=function(t,e){var r;e===void 0&&(e={});var i=this,l=i.model,d=i.el,p=d.ownerDocument,v=p.getSelection();if(v!=null&&v.rangeCount){var m=v.getRangeAt(0),E=m.startContainer,B=m.startOffset,J=(0,g.getComponentModel)(E),ht=[];if(J&&(!((r=J.is)===null||r===void 0)&&r.call(J,"textnode"))){var bt=J.collection;bt.forEach(function(Xt){if(Xt===J){var te="textnode",ve=e.useDomContent?E.textContent||"":Xt.content;ht.push({type:te,content:ve.slice(0,B)}),ht.push(t),ht.push({type:te,content:ve.slice(B)})}else ht.push(Xt)});var wt=ht.filter(Boolean),Vt=wt.indexOf(t);return bt.reset(wt,e),bt.at(Vt)}}return l.append(t,e)},n.prototype.onInput=function(){var t=this.em,e="component",r=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(r,this.model)},n.prototype.disablePropagation=function(t){t.stopPropagation()},n.prototype.toggleEvents=function(t){var e=this,r=e.em,i=e.model,l=e.$el,d={on:pe.on,off:pe.S1},p=t?"on":"off";r.setEditing(t?this:!1),this.rteEnabled=!!t;var v=[this.el.ownerDocument,document];if(d.off(v,"mousedown",this.onDisable),d[p](v,"mousedown",this.onDisable),r[p]("toolbar:run:before",this.onDisable),i&&(i[p]("removed",this.onDisable),i.trigger("rte:".concat(t?"enable":"disable"))),l==null||l.off("mousedown",this.disablePropagation),l&&l[p]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var m=this.el;m;)m.draggable=!t,m=m.parentNode,m&&m.tagName=="BODY"&&(m=0)},n}(Ar);const js=Op;var Wi=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jc=function(a){Wi(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(){return a.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},n}(js);const Qc=Jc;var tf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qn=function(a){tf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Qc);const vr=qn;var Ci=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yo=function(a){Ci(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(t){a.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},n.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},n.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},n.prototype.render=function(){return a.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},n}(Hl);const _o=yo;var ef=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wu=function(a){ef(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"script"},n.prototype.events=function(){return{}},n}(Ar);const rf=Wu;var Tp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ku=function(a){Tp(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},n}(Ar);const ja=Ku;var nf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gu=function(a){nf(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Ar);const bo=Gu;var of=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),af=function(a){of(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Ar);const Ep=af;var zl=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$u=function(a){zl(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Ar);const sf=$u;var Pp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lf=function(a){Pp(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Ar);const kp=lf;var Ap=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ul=function(a){Ap(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Ar);const uf=Ul;var Mp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lp=function(a){Mp(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{}},n}(Ar);const cf=Lp;var Ra=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zu=function(a){Ra(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n.prototype.events=function(){return{}},n.prototype.initialize=function(){Ar.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"],r=e.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,r,this.updateVideo)},n.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},n.prototype.updateSrc=function(){var t=this,e=t.model,r=t.videoEl;if(r){var i=e.get("provider"),l=e.get("src");switch(i){case"yt":l=e.getYoutubeSrc();break;case"ytnc":l=e.getYoutubeNoCookieSrc();break;case"vi":l=e.getVimeoSrc();break}r.src=l}},n.prototype.updateVideo=function(){var t=this,e=t.model,r=t.videoEl,i=e.get("provider");switch(i){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(r){var l=r;l.loop=e.get("loop"),l.autoplay=e.get("autoplay"),l.controls=e.get("controls"),l.poster=e.get("poster")}}},n.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},n.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},n.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},n.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},n.prototype.render=function(){Ar.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},n}(Hl);const Wl=Zu;var ff=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qu=function(a){ff(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.tagName=function(){return"div"},n}(Ar);const df=qu;var Dp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rs=function(){return Rs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Rs.apply(this,arguments)},bn=function(a){Dp(n,a);function n(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.apply(this,t)||this;r.refreshDbn=(0,u.debounce)(function(){return r.refresh()},0);var i=r.events;return r.on(i.update,r.onUpdate),r.on(i.updateInside,r.onUpdateDeep),r}return n.prototype.removeChildren=function(t,e,r){var i;r===void 0&&(r={}),a.prototype.removeChildren.call(this,t,e,r),(i=Vr(t))===null||i===void 0||i.forEach(function(l){return ue(l,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},n.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.onAdd.apply(this,t);var r=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:r})},n.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},n.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},n.prototype.refresh=function(){var t=this,e=t.em,r=t.events;e.trigger(r.symbol)},n.prototype.__trgEvent=function(t,e,r){r===void 0&&(r=!1);var i=this,l=i.em,d=i.events,p=r?d.symbolInstance:d.symbolMain;l.trigger(t,e),l.trigger(p,Rs(Rs({},e),{event:t})),this.refreshDbn()},n}(hi);const Kl=bn;var pf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wn=function(){return wn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},wn.apply(this,arguments)},hf=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Fa=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},wo;(function(a){a[a.InvalidSource=0]="InvalidSource",a[a.SourceReject=1]="SourceReject",a[a.TargetReject=2]="TargetReject"})(wo||(wo={}));var vf=function(a){pf(n,a);function n(t){var e=a.call(this,t,"DomComponents",new hi(void 0,{em:t}))||this;e.componentTypes=[{id:"cell",model:Fl,view:Ep},{id:"row",model:Xo,view:uf},{id:"table",model:Gc,view:cf},{id:"thead",model:vp,view:kp},{id:"tbody",model:Rl,view:bo},{id:"tfoot",model:hp,view:sf},{id:"map",model:fp,view:_o},{id:"link",model:Pu,view:Qc},{id:"label",model:Wc,view:vr},{id:"video",model:ra,view:Wl},{id:"image",model:Ou,view:Hl},{id:"script",model:ka,view:rf},{id:"svg-in",model:vo,view:ja},{id:"svg",model:po,view:ja},{id:"iframe",model:Ue,view:Sp},{id:"comment",model:qt,view:Bu},{id:"textnode",model:G,view:qc},{id:_i,model:xa,view:Ar},{id:"wrapper",model:yp,view:df},{id:"text",model:$o,view:js},{id:"default",model:tn,view:Ar}],e.componentsById={},e.Component=tn,e.Components=hi,e.ComponentView=Ar,e.ComponentsView=Rn,e.storageKey="components",e.keySymbols="symbols",e.events=he.g;var r=e.config;e.symbols=new Kl([],{em:t,config:r,domc:e}),t&&(e.config.components=t.config.components||e.config.components);for(var i in Ai)i in e.config||(e.config[i]=Ai[i]);var l=e.config.pStylePrefix;if(l&&(e.config.stylePrefix=l+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var d=t.get("selected");t.listenTo(d,"add",function(p,v,m){return e.selectAdd(d.getComponent(p),m)}),t.listenTo(d,"remove",function(p,v,m){return e.selectRemove(d.getComponent(p),m)})}return e}return n.prototype.postLoad=function(){var t=this,e=t.em,r=t.symbols,i=e.UndoManager;i.add(r)},n.prototype.load=function(t){var e=this,r=this.loadProjectData(t,{onResult:function(i){var l=e.getWrapper();if(l||(e.em.Pages.add({},{select:!0}),l=e.getWrapper()),(0,u.isArray)(i))i.length&&l.components(i);else{var d=i.components,p=d===void 0?[]:d,v=hf(i,["components"]);l.set(v),l.components(p)}}});return this.symbols.reset(t[this.keySymbols]||[]),r},n.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},n.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},n.prototype.getWrapper=function(){return this.getComponent()},n.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},n.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},n.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},n.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(r){return r.remove(t)}),this},n.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},n.prototype.addType=function(t,e){var r=this.em,i=e.model,l=i===void 0?{}:i,d=e.view,p=d===void 0?{}:d,v=e.isComponent,m=e.extend,E=e.extendView,B=e.extendFn,J=B===void 0?[]:B,ht=e.extendFnView,bt=ht===void 0?[]:ht,wt=e.block,Vt=this.getType(t),Xt=this.getType(m),te=this.getType(E),ve=Xt||Vt||this.getType("default"),Ee=ve.model,Re=te?te.view:ve.view,ze=function(ei,mc,cu){return ei.reduce(function(fu,Ao){var el=mc[Ao],rl=cu.prototype[Ao];return el&&rl&&(fu[Ao]=function(){for(var Ja=[],Qa=0;Qa<arguments.length;Qa++)Ja[Qa]=arguments[Qa];rl.bind(this).apply(void 0,Ja),el.bind(this).apply(void 0,Ja)}),fu},{})};if(typeof l=="object"){var be={defaults:l.defaults};delete l.defaults;var He=new Set(Ee.typeExtends);He.add(Ee.getDefaults().type),e.model=Ee.extend(wn(wn({},l),ze(J,l,Ee)),{typeExtends:He,isComponent:Vt&&!Xt&&!v?Ee.isComponent:v||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return wn(wn({},(0,u.result)(Ee.prototype,"defaults")||{}),(0,u.result)(be,"defaults")||{})}})}if(typeof p=="object"&&(e.view=Re.extend(wn(wn({},p),ze(bt,p,Re)))),Vt?(Vt.model=e.model,Vt.view=e.view):(e.id=t,this.componentTypes.unshift(e)),wt){var qe={id:t,label:t,content:{type:t}},gr=wt===!0?qe:wn(wn({},qe),wt);r.Blocks.add(gr.id||t,gr)}var Pe="component:type:".concat(Vt?"update":"add");return r==null||r.trigger(Pe,Vt||e),this},n.prototype.getType=function(t){for(var e=this.componentTypes,r=0;r<e.length;r++){var i=e[r].id;if(i==t)return e[r]}},n.prototype.removeType=function(t){var e=this.componentTypes,r=this.getType(t);if(r){var i=e.indexOf(r);return e.splice(i,1),r}},n.prototype.getTypes=function(){return this.componentTypes},n.prototype.selectAdd=function(t,e){var r=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return r.em.trigger(i,t,e)}))},n.prototype.selectRemove=function(t,e){var r=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return r.em.trigger(i,t,e)}))},n.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),r=t.previous("componentHovered"),i="hovered";r&&r.get("status")==i&&r.set({status:"",state:""}),e&&(0,u.isEmpty)(e.get("status"))&&e.set("status",i)},n.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,r=t.em;if(!e&&r){var i=r.shallow;if(!i)return;var l=i.Components;if(l.componentTypes=this.componentTypes,e=l.getWrapper(),e){var d=[mi,yi].join(" ");e.on(d,(0,u.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},n.prototype.isComponent=function(t){return(0,g.isComponent)(t)},n.prototype.addSymbol=function(t){if(!((0,u.isSymbol)(t)&&!Wr(t))){var e=t.clone({symbol:!0});return De(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},n.prototype.getSymbols=function(){return Fa([],this.symbols.models,!0)},n.prototype.detachSymbol=function(t){mn(t)&&ue(t)},n.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var r=De(t),i=un(t),l=!!i,d=Vr(r?t:i)||[],p=i||(r?t:void 0),v=K(t,{changed:e.withChanges}),m=r||l,E=m&&Wr(t);return{isSymbol:m,isMain:r,isInstance:l,isRoot:E,main:p,instances:d,relatives:v||[]}},n.prototype.canMove=function(t,e,r){var i={result:!1,reason:wo.InvalidSource,target:t,source:null};if(!e||!t)return i;var l=(0,g.isComponent)(e)?e:null;if(!l){var d=this.getShallowWrapper();l=(d==null?void 0:d.append(e)[0])||null}if(i.source=l,!l)return i;var p=l.get("draggable");if((0,u.isFunction)(p))p=!!p(l,t,r);else{var v=t.getEl();p=(0,u.isArray)(p)?p.join(","):p,p=(0,u.isString)(p)?v==null?void 0:v.matches(p):p}if(!p)return wn(wn({},i),{reason:wo.SourceReject});var m=t.get("droppable");if((0,u.isFunction)(m))m=!!m(l,t,r);else if(m===!1&&t.isInstanceOf("text")&&l.get("textable"))m=!0;else{var v=l.getEl();m=(0,u.isArray)(m)?m.join(","):m,m=(0,u.isString)(m)?v==null?void 0:v.matches(m):m}var E=[t].concat(t.parents()).indexOf(l)>-1;return!m||E?wn(wn({},i),{reason:wo.TargetReject}):wn(wn({},i),{result:!0})},n.prototype.allById=function(){return this.componentsById},n.prototype.getById=function(t){return this.componentsById[t]||null},n.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(r){return e[r]&&e[r].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(r){return{}})},n}(q);const gf=vf;var mf={stylePrefix:"css-",rules:[]};const Na=mf;var yf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gl=Number.MAX_VALUE,_f=function(a){var n=/(-?\d*\.?\d+)\w{0,}/.exec(a);return n?n[0]:""},Fs=function(a){yf(n,a);function n(){var t=a.call(this)||this;return(0,u.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return n.prototype.buildFromModel=function(t,e){var r=this;e===void 0&&(e={});var i="",l=this.em,d=l&&l.getConfig().avoidInlineStyle,p=t.styleToString(),v=t.classes;this.ids.push("#".concat(t.getId())),v.forEach(function(E){return r.compCls.push(E.getFullName())}),!d&&p&&(i="#".concat(t.getId(),"{").concat(p,"}"));var m=t.components();return m.forEach(function(E){return i+=r.buildFromModel(E,e)}),i},n.prototype.build=function(t,e){var r=this;e===void 0&&(e={});var i=e.json,l=e.em,d=e.cssc||(l==null?void 0:l.Css);this.em=l,this.compCls=[],this.ids=[],this.model=t;var p=[],v=t?this.buildFromModel(t,e):"",m=(0,u.isUndefined)(e.clearStyles)&&l?l.getConfig().clearStyles:e.clearStyles;if(d){var E=e.rules||d.getAll(),B={},J=[];e.onlyMatched&&t&&(0,g.hasWin)()&&(E=this.matchedRules(t,E)),E.forEach(function(ht){var bt=ht.getAtRule();if(bt){var wt=B[bt];wt?wt.push(ht):B[bt]=[ht];return}var Vt=r.buildFromRule(ht,J,e);i?p.push(Vt):v+=Vt}),this.sortMediaObject(B).forEach(function(ht){var bt="",wt=ht.key,Vt=ht.value;Vt.forEach(function(Xt){var te=r.buildFromRule(Xt,J,e);Xt.get("singleAtRule")?v+="".concat(wt,"{").concat(te,"}"):bt+=te,i&&p.push(te)}),bt&&(v+="".concat(wt,"{").concat(bt,"}"))}),l&&m&&E.remove&&E.remove(J)}return i?p.filter(function(ht){return ht}):v},n.prototype.buildFromRule=function(t,e,r){var i=this,l;r===void 0&&(r={});var d="",p=this.model,v=t.selectorsToString({skipAdd:1}),m=t.get("selectorsAdd"),E=t.get("singleAtRule"),B;if((l=t.get("selectors"))===null||l===void 0||l.forEach(function(ht){var bt=ht.getFullName();(i.compCls.indexOf(bt)>=0||i.ids.indexOf(bt)>=0||r.keepUnusedStyles)&&(B=1)}),v&&B||m||E||!p){var J=t.getDeclaration({body:1});J&&(r.json?d=t:d+=J)}else e.push(t);return d},n.prototype.matchedRules=function(t,e){var r=this,i=t.getEl(),l=[];return e.forEach(function(d){try{d.selectorsToString().split(",").some(function(p){return i==null?void 0:i.matches(r.__cleanSelector(p))})&&l.push(d)}catch{}}),t.components().forEach(function(d){l=l.concat(r.matchedRules(d,e))}),l=l.filter(function(d,p){return l.indexOf(d)===p}),l},n.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):Gl},n.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var r=[];return(0,u.each)(t,function(i,l){return r.push({key:l,value:i})}),r.sort(function(i,l){var d=[i.key,l.key].every(function(m){return m.indexOf("min-width")!==-1}),p=d?i.key:l.key,v=d?l.key:i.key;return e.getQueryLength(p)-e.getQueryLength(v)})},n.prototype.sortRules=function(t,e){var r=function(p){return p.get("mediaText")||""},i=[r(t),r(e)].every(function(p){return p.indexOf("min-width")!==-1}),l=r(i?t:e),d=r(i?e:t);return this.getQueryLength(l)-this.getQueryLength(d)},n.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},n}(b.Hn);const Ip=Fs;var Va=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ba=function(){return Ba=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ba.apply(this,arguments)},bf=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},$l=((0,g.hasWin)()?window:{}).CSS,Ns=function(a){Va(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this;return r.config=t||{},r.opt=e,r.em=e.em,r.ensureSelectors(null,null,{}),r.on("change",r.__onChange),r}return n.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},n.prototype.__onChange=function(t,e){var r=this.em,i=this.changedAttributes();i&&!(0,g.isEmptyObj)(i)&&(r==null||r.changesUp(e))},n.prototype.clone=function(){var t=Ba({},this.opt),e=Ba({},this.attributes);return e.selectors=this.get("selectors").map(function(r){return r.clone()}),new this.constructor(e,t)},n.prototype.ensureSelectors=function(t,e,r){var i=this.em,l=i==null?void 0:i.get("SelectorManager"),d=[this,"change:selectors",this.ensureSelectors],p=this.getSelectors();if(this.stopListening.apply(this,d),p.models&&(p=bf([],p.models,!0)),p=(0,u.isString)(p)?[p]:p,Array.isArray(p)){var v=p.filter(function(m){return m}).map(function(m){return l?l.add(m):m});p=new vi(v)}this.set("selectors",p,r),this.listenTo.apply(this,d)},n.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),r=t?"@".concat(t):e?"@media":"";return r+(e&&r?" ".concat(e):"")},n.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],r=this.get("state"),i=this.get("selectorsAdd"),l={escape:function(v){return $l&&$l.escape?$l.escape(v):v}},d=this.get("selectors").getFullString(0,l),p=r&&!t.skipState?":".concat(r):"";return d&&e.push("".concat(d).concat(p)),i&&!t.skipAdd&&e.push(i),e.join(", ")},n.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",r=this.attributes.important,i=this.selectorsToString(t),l=this.styleToString(Ba({important:r},t)),d=this.get("singleAtRule");return(i||d)&&(l||t.allowEmpty)&&(e=d?l:"".concat(i,"{").concat(l,"}")),e},n.prototype.getDevice=function(){var t=this.em,e=this.attributes,r=e.atRuleType,i=e.mediaText,l=(t==null?void 0:t.get("DeviceManager").getDevices())||[],d=l.filter(function(p){return p.getWidthMedia()===""})[0];return r!=="media"||!i?d||null:l.filter(function(p){return p.getWidthMedia()===_f(i)})[0]||null},n.prototype.getState=function(){var t=this.em,e=this.get("state"),r=(t==null?void 0:t.get("SelectorManager").getStates())||[];return r.filter(function(i){return i.getName()===e})[0]||null},n.prototype.getComponent=function(){var t,e=this.getSelectors(),r=e.length==1&&e.at(0),i=r&&r.isId()&&r.get("name");return i&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(i))||null},n.prototype.toCSS=function(t){t===void 0&&(t={});var e="",r=this.getAtRule(),i=this.getDeclaration(t);return(i||t.allowEmpty)&&(e=i),r&&e&&(e="".concat(r,"{").concat(e,"}")),e},n.prototype.toJSON=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i=b.Hn.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var l=this.defaults();(0,u.forEach)(l,function(d,p){i[p]===d&&delete i[p]}),delete i.style.__p,(0,u.isEmpty)(i.selectors)&&delete i.selectors,(0,u.isEmpty)(i.style)&&delete i.style}return i},n.prototype.compare=function(t,e,r,i){var l;i===void 0&&(i={});var d=e||"",p=r||"",v=i.selectorsAdd||"",m=i.atRuleType||"",E=!(0,u.isArray)(t)&&!t.models?[t]:t.models||t;p&&!m&&(m="media");var B=E.map(function(wt){return wt.getFullName()}),J=(l=this.get("selectors"))===null||l===void 0?void 0:l.map(function(wt){return wt.getFullName()}),ht=B.slice().sort(),bt=J.slice().sort();return!(B.length!==J.length||!ht.every(function(wt,Vt){return wt===bt[Vt]})||this.get("state")!==d||this.get("mediaText")!==p||this.get("selectorsAdd")!==v||this.get("atRuleType")!==m)},n}(In);const Ha=Ns;var Vs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),za=function(a){Vs(n,a);function n(t,e){var r=a.call(this,t)||this;return r.editor=e==null?void 0:e.em,setTimeout(function(){r.on("remove",r.onRemove),r.on("add",r.onAdd)}),r}return n.prototype.toJSON=function(t){var e=b.FE.prototype.toJSON.call(this,t);return e.filter(function(r){return r.style&&!r.shallow})},n.prototype.onAdd=function(t,e,r){t.ensureSelectors(t,e,r)},n.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,b.FE.prototype.add.apply(this,[t,e])},n}(b.FE);const wf=za;za.prototype.model=Ha;var jp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xo=function(){return xo=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},xo.apply(this,arguments)},Co=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Ua=function(a){jp(n,a);function n(t){var e=a.call(this,t,"CssComposer",null,{},Na)||this;e.Selectors=vi,e.storageKey="styles";var r=e.config,i=r.pStylePrefix;return i&&(r.stylePrefix=i+r.stylePrefix),r.rules=e.em.config.style||r.rules||"",e.rules=new wf([],r),e}return n.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},n.prototype.postLoad=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");e&&e.add(this.getAll())},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},n.prototype.add=function(t,e,r,i,l){i===void 0&&(i={}),l===void 0&&(l={});var d=e||"",p=r||"",v=xo({},i),m=this.get(t,d,p,v);return m&&m.config&&!m.config.singleAtRule||(v.state=d,v.mediaText=p,v.selectors=[],p&&!v.atRuleType&&(v.atRuleType="media"),m=new Ha(v,this.config),m.get("selectors").add(t,l),this.rules.add(m,l)),m},n.prototype.get=function(t,e,r,i){var l=t;if((0,u.isString)(t)){var d=this.em.Selectors,p=t.split(",")[0].trim(),v=this.em.Parser.parserCss.checkNode({selectors:p})[0];l=d.get(v.selectors)}return this.rules.find(function(m){return m.compare(l,e,r,i)})||null},n.prototype.getAll=function(){return this.rules},n.prototype.addCollection=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=this.em,l=[];(0,u.isString)(t)&&(t=i.Parser.parseCss(t));for(var d=t instanceof Array?t:[t],p=0,v=d.length;p<v;p++){var m=d[p]||{};if(m.selectors){var E=i==null?void 0:i.Selectors;E||console.warn("Selector Manager not found");for(var B=m.selectors,J=B instanceof Array?B:[B],ht=[],bt=0,wt=J.length;bt<wt;bt++){var Vt=E.add(J[bt]);ht.push(Vt)}var Xt=this.get(ht,m.state,m.mediaText,m),te=this.add(ht,m.state,m.mediaText,m,e),ve=!Xt||!e.avoidUpdateStyle,Ee=m.style||{};if((0,g.isObject)(r)&&te.set(r,e),ve){var Re=e.extend?xo(xo({},te.get("style")),Ee):Ee;te.set("style",Re,e)}l.push(te)}}return l},n.prototype.addRules=function(t){return this.addCollection(t)},n.prototype.setRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.atRuleType,l=r.atRuleParams,d=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],p=d.state,v=d.selectorsAdd,m=this.em.Selectors,E=m.add(d.selectors),B=this.add(E,p,l,{selectorsAdd:v,atRule:i});return r.addStyles?B.addStyle(e,r):B.setStyle(e,r),B},n.prototype.getRule=function(t,e){e===void 0&&(e={});var r=this.em,i=r.Selectors,l=r.Parser.parserCss.checkNode({selectors:t})[0],d=i.get(l.selectors),p=l.state,v=l.selectorsAdd,m=e.atRuleType,E=e.atRuleParams;return d?this.get(d,p,E,{selectorsAdd:v,atRuleType:m}):void 0},n.prototype.getRules=function(t){var e=this.getAll();if(!t)return Co([],e.models,!0);var r={sort:!0},i=(0,u.isString)(t)?t.split(",").map(function(d){return d.trim()}):t,l=e.filter(function(d){return i.indexOf(d.getSelectors().getFullString(null,r))>=0});return l},n.prototype.setIdRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.addOpts,l=i===void 0?{}:i,d=r.mediaText,p=r.state||"",v=(0,u.isUndefined)(d)?this.em.getCurrentMedia():d,m=this.em.Selectors,E=m.add({name:t,type:Br.TYPE_ID},l),B=this.add(E,p,v,{},l);return B.setStyle(e,xo(xo({},r),l)),B},n.prototype.getIdRule=function(t,e){e===void 0&&(e={});var r=e.mediaText,i=e.state||"",l=(0,u.isUndefined)(r)?this.em.getCurrentMedia():r,d=this.em.Selectors.get(t,Br.TYPE_ID);return d&&this.get(d,i,l)},n.prototype.setClassRule=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=r.state||"",l=r.mediaText||this.em.getCurrentMedia(),d=this.em.Selectors,p=d.add({name:t,type:Br.TYPE_CLASS}),v=this.add(p,i,l);return v.setStyle(e,r),v},n.prototype.getClassRule=function(t,e){e===void 0&&(e={});var r=e.state||"",i=e.mediaText||this.em.getCurrentMedia(),l=this.em.Selectors.get(t,Br.TYPE_CLASS);return l&&this.get(l,r,i)},n.prototype.remove=function(t,e){var r=(0,u.isString)(t)?this.getRules(t):t,i=this.getAll().remove(r,e);return(0,u.isArray)(i)?i:[i]},n.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},n.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var r=e.state,i=e.mediaText,l=e.current;l&&(r=this.em.get("state")||"",i=this.em.getCurrentMedia());var d=t.getId(),p=this.getAll().filter(function(v){return!(0,u.isUndefined)(r)&&v.get("state")!==r||!(0,u.isUndefined)(i)&&v.get("mediaText")!==i?!1:v.getSelectorsString()==="#".concat(d)});return p},n.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new Sn({collection:this.rules,config:this.config}),this.rulesView.render().el},n.prototype.checkId=function(t,e){e===void 0&&(e={});var r=e.idMap,i=r===void 0?{}:r,l=[];if(!Object.keys(i).length)return l;var d=Array.isArray(t)?t:[t];return d.forEach(function(p){var v=p.selectors;if(v&&v.length==1){var m=v[0];if((0,u.isString)(m)){if(m[0]==="#"){var E=m.substring(1),B=i[E];E&&B&&(v[0]="#".concat(B),l.push(p))}}else if(m.name&&m.type===Br.TYPE_ID){var B=i[m.name];B&&(m.name=B,l.push(p))}}}),l},n.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},n}(q);const Bs=Ua;var Rp={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const xf=Rp;var Fp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Np=function(a){Fp(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(n.prototype,"category",{get:function(){var t=this.get("category");return t instanceof ro?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.id},n.prototype.getLabel=function(){return this.get("label")},n.prototype.getMedia=function(){return this.get("media")},n.prototype.getContent=function(){return this.get("content")},n.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,u.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},n}(b.Hn);const Cf=Np;var Fn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yu=function(a){Fn(n,a);function n(t,e){var r=a.call(this,t)||this;return r.em=e.em,r.on("add",r.handleAdd),r}return n.prototype.getCategories=function(){return this.em.Blocks.getCategories()},n.prototype.handleAdd=function(t){this.initCategory(t)},n}(gs);const Zl=Yu;Yu.prototype.model=Cf;var Hs;(function(a){a.add="block:add",a.remove="block:remove",a.removeBefore="block:remove:before",a.update="block:update",a.dragStart="block:drag:start",a.drag="block:drag",a.dragEnd="block:drag:stop",a.categoryUpdate="block:category:update",a.custom="block:custom",a.all="block"})(Hs||(Hs={}));var Vp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sf=function(a){Vp(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this,i=r.model;return r.em=e.em,r.config=e,r.endDrag=r.endDrag.bind(r),r.ppfx=e.pStylePrefix||"",r.listenTo(i,"destroy remove",r.remove),r.listenTo(i,"change",r.render),r}return n.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.handleClick=function(t){var e=this,r=e.config,i=e.model,l=e.em,d=i.get("onClick")||r.appendOnClick;if(l.trigger("block:click",i,t),d){if((0,u.isFunction)(d))return d(i,l==null?void 0:l.getEditor(),{event:t})}else return;var p=r.getSorter(),v=i.get("content"),m=l.getSelected();p.setDropContent(v);var E,B,J;if(m)if(B=p.validTarget(m.getEl(),v),B.valid)E=m;else{var ht=m.parent();ht&&(B=p.validTarget(ht.getEl(),v),B.valid&&(E=ht,J=ht.components().indexOf(m)+1))}if(!E){var bt=l.getWrapper();B=p.validTarget(bt.getEl(),v),B.valid&&(E=bt)}var wt=E&&E.append(v,{at:J})[0];wt&&l.setSelected(wt,{scroll:1})},n.prototype.startDrag=function(t){var e=this,r=e.config,i=e.em,l=e.model,d=l.get("disable");if(!(t.button!==0||!r.getSorter||this.el.draggable||d)){i.refreshCanvas();var p=r.getSorter();p.__currentBlock=l,p.setDragHelper(this.el,t),p.setDropContent(this.model.get("content")),p.startSort(this.el),(0,pe.on)(document,"mouseup",this.endDrag)}},n.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},n.prototype.handleDrag=function(t){this.__getModule().__drag(t)},n.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},n.prototype.endDrag=function(){(0,pe.S1)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},n.prototype.render=function(){var t,e=this,r=e.em,i=e.el,l=e.$el,d=e.ppfx,p=e.model,v=p.get("disable"),m=p.get("attributes")||{},E=m.class||"",B="".concat(d,"block"),J=r&&r.t("blockManager.labels.".concat(p.id))||p.get("label"),ht=p.get("render"),bt=p.get("media"),wt=v?"".concat(B,"--disable"):"".concat(d,"four-color-h");l.attr(m),i.className="".concat(E," ").concat(B," ").concat(d,"one-bg ").concat(wt).trim(),i.innerHTML=`
      `.concat(bt?'<div class="'.concat(B,'__media">').concat(bt,"</div>"):"",`
      <div class="`).concat(B,'-label">').concat(J,`</div>
    `),i.title=m.title||((t=i.textContent)===null||t===void 0?void 0:t.trim()),i.setAttribute("draggable","".concat(!!((0,g.hasDnd)(r)&&!v)));var Vt=ht&&ht({el:i,model:p,className:B,prefix:d});return Vt&&(i.innerHTML=Vt),this},n}(b.G7);const Of=Sf;var Tf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bp=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},Hp=function(a){Tf(n,a);function n(t,e,r){var i=a.call(this,t)||this;i.config=e;var l=e.pStylePrefix||"";return i.em=e.em,i.catName=r,i.pfx=l,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(l,"caret-icon"),i.activeClass="".concat(l,"open"),i.className="".concat(l).concat(r,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return n.prototype.events=function(){return{"click [data-title]":"toggle"}},n.prototype.template=function(t){var e=t.pfx,r=t.label,i=t.catName;return _(Ki||(Ki=Bp([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,r,e,i)},n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},n.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},n.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},n.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},n.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},n.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},n.prototype.append=function(t){this.getTypeEl().appendChild(t)},n.prototype.render=function(){var t=this,e=t.em,r=t.el,i=t.$el,l=t.model,d=t.pfx,p=t.catName,v=e.t("".concat(p,"Manager.categories.").concat(l.id))||l.get("label");return r.innerHTML=this.template({pfx:d,label:v,catName:p}),i.addClass(this.className),i.css({order:l.get("order")}),this.updateVisibility(),this},n}(b.G7);const Ef=Hp;var Ki,zs=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ia=function(){return ia=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ia.apply(this,arguments)},Us=function(a){zs(n,a);function n(t,e){var r=a.call(this,t)||this;r.renderedCategories=new Map,(0,u.bindAll)(r,"getSorter","onDrag","onDrop","onMove"),r.config=e||{},r.categories=t.categories||"";var i=r.config.pStylePrefix||"";r.ppfx=i,r.noCatClass="".concat(i,"blocks-no-cat"),r.blockContClass="".concat(i,"blocks-c"),r.catsClass="".concat(i,"block-categories");var l=r.collection;return r.listenTo(l,"add",r.addTo),r.listenTo(l,"reset",r.render),r.em=r.config.em,r.em&&(r.config.getSorter=r.getSorter),r}return n.prototype.__getModule=function(){return this.em.Blocks},n.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=ia(ia({},this.config),t)},n.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,r=t.Canvas;this.sorter=new e.Sorter({container:r.getBody(),placer:r.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:r.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},n.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},n.prototype.onMove=function(t){this.__getModule().__drag(t)},n.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},n.prototype.addTo=function(t){this.add(t)},n.prototype.add=function(t,e){var r=this,i=r.config,l=r.renderedCategories,d=t.get("attributes"),p=new Of({model:t,attributes:d},i),v=p.render().el,m=t.parent.initCategory(t);if(m&&this.categories&&!i.ignoreCategories){var E=m.getId(),B=this.getCategoriesEl(),J=l.get(E);!J&&B&&(J=new Ef({model:m},i,"block").render(),l.set(E,J),B.appendChild(J.el)),J==null||J.append(v);return}e?e.appendChild(v):this.append(v)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},n.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},n.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},n.prototype.render=function(){var t=this,e=this.ppfx,r=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(l){return t.add(l,r)}),this.append(r);var i="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(i),this.rendered=!0,this},n}(b.G7);const Li=Us;var zp=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),So=function(){return So=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},So.apply(this,arguments)},Wa=function(a){zp(n,a);function n(t){var e,r=a.call(this,t,"BlockManager",new Zl(((e=t.config.blockManager)===null||e===void 0?void 0:e.blocks)||[],{em:t}),Hs,xf)||this;return r.events=Hs,r.Block=Cf,r.Blocks=Zl,r.Category=ro,r.Categories=Ni,r.storageKey="",r.blocks=r.all,r.blocksVisible=new Zl(r.blocks.models,{em:t}),r.categories=new Ni([],{em:t,events:{update:Hs.categoryUpdate}}),r.blocks.on("add",function(i){return r.blocksVisible.add(i)}),r.blocks.on("remove",function(i){return r.blocksVisible.remove(i)}),r.blocks.on("reset",function(i){return r.blocksVisible.reset(i.models)}),r.__onAllEvent=(0,u.debounce)(function(){return r.__trgCustom()},0),r}return n.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(r,i){return t.startDrag(r,i)},drag:function(r){return t.__drag(r)},dragStop:function(r){return t.endDrag(r)}}},n.prototype.__startDrag=function(t,e){var r=this,i=r.em,l=r.events,d=r.blocks,p=t.getContent?t.getContent():t;this._dragBlock=t,i.set({dragResult:null,dragContent:p}),[i,d].map(function(v){return v.trigger(l.dragStart,t,e)})},n.prototype.__drag=function(t){var e=this,r=e.em,i=e.events,l=e.blocks,d=this._dragBlock;[r,l].map(function(p){return p.trigger(i.drag,d,t)})},n.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,l=e.blocks,d=this._dragBlock,p=t.component||r.get("dragResult");if(delete this._dragBlock,p&&d){var v="activeOnRender",m=p.get&&p.get(v),E=d.get("activate")||m,B=d.get("select"),J=(0,u.isArray)(p)?p[0]:p;(B||E&&B!==!1)&&r.setSelected(J),E&&(J.trigger("active"),m&&J.unset(v)),d.get("resetId")&&J.onAll(function(ht){return ht.resetId()})}r.set({dragResult:null,dragContent:null}),d&&[r,l].map(function(ht){return ht.trigger(i.dragEnd,p,d)})},n.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=So(So({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(){return this._bhv||{}},n.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(r){var i;return(i=r.droppable)===null||i===void 0?void 0:i.startCustom()})},n.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var r;return(r=e.droppable)===null||r===void 0?void 0:r.endCustom(t)}),this.__endDrag()},n.prototype.postRender=function(){var t=this,e=t.categories,r=t.config,i=t.em,l=this.blocksVisible;this.blocksView=new Li({collection:l,categories:e},So(So({},r),{em:i})),this.__appendTo(l.models),this.__trgCustom()},n.prototype.add=function(t,e,r){r===void 0&&(r={});var i=e||{};return i.id=t,this.blocks.add(i,r)},n.prototype.get=function(t){return this.blocks.get(t)},n.prototype.getAll=function(){return this.blocks},n.prototype.getAllVisible=function(){return this.blocksVisible},n.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},n.prototype.getCategories=function(){return this.categories},n.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},n.prototype.getDragBlock=function(){return this._dragBlock},n.prototype.getBlocksByCategory=function(t){return no(t||this.getAll().models)},n.prototype.render=function(t,e){e===void 0&&(e={});var r=this,i=r.categories,l=r.config,d=r.em,p=t||this.getAll().models;if(e.external){var v=new Zl(p,{em:d});return new Li({collection:v,categories:i},So(So({em:d},l),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(p),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},n.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(r){return r.stopListening()}),e.map(function(r){return r.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},n}(q);const Pf=Wa;var kf={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const Af=kf;var ql=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oa=function(a){ql(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{name:"",label:""}},n.prototype.getName=function(){return this.get("name")},n.prototype.getLabel=function(){return this.get("label")||this.getName()},n}(b.Hn);const Ws=oa;oa.prototype.idAttribute="name";var Xu=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ju=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},Mf="contentEditable",Ks=function(a){Xu(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.config||{};return e.config=r,e.module=t.module,e.coll=t.coll||null,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return n.prototype.template=function(){var t=this,e=t.pfx,r=t.model,i=t.config,l=r.get("label")||"";return _(Df||(Df=Ju([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,l,e,e,i.iconTagRemove)},n.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},n.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},n.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[Mf]="true",e.focus(),t==null||t.setEditing(!0)},n.prototype.endEditTag=function(){var t=this,e=t.model,r=t.em,i=this.getInputEl(),l=i.textContent||"",d=r==null?void 0:r.Selectors;i[Mf]="false",r==null||r.setEditing(!1),d&&d.rename(e,l)!==e&&(i.innerText=e.getLabel())},n.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},n.prototype.removeTag=function(){this.module.removeSelected(this.model)},n.prototype.updateStatus=function(){var t=this,e=t.model,r=t.$el,i=t.config,l=i.iconTagOn,d=i.iconTagOff,p=r.find("[data-tag-status]");e.get("active")?(p.html(l),r.removeClass("opac50")):(p.html(d),r.addClass("opac50"))},n.prototype.render=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.$el,l=t.model,d="".concat(e,"tag"),p=["".concat(d," ").concat(r,"three-bg")];return l.get("protected")&&p.push("".concat(d,"-protected")),i.html(this.template()),i.attr("class",p.join(" ")),this.updateStatus(),this},n}(b.G7);const Lf=Ks;var Df,If=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oo=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},Up=function(a){If(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var r=e.config.em,i=e.collection;e.target=r;var l=r.Selectors;e.module=l,e.em=r,e.componentChanged=(0,u.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,u.debounce)(e.checkSync.bind(e),0);var d=he.g.update,p="".concat(d,":classes"),v="component:toggled ".concat(p),m="".concat(p," ").concat(d,":attributes:id change:state");return e.listenTo(r,v,e.componentChanged),e.listenTo(r,"styleManager:update",e.componentChanged),e.listenTo(r,m,e.__handleStateChange),e.listenTo(r,"styleable:change change:device",e.checkSync),e.listenTo(i,"add",e.addNew),e.listenTo(i,"reset",e.renderClasses),e.listenTo(i,"remove",e.tagRemoved),e.listenTo(l.getAll(),l.events.state,(0,u.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.labelInfo,r=t.labelHead,i=t.iconSync,l=t.iconAdd,d=t.pfx,p=t.ppfx;return _(Ka||(Ka=Oo([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),d,d,d,d,r,d,d,d,p,p,p,d,p,p,d,p,d,d,d,d,d,l,d,d,i,d,d,e,d)},n.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},n.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),r=t.Css,i={noDisabled:1},l=this.getCommonSelectors({opts:i}),d=t.get("state"),p=t.getCurrentMedia(),v=[],m=r.get(l,d,p)||r.add(l,d,p),E;this.getTargets().forEach(function(B){var J=r.getIdRule(B.getId(),{state:d,mediaText:p});E=J.getStyle(),J.setStyle({}),v.push(J)}),E&&m.addStyle(E),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:l,mediaText:p,rule:m,ruleComponents:v,state:d})},n.prototype.tagRemoved=function(t){this.updateStateVis()},n.prototype.addNew=function(t){this.addToClasses(t)},n.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},n.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},n.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},n.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},n.prototype.componentChanged=function(t){var e=t===void 0?{}:t,r=e.targets;this.updateSelection(r)},n.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,u.isArray)(e)?e:[e];var r=[];return e&&e.length&&(r=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:r})),this.collection.reset(r),this.updateStateVis(e),this.module.__trgCustom(),r},n.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,r=e.targets,i=e.opts,l=i===void 0?{}:i,d=r||this.getTargets();return this.module.__getCommonSelectors(d,l)},n.prototype._commonSelectors=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.module).__common.apply(t,e)},n.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,r=t.config,i=t.collection,l=this.getTarget(),d;if(l&&r.componentFirst&&i.length){var p=l.getStyle();d=!(0,u.isEmpty)(p)}e&&e[d?"show":"hide"]()},n.prototype.getTarget=function(){return this.target.getSelected()},n.prototype.getTargets=function(){return this.target.getSelectedAll()},n.prototype.updateStateVis=function(t){var e=this.em,r=e&&e.getConfig().avoidInlineStyle,i=this.collection.length||r?"":"none";this.getStatesC().css("display",i),this.updateSelector(t)},n.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},n.prototype.updateSelector=function(t){var e=this,r=this.el.querySelector("[data-selected]"),i=[],l=t||this.getTargets();l=(0,u.isArray)(l)?l:[l],l.forEach(function(d){return i.push(e.__getName(d))}),r&&(r.innerHTML=i.join(", ")),this.checkStates()},n.prototype.__getName=function(t){var e=this,r=e.pfx,i=e.config,l=e.em,d=i.selectedName,p=i.componentFirst,v;if((0,u.isString)(t))v=_(Qu||(Qu=Oo(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),r,t);else{var m=t==null?void 0:t.getSelectors();if(!m)return"";var E=m.getStyleable(),B=l.get("state"),J=t.getId?_(tc||(tc=Oo(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),r,t.getName(),r,t.getId()):"";v=this.collection.getFullString(E),v=v?_(jf||(jf=Oo(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),r,v):t.get("selectorsAdd")||J,v=p&&J?J:v,v+=B?_(Yl||(Yl=Oo(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),r,B):"",v=d?d({result:v,state:B,target:t}):v}return v&&'<span class="'.concat(r,'sel">').concat(v,"</span>")},n.prototype.stateChanged=function(t){var e=this.em,r=t.target.value;e.set("state",r)},n.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},n.prototype.addToClasses=function(t,e){var r=e,i=this.getClasses(),l=new Lf({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return r?r.appendChild(l):i.append(l),l},n.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),r=this.getClasses();r.empty(),this.collection.each(function(i){return t.addToClasses(i,e)}),r.append(e)},n.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},n.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},n.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},n.prototype.renderStates=function(){var t=this,e=t.module,r=t.em,i=r.t("selectorManager.emptyState"),l=e.getStates().map(function(p){var v=r.t("selectorManager.states.".concat(p.id))||p.getLabel()||p.id;return'<option value="'.concat(p.id,'">').concat(v,"</option>")}).join(""),d=this.getStates();d&&d.html('<option value="">'.concat(i,"</option>").concat(l)),this.checkStates()},n.prototype.render=function(){var t=this,e=t.em,r=t.pfx,i=t.ppfx,l=t.config,d=t.$el,p=t.el,v=l.render,m=l.iconSync,E=l.iconAdd,B={iconSync:m,iconAdd:E,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:i,pfx:r,el:p};d.html(this.template(B));var J=v&&v(B);return J&&J!==p&&d.empty().append(J),this.$input=d.find("[data-input]"),this.$addBtn=d.find("[data-add]"),this.$classes=d.find("#"+r+"tags-c"),this.$btnSyncEl=d.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),d.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},n}(b.G7);const Wp=Up;var Ka,Qu,tc,jf,Yl,Rf=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gs=function(){return Gs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Gs.apply(this,arguments)},Xl=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},ec=function(a){return(0,u.isString)(a)&&a[0]=="#"},Ff=function(a){return(0,u.isString)(a)&&a[0]=="."},Jl="selector",Gi="".concat(Jl,":"),$s="".concat(Gi,"add"),Kp="".concat(Gi,"update"),rc="".concat(Gi,"remove"),Gp="".concat(rc,":before"),$p="".concat(Gi,"custom"),Nf="".concat(Gi,"state"),Zp={all:Jl,update:Kp,add:$s,remove:rc,removeBefore:Gp,state:Nf,custom:$p},Vf=function(a){Rf(n,a);function n(t){var e=a.call(this,t,"SelectorManager",new vi([]),Zp,Af,{skipListen:!0})||this;e.Selector=Br,e.Selectors=vi,e.storageKey="",(0,u.bindAll)(e,"__updateSelectedByComponents");var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.all=new vi(r.selectors),e.selected=new vi([],{em:t,config:r}),e.states=new b.FE(r.states.map(function(p){return new Ws(p)}),{model:Ws}),e.model=new b.Hn({cFirst:r.componentFirst,_undo:!0}),e.__update=(0,u.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(p,v){return t.trigger(Nf,v)}),e.model.on("change:cFirst",function(p,v){return t.trigger("selector:type",v)});var l="".concat(he.g.update,":classes");t.on("component:toggled ".concat(l),e.__updateSelectedByComponents);var d="component:toggled ".concat(l," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,d,function(){return e.__update()}),e}return n.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},n.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?Xl([],this.all.models,!0):this.all:[]},n.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},n.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},n.prototype.select=function(t,e){e===void 0&&(e={});var r=Array.isArray(t)?t:[t],i=this.em.Styles.select(r,e);this.selected.reset(this.__getCommonSelectors(i));var l=this.selectorTags,d=i.filter(function(p){return p}).map(function(p){return(0,g.isComponent)(p)||(0,g.isRule)(p)&&!p.get("selectorsAdd")?p:p.getSelectorsString()});return l&&l.componentChanged({targets:d}),this},n.prototype.addSelector=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var i=Gs({},e);(0,u.isObject)(t)?i=t:i.name=t,ec(i.name)?(i.name=i.name.substr(1),i.type=Br.TYPE_ID):Ff(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var l=i.name,d=this.getConfig(),p=this,v=p.all,m=p.em,E=l?this.get(l,i.type):v.where(i)[0];if(!E){var B=i instanceof Br?i:new Br(i,Gs(Gs({},r),{config:d,em:m}));return v.add(B,r)}return E},n.prototype.getSelector=function(t,e){return e===void 0&&(e=Br.TYPE_CLASS),ec(t)?(t=t.substr(1),e=Br.TYPE_ID):Ff(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var i=(0,u.isString)(t)?{}:e;return(0,u.isArray)(t)?t.map(function(l){return r.addSelector(l,e,i)}):this.addSelector(t,e,i)},n.prototype.addClass=function(t){var e=this,r=[];return(0,u.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(i){return r.push(e.addSelector(i))}),r},n.prototype.get=function(t,e){var r=this;if((0,u.isArray)(t)){var i=[],l=t.map(function(d){return r.getSelector(d)}).filter(Boolean);return l.forEach(function(d){return i.indexOf(d)<0&&i.push(d)}),i}else return this.getSelector(t,e)},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.rename=function(t,e,r){var i=this.escapeName(e),l=this.get(i);return l||t.set({name:i,label:e},r)},n.prototype.setState=function(t){return this.em.setState(t),this},n.prototype.getState=function(){return this.em.getState()},n.prototype.getStates=function(){return Xl([],this.states.models,!0)},n.prototype.setStates=function(t,e){return this.states.reset(t.map(function(r){return new Ws(r)}),e)},n.prototype.getSelected=function(){return this.__getCommon()},n.prototype.getSelectedAll=function(){return Xl([],this.selected.models,!0)},n.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(r){r.getSelectors().add(e)})},n.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},n.prototype.duplicateSelected=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,l=this.getSelected();if(!(l.indexOf(t)<0)){var d=this.getState(),p=i.getCurrentMedia(),v=i.Css.get(l,d,p),m=v==null?void 0:v.getStyle();if(i.getSelectedAll().forEach(function(B){var J=B.getSelectors();if(J.includes(t)){var ht=e.suffix||" copy",bt=t.getLabel(),wt=r.addSelector("".concat(bt).concat(ht)),Vt=J.indexOf(t);J.remove(t),J.add(wt,{at:Vt})}}),m){var E=i.Css.add(this.getSelected(),d,p);E.setStyle(m)}}},n.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},n.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},n.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},n.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):Br.escapeName(t)},n.prototype.render=function(t){var e=this.selectorTags,r=this.getConfig(),i=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new Wp({el:i,collection:this.selected,module:this,config:r}),this.selectorTags.render().el},n.prototype.destroy=function(){var t=this,e=t.selectorTags,r=t.model;r.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},n.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},n.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var r=t.map(function(i){return i.getSelectors&&i.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,r)},n.prototype.__common=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(i){return e[1].indexOf(i)>=0}):e.slice(1).reduce(function(i,l){return t.__common(i,l)},e[0]):[]},n.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},n}(q);const qp=Vf;var Yp={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const Bf=Yp;var Yn,Wn={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},Ga=(Yn={},Yn[Wn.MEDIA_RULE]="media",Yn[Wn.FONT_FACE_RULE]="font-face",Yn[Wn.PAGE_RULE]="page",Yn[Wn.KEYFRAMES_RULE]="keyframes",Yn[Wn.COUNTER_STYLE_RULE]="counter-style",Yn[Wn.SUPPORTS_RULE]="supports",Yn[Wn.DOCUMENT_RULE]="document",Yn[Wn.FONT_FEATURE_VALUES_RULE]="font-feature-values",Yn[Wn.VIEWPORT_RULE]="viewport",Yn),nc=(0,u.keys)(Ga),To=[Wn.FONT_FACE_RULE,Wn.PAGE_RULE,Wn.COUNTER_STYLE_RULE,Wn.VIEWPORT_RULE],Hf=nc.filter(function(a){return To.indexOf(Number(a))<0}).map(function(a){return Ga[a]}).concat(["container","layer"]),Ql=To.map(function(a){return Ga[a]}),zf=function(a){a===void 0&&(a="");for(var n=[],t=[],e=a.split(","),r=0,i=e.length;r<i;r++){var l=e[r].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(l)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(l)){var d=l.split(".").filter(Boolean);t.push(d)}else n.push(l)}return{result:t,add:n}},Xp=function(a){for(var n=a.style,t={},e=0,r=n.length;e<r;e++){var i=n[e],l=n.getPropertyValue(i),d=n.getPropertyPriority(i);t[i]="".concat(l).concat(d?" !".concat(d):"")}return t},Uf=function(a){var n=a.conditionText||a.media&&a.media.mediaText||a.name||a.selectorText||"";return n.trim()},Or=function(a,n,t){n===void 0&&(n={}),t===void 0&&(t={});var e={},r=a.length,i=a[r-1],l=i?i.split(/:(.+)/):[],d=l[1],p=t.atRule,v=t.selectorsAdd,m=t.mediaText,E=Ql.indexOf(p)>=0;return E&&(e.singleAtRule=!0),p&&(e.atRuleType=p),v&&(e.selectorsAdd=v),m&&(e.mediaText=m),d&&(a[r-1]=l[0],e.state=d,l.splice(l.length-1,1)),e.selectors=a,e.style=n,e},Wf=function(a){var n=a.cssText,t=n===void 0?"":n;return Hf.find(function(e){return t.indexOf("@".concat(e))===0})},tu=function(a){for(var n=[],t=a.cssRules||[],e=0,r=t.length;e<r;e++){var i=t[e],l=i.type,d=!1,p="",v="",m=i.selectorText||i.keyText||"",E=To.indexOf(l)>=0;if(E)d=!0,p=Ga[l],v=Uf(i);else if(nc.indexOf("".concat(l))>=0||!l&&Wf(i)){var B=tu(i),J=Ga[l]||Wf(i);v=Uf(i);for(var ht=0,bt=B.length;ht<bt;ht++){var wt=B[ht];v&&(wt.mediaText=v),wt.atRuleType=J}n=n.concat(B)}if(!(!m&&!E)){for(var Vt=Xp(i),Xt=zf(m),te=Xt.add,ve=Xt.result,Ee=void 0,Re=0,ze=ve.length;Re<ze;Re++){var be=Or(ve[Re],Vt,{atRule:Ga[l]});n.push(be),Ee=be}if(te.length){var He=te.join(", ");if(Ee)Ee.selectorsAdd=He;else{var be={selectors:[],selectorsAdd:He,style:Vt};d&&(be.singleAtRule=d),p&&(be.atRuleType=p),v&&(be.mediaText=v),n.push(be)}}}}return n};const Zs=function(a){var n=document.createElement("style");n.innerHTML=a,document.head.appendChild(n);var t=n.sheet;return document.head.removeChild(n),t?tu(t):[]};var Si=function(a,n){return n===void 0&&(n={}),{parse:function(t){var e=this,r=[],i=n.parserCss,l=a==null?void 0:a.Editor,d=i?i(t,l):Zs(t);return d.forEach(function(p){return r=r.concat(e.checkNode(p))}),a==null||a.trigger("parse:css",{input:t,output:r,nodes:d}),r},checkNode:function(t){var e=t.selectors,r=t.style,i=[t];if((0,u.isString)(e)){var l=[],d=t,p=zf(e),v=p.result,m=p.add.join(", "),E={atRule:d.atRule,mediaText:d.params};if(v.length?v.forEach(function(J){l.push(Or(J,r,E))}):l.push(Or([],r,E)),m){var B=l[l.length-1];B.selectorsAdd=m}i=l}return i}}};const eu=Si;var ic=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kf=function(a){ic(n,a);function n(t){var e=a.call(this,t,"Parser",Bf)||this,r=e.config;return e.parserCss=eu(t,r),e.parserHtml=Qi(t,r),e}return n.prototype.parseHtml=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.parserHtml;return l.compTypes=i.Components.getTypes()||[],l.parse(t,this.parserCss,e)},n.prototype.parseCss=function(t){return this.parserCss.parse(t)},n.prototype.destroy=function(){},n}(nt);const Gf=Kf;var $f={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(a){return a},onLoad:function(a){return a},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(a){return a},onLoad:function(a){return a}}}};const oc=$f;var ac=function(a,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(m){try{v(e.next(m))}catch(E){l(E)}}function p(m){try{v(e.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):r(m.value).then(d,p)}v((e=e.apply(a,n||[])).next())})},Zf=function(a,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(v){return function(m){return p([v,m])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(t=0)),t;)try{if(e=1,r&&(i=v[0]&2?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,r=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){t.label=v[1];break}if(v[0]===6&&t.label<i[1]){t.label=i[1],i=v;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(v);break}i[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(a,t)}catch(m){v=[6,m],r=0}finally{e=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},sc=function(){function a(){}return a.prototype.store=function(n,t){return t===void 0&&(t={}),ac(this,void 0,void 0,function(){return Zf(this,function(e){return this.hasLocal(t,!0)&&localStorage.setItem(t.key,JSON.stringify(n)),[2,n]})})},a.prototype.load=function(n){return n===void 0&&(n={}),ac(this,void 0,void 0,function(){var t;return Zf(this,function(e){return t={},this.hasLocal(n,!0)&&(t=JSON.parse(localStorage.getItem(n.key)||"{}")),[2,t]})})},a.prototype.hasLocal=function(n,t){if(n===void 0&&(n={}),n.checkLocal&&(!(0,g.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},a}();const qf=sc;function cr(a){"@babel/helpers - typeof";return cr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},cr(a)}function Yf(a){var n=this.constructor;return this.then(function(t){return n.resolve(a()).then(function(){return t})},function(t){return n.resolve(a()).then(function(){return n.reject(t)})})}const Jp=Yf;function $a(a){var n=this;return new n(function(t,e){if(!(a&&typeof a.length<"u"))return e(new TypeError(cr(a)+" "+a+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(a);if(r.length===0)return t([]);var i=r.length;function l(p,v){if(v&&(cr(v)==="object"||typeof v=="function")){var m=v.then;if(typeof m=="function"){m.call(v,function(E){l(p,E)},function(E){r[p]={status:"rejected",reason:E},--i===0&&t(r)});return}}r[p]={status:"fulfilled",value:v},--i===0&&t(r)}for(var d=0;d<r.length;d++)l(d,r[d])})}const Qp=$a;function qs(a,n){this.name="AggregateError",this.errors=a,this.message=n||""}qs.prototype=Error.prototype;function th(a){var n=this;return new n(function(t,e){if(!(a&&typeof a.length<"u"))return e(new TypeError("Promise.any accepts an array"));var r=Array.prototype.slice.call(a);if(r.length===0)return e();for(var i=[],l=0;l<r.length;l++)try{n.resolve(r[l]).then(t).catch(function(d){i.push(d),i.length===r.length&&e(new qs(i,"All promises were rejected"))})}catch(d){e(d)}})}const zr=th;var eh=setTimeout;function Xf(a){return!!(a&&typeof a.length<"u")}function rh(){}function ru(a,n){return function(){a.apply(n,arguments)}}function o(a){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if(typeof a!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],O(a,this)}function s(a,n){for(;a._state===3;)a=a._value;if(a._state===0){a._deferreds.push(n);return}a._handled=!0,o._immediateFn(function(){var t=a._state===1?n.onFulfilled:n.onRejected;if(t===null){(a._state===1?f:c)(n.promise,a._value);return}var e;try{e=t(a._value)}catch(r){c(n.promise,r);return}f(n.promise,e)})}function f(a,n){try{if(n===a)throw new TypeError("A promise cannot be resolved with itself.");if(n&&(cr(n)==="object"||typeof n=="function")){var t=n.then;if(n instanceof o){a._state=3,a._value=n,h(a);return}else if(typeof t=="function"){O(ru(t,n),a);return}}a._state=1,a._value=n,h(a)}catch(e){c(a,e)}}function c(a,n){a._state=2,a._value=n,h(a)}function h(a){a._state===2&&a._deferreds.length===0&&o._immediateFn(function(){a._handled||o._unhandledRejectionFn(a._value)});for(var n=0,t=a._deferreds.length;n<t;n++)s(a,a._deferreds[n]);a._deferreds=null}function y(a,n,t){this.onFulfilled=typeof a=="function"?a:null,this.onRejected=typeof n=="function"?n:null,this.promise=t}function O(a,n){var t=!1;try{a(function(e){t||(t=!0,f(n,e))},function(e){t||(t=!0,c(n,e))})}catch(e){if(t)return;t=!0,c(n,e)}}o.prototype.catch=function(a){return this.then(null,a)},o.prototype.then=function(a,n){var t=new this.constructor(rh);return s(this,new y(a,n,t)),t},o.prototype.finally=Jp,o.all=function(a){return new o(function(n,t){if(!Xf(a))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(a);if(e.length===0)return n([]);var r=e.length;function i(d,p){try{if(p&&(cr(p)==="object"||typeof p=="function")){var v=p.then;if(typeof v=="function"){v.call(p,function(m){i(d,m)},t);return}}e[d]=p,--r===0&&n(e)}catch(m){t(m)}}for(var l=0;l<e.length;l++)i(l,e[l])})},o.any=zr,o.allSettled=Qp,o.resolve=function(a){return a&&cr(a)==="object"&&a.constructor===o?a:new o(function(n){n(a)})},o.reject=function(a){return new o(function(n,t){t(a)})},o.race=function(a){return new o(function(n,t){if(!Xf(a))return t(new TypeError("Promise.race accepts an array"));for(var e=0,r=a.length;e<r;e++)o.resolve(a[e]).then(n,t)})},o._immediateFn=typeof setImmediate=="function"&&function(a){setImmediate(a)}||function(a){eh(a,0)},o._unhandledRejectionFn=function(n){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};const I=o;(0,g.hasWin)()&&(window.Promise=window.Promise||I);const U=typeof fetch=="function"?fetch.bind():function(a,n){return new I(function(t,e){var r=new XMLHttpRequest;r.open(n.method||"get",a),r.withCredentials=n.credentials=="include";for(var i in n.headers||{})r.setRequestHeader(i,n.headers[i]);r.onload=function(l){return t({status:r.status,statusText:r.statusText,text:function(){return I.resolve(r.responseText)}})},r.onerror=e,r.upload&&n.onProgress&&(r.upload.onprogress=n.onProgress),n.body?r.send(n.body):r.send()})};var rt=function(){return rt=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},rt.apply(this,arguments)},xt=function(a,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(m){try{v(e.next(m))}catch(E){l(E)}}function p(m){try{v(e.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):r(m.value).then(d,p)}v((e=e.apply(a,n||[])).next())})},At=function(a,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(v){return function(m){return p([v,m])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(t=0)),t;)try{if(e=1,r&&(i=v[0]&2?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,r=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){t.label=v[1];break}if(v[0]===6&&t.label<i[1]){t.label=i[1],i=v;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(v);break}i[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(a,t)}catch(m){v=[6,m],r=0}finally{e=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Gt=function(){function a(){}return a.prototype.store=function(n,t){return t===void 0&&(t={}),xt(this,void 0,void 0,function(){return At(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlStore,this.__props(t,n),t)];case 1:return[2,e.sent()]}})})},a.prototype.load=function(n){return n===void 0&&(n={}),xt(this,void 0,void 0,function(){return At(this,function(t){switch(t.label){case 0:return[4,this.request(n.urlLoad,this.__props(n),n)];case 1:return[2,t.sent()]}})})},a.prototype.request=function(n,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),U(n,t).then(function(r){var i=r.text(),l=(r.status/200|0)===1;return l?i:i.then(Promise.reject)}).then(function(r){var i=r&&(0,u.isString)(r);return e.contentTypeJson&&i?JSON.parse(r):r})},a.prototype.__props=function(n,t){n===void 0&&(n={});var e=n.contentTypeJson,r=n.headers||{},i=n.fetchOptions||{},l="X-Requested-With",d="Content-Type",p;if((0,u.isUndefined)(r[l])&&(r[l]="XMLHttpRequest"),(0,u.isUndefined)(r[d])&&e&&(r[d]="application/json; charset=utf-8"),t)if(e)p=JSON.stringify(t);else{p=new FormData;for(var v in t)p.append(v,t[v])}var m={method:p?"POST":"GET",credentials:n.credentials,headers:r,body:p};return rt(rt({},m),(0,u.isFunction)(i)?i(m):i)},a}();const Ht=Gt;var ie;(function(a){a.start="storage:start",a.startStore="storage:start:store",a.startLoad="storage:start:load",a.load="storage:load",a.store="storage:store",a.after="storage:after",a.afterStore="storage:after:store",a.afterLoad="storage:after:load",a.end="storage:end",a.endStore="storage:end:store",a.endLoad="storage:end:load",a.error="storage:error",a.errorStore="storage:error:store",a.errorLoad="storage:error:load"})(ie||(ie={}));const se=ie;var _e=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ce=function(){return Ce=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ce.apply(this,arguments)},ke=function(a,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(m){try{v(e.next(m))}catch(E){l(E)}}function p(m){try{v(e.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):r(m.value).then(d,p)}v((e=e.apply(a,n||[])).next())})},Se=function(a,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(v){return function(m){return p([v,m])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(t=0)),t;)try{if(e=1,r&&(i=v[0]&2?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,r=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){t.label=v[1];break}if(v[0]===6&&t.label<i[1]){t.label=i[1],i=v;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(v);break}i[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(a,t)}catch(m){v=[6,m],r=0}finally{e=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},Ae="local",Be="remote",Ne=function(a){_e(n,a);function n(t){var e=a.call(this,t,"StorageManager",oc)||this;e.storages={},e.events=se;var r=e.config;return r._disable&&(r.type=void 0),e.storages={},e.add(Ae,new qf),e.add(Be,new Ht),e.setCurrent(r.type),e}return n.prototype.isAutosave=function(){return!!this.config.autosave},n.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},n.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},n.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},n.prototype.add=function(t,e){return this.storages[t]=e,this},n.prototype.get=function(t){return this.storages[t]},n.prototype.getStorages=function(){return this.storages},n.prototype.getCurrent=function(){return this.config.currentStorage},n.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},n.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},n.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},n.prototype.store=function(t,e){return e===void 0&&(e={}),ke(this,void 0,void 0,function(){var r,i,l,d,p,v;return Se(this,function(m){switch(m.label){case 0:r=this.getCurrentStorage(),i=Ce(Ce({},this.getCurrentOptions()),e),l=this.getRecoveryStorage(),d=this.getCurrentOptions(Ae),m.label=1;case 1:return m.trys.push([1,5,,9]),[4,this.__exec(r,i,t)];case 2:return m.sent(),p=l,p?[4,this.__exec(l,d,{})]:[3,4];case 3:p=m.sent(),m.label=4;case 4:return[3,9];case 5:return v=m.sent(),l?[4,this.__exec(l,d,t)]:[3,7];case 6:return m.sent(),[3,8];case 7:throw v;case 8:return[3,9];case 9:return[2,t]}})})},n.prototype.load=function(t){return t===void 0&&(t={}),ke(this,void 0,void 0,function(){var e,r,i,l,d;return Se(this,function(p){switch(p.label){case 0:return e=this.getCurrentStorage(),r=Ce(Ce({},this.getCurrentOptions()),t),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions(Ae))]:[3,5];case 1:if(d=p.sent(),(0,u.isEmpty)(d))return[3,5];p.label=2;case 2:return p.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return p.sent(),l=d,[3,5];case 4:return p.sent(),[3,5];case 5:return l?[3,7]:[4,this.__exec(e,r)];case 6:l=p.sent(),p.label=7;case 7:return[2,l||{}]}})})},n.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(r,i){(0,u.isFunction)(e)?e(r,i,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?r(null):i()})},n.prototype.getRecovery=function(){return this.config.recovery},n.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===Be&&this.get(Ae)},n.prototype.__exec=function(t,e,r){var i;return ke(this,void 0,void 0,function(){var l,d,p,v,m,E,B,J,ht,bt,wt,Vt,Xt;return Se(this,function(te){switch(te.label){case 0:if(l=r?"store":"load",d=this.getConfig(),p=d.onStore,v=d.onLoad,this.onStart(l,r),!t)return[2,r||{}];te.label=1;case 1:return te.trys.push([1,14,,15]),E=(i=this.em)===null||i===void 0?void 0:i.getEditor(),B=void 0,r?(ht=p,ht?[4,p(r,E)]:[3,3]):[3,7];case 2:ht=te.sent(),te.label=3;case 3:return J=ht||r,bt=e.onStore,bt?[4,e.onStore(J,E)]:[3,5];case 4:bt=te.sent(),te.label=5;case 5:return J=bt||J,[4,t.store(J,e)];case 6:return B=te.sent(),m=r,[3,13];case 7:return[4,t.load(e)];case 8:return B=te.sent(),m=this.__clearKeys(B),wt=e.onLoad,wt?[4,e.onLoad(m,E)]:[3,10];case 9:wt=te.sent(),te.label=10;case 10:return m=wt||m,Vt=v,Vt?[4,v(m,E)]:[3,12];case 11:Vt=te.sent(),te.label=12;case 12:m=Vt||m,te.label=13;case 13:return this.onAfter(l,m,B),this.onEnd(l,m,B),[3,15];case 14:throw Xt=te.sent(),this.onError(l,Xt),Xt;case 15:return[2,m]}})})},n.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),r=new RegExp("^".concat(e.id)),i={};for(var l in t){var d=l.replace(r,"");i[d]=t[l]}return i},n.prototype.getCurrentOptions=function(t){var e=this.getConfig(),r=t||this.getCurrent();return e.options[r]||{}},n.prototype.onStart=function(t,e){var r=this.em;if(r){var i=t==="load"?se.startLoad:se.startStore;r.trigger(se.start,t,e),r.trigger(i,e)}},n.prototype.onAfter=function(t,e,r){var i=this.em;if(i){var l=t==="load"?se.afterLoad:se.afterStore;i.trigger(se.after),i.trigger(l,e,r);var d=t==="load"?se.load:se.store;i.trigger(d,e,r)}},n.prototype.onEnd=function(t,e,r){var i=this.em;if(i){var l=t==="load"?se.endLoad:se.endStore;i.trigger(se.end,t,e,r),i.trigger(l,e,r)}},n.prototype.onError=function(t,e){var r=this.em;if(r){var i=t==="load"?se.errorLoad:se.errorStore;r.trigger(se.error,e,t),r.trigger(i,e),this.onEnd(t,e)}},n.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},n.prototype.destroy=function(){this.storages={}},n}(nt);const er=Ne;var xr={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const nn=xr;var Mr=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dn=function(){return dn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},dn.apply(this,arguments)},kn=function(a){Mr(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.events={},e.appendInput=!0;var r=t.config,i=r===void 0?{}:r,l=e,d=l.model,p=l.eventCapture,v=d.target,m=d.attributes.type;e.config=i,e.em=i.em,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.target=v,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(m);var E=[["change:value",e.onValueChange],["remove",e.removeView]];return E.forEach(function(B){var J=B[0],ht=B[1];d.off(J,ht),e.listenTo(d,J,ht)}),d.view=e,e.listenTo(d,"change:label",e.render),e.listenTo(d,"change:placeholder",e.rerender),e.events={},p.forEach(function(B){return e.events[B]="onChange"}),e.delegateEvents(),e.init(),e}return n.prototype.attributes=function(){return this.model.get("attributes")||{}},n.prototype.templateLabel=function(t){var e=this.ppfx,r=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(r,'">').concat(r,"</div>")},n.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},n.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},n.prototype.removeView=function(){this.remove(),this.removed()},n.prototype.init=function(){},n.prototype.removed=function(){},n.prototype.onRender=function(t){},n.prototype.onUpdate=function(t){},n.prototype.onEvent=function(t){},n.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,u.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(dn(dn({},this.getClbOpts()),{event:t}))},n.prototype.getValueForTarget=function(){return this.model.get("value")},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},n.prototype.onValueChange=function(t,e,r){if(r===void 0&&(r={}),r.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var i=this.getValueForTarget();t.setTargetValue(i,r)}},n.prototype.renderLabel=function(){var t=this,e=t.$el,r=t.target,i=this.getLabel(),l=this.templateLabel(r);this.createLabel&&(l=this.createLabel({label:i,component:r,trait:this})||""),e.find("[data-label]").append(l)},n.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,r=e.label,i=e.name;return t.t("traitManager.traits.labels.".concat(i))||(0,g.capitalize)(r||i).replace(/-/g," ")},n.prototype.getComponent=function(){return this.target},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,r=t.model,i=r,l=r.attributes.name,d=i.get("placeholder")||i.get("default")||"",p=i.get("type")||"text",v=i.get("min"),m=i.get("max"),E=this.getModelValue(),B=(0,M.default)('<input type="'.concat(p,'">')),J=e.t("traitManager.traits.attributes.".concat(l))||{};B.attr(dn({placeholder:d},J)),(0,u.isUndefined)(E)||(i.set({value:E},{silent:!0}),B.prop("value",E)),v&&B.prop("min",v),m&&B.prop("max",m),this.$input=B}return this.$input.get(0)},n.prototype.getInputElem=function(){var t=this,e=t.input,r=t.$input;return e||r&&r.get&&r.get(0)||this.getElInput()},n.prototype.getModelValue=function(){return this.model.getValue()},n.prototype.getElInput=function(){return this.elInput},n.prototype.renderField=function(){var t=this,e=t.$el,r=t.appendInput,i=t.model,l=e.find("[data-input]"),d=l[l.length-1],p=i.el;p||(p=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,u.isString)(p)?(d.innerHTML=p,this.elInput=d.firstChild):(r?d.appendChild(p):d.insertBefore(p,d.firstChild),this.elInput=p),i.el=this.elInput},n.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},n.prototype.rerender=function(){delete this.model.el,this.render()},n.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,i=t.ppfx,l=t.model,d=l.attributes,p=d.type,v=d.id,m=this.hasLabel&&this.hasLabel(),E="".concat(r,"trait");delete this.$input;var B='<div class="'.concat(E," ").concat(E,"--").concat(p,`">
      `).concat(m?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(p,`" data-input>
        `).concat(this.templateInput?(0,u.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(B),m&&this.renderLabel(),this.renderField(),this.el.className="".concat(E,"__wrp ").concat(E,"__wrp-").concat(v),this.postUpdate(),this.onRender(this.getClbOpts()),this},n}(b.G7);const br=kn;kn.prototype.eventCapture=["change"];var Nn=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),on=function(a){Nn(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.onChange=function(){this.handleClick()},n.prototype.handleClick=function(){this.model.runCommand()},n.prototype.renderLabel=function(){this.model.get("label")&&br.prototype.renderLabel.apply(this)},n.prototype.getInputEl=function(){var t=this,e=t.model,r=t.ppfx,i=e.props(),l=i.labelButton,d=i.text,p=i.full,v=l||d,m="".concat(r,"btn"),E='<button type="button" class="'.concat(m,"-prim").concat(p?" ".concat(m,"--full"):"",'">').concat(v,"</button>");return E},n}(br);const Jr=on;on.prototype.eventCapture=["click button"];var $r=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lr=function(a){$r(n,a);function n(){var t=a!==null&&a.apply(this,arguments)||this;return t.appendInput=!1,t}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<label class="'.concat(r,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},n.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},n.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},n.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!this.$input,i=br.prototype.getInputEl.apply(this,t);if(r){var l=void 0,d=void 0,p=this,v=p.model,m=p.target,E=v.attributes.valueFalse,B=v.getName();v.changeProp?(l=m.get(B),d=l):(d=m.get("attributes")[B],l=!!(d||d==="")),!(0,u.isUndefined)(E)&&d===E&&(l=!1),i.checked=l}return i},n}(br);const Vn=Lr;function Za(a,n){if(!(0,g.hasWin)())return;var t={beforeShow:J,move:J,change:J,show:J,hide:J,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],r=!!/msie/i.exec(window.navigator.userAgent),i=function(){function St(ye,xe){return!!~(""+ye).indexOf(xe)}var $t=document.createElement("div"),yt=$t.style;return yt.cssText="background-color:rgba(0,0,0,.5)",St(yt.backgroundColor,"rgba")||St(yt.backgroundColor,"hsla")}(),l=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),d=function(){var St="";if(r)for(var $t=1;$t<=6;$t++)St+="<div class='sp-"+$t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",St,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function p(St,$t,yt,ye){for(var xe=[],Le=0;Le<St.length;Le++){var Je=St[Le];if(Je){var rr=Pe(Je),Ze=rr.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Ze+=Pe.equals($t,Je)?" sp-thumb-active":"";var Zr=rr.toString(ye.preferredFormat||"rgb"),hn=i?"background-color:"+rr.toRgbString():"filter:"+rr.toFilter();xe.push('<span title="'+Zr+'" data-color="'+rr.toRgbString()+'" class="'+Ze+'"><span class="sp-thumb-inner" style="'+hn+';"></span></span>')}else{var sn="sp-clear-display";xe.push(a("<div />").append(a('<span data-color="" style="background-color:transparent;" class="'+sn+'"></span>').attr("title",ye.noColorSelectedText)).html())}}return"<div class='sp-cf "+yt+"'>"+xe.join("")+"</div>"}function v(){for(var St=0;St<e.length;St++)e[St]&&e[St].hide()}function m(St,$t){var yt=a.extend({},t,St);return yt.callbacks={move:bt(yt.move,$t),change:bt(yt.change,$t),show:bt(yt.show,$t),hide:bt(yt.hide,$t),beforeShow:bt(yt.beforeShow,$t)},yt}function E(St,$t){var yt=m($t,St),ye=yt.flat,xe=yt.showSelectionPalette,Le=yt.localStorageKey,Je=yt.theme,rr=yt.callbacks,Ze=Vt(ul,10),Zr=!1,hn=!1,sn=!0,da=0,$i=0,Lo=0,Ir=0,Do=0,xd=0,Cd=0,il=0,ol=0,_c=0,Io=1,Sd=[],bc=[],Od={},jo=yt.selectionPalette.slice(0),Fx=yt.maxSelectionSize,Xg="sp-dragging",ts=null,wc=St.ownerDocument;wc.body;var vn=a(St),Rh=!1,lr=a(d,wc).addClass(Je),Nx=lr.find(".sp-picker-container"),Td=lr.find(".sp-color"),Ed=lr.find(".sp-dragger"),Fh=lr.find(".sp-hue"),Pd=lr.find(".sp-slider"),xc=lr.find(".sp-alpha-inner"),Jg=lr.find(".sp-alpha"),kd=lr.find(".sp-alpha-handle"),Ro=lr.find(".sp-input"),Qg=lr.find(".sp-palette"),tm=lr.find(".sp-initial"),em=lr.find(".sp-cancel"),Nh=lr.find(".sp-clear"),rm=lr.find(".sp-choose"),Vh=lr.find(".sp-palette-toggle"),Ad=vn.is("input"),Vx=Ad&&vn.attr("type")==="color"&&Xt(),Bh=Ad&&!ye,du=Bh?a(l).addClass(Je).addClass(yt.className).addClass(yt.replacerClassName):a([]),Cc=Bh?du:vn,pu=du.find(".sp-preview-inner"),Sc=yt.color||Ad&&vn.val(),hu=!1,vu=yt.preferredFormat,Bx=!yt.showButtons||yt.clickoutFiresChange,es=!Sc,al=yt.allowEmpty&&!Vx;function Hh(){if(yt.showPaletteOnly&&(yt.showPalette=!0),Vh.text(yt.showPaletteOnly?yt.togglePaletteMoreText:yt.togglePaletteLessText),yt.palette){Sd=yt.palette.slice(0),bc=a.isArray(Sd[0])?Sd:[Sd],Od={};for(var We=0;We<bc.length;We++)for(var $e=0;$e<bc[We].length;$e++){var yr=Pe(bc[We][$e]).toRgbString();Od[yr]=!0}}lr.toggleClass("sp-flat",ye),lr.toggleClass("sp-input-disabled",!yt.showInput),lr.toggleClass("sp-alpha-enabled",yt.showAlpha),lr.toggleClass("sp-clear-enabled",al),lr.toggleClass("sp-buttons-disabled",!yt.showButtons),lr.toggleClass("sp-palette-buttons-disabled",!yt.togglePaletteOnly),lr.toggleClass("sp-palette-disabled",!yt.showPalette),lr.toggleClass("sp-palette-only",yt.showPaletteOnly),lr.toggleClass("sp-initial-disabled",!yt.showInitial),lr.addClass(yt.className).addClass(yt.containerClassName),ul()}function Hx(){if(r&&lr.find("*:not(input)").attr("unselectable","on"),Hh(),Bh&&vn.after(du).hide(),al||Nh.hide(),ye)vn.after(lr).hide();else{var We=yt.appendTo==="parent"?vn.parent():a(yt.appendTo);We.length!==1&&(We=a("body")),We.append(lr)}nm(),Cc.bind("click.spectrum touchstart.spectrum",function(Qe){Rh||am(),Qe.stopPropagation(),a(Qe.target).is("input")||Qe.preventDefault()}),(vn.is(":disabled")||yt.disabled===!0)&&fm(),lr.click(ht),Ro.change(Kh),Ro.bind("paste",function(){setTimeout(Kh,1)}),Ro.keydown(function(Qe){Qe.keyCode==13&&Kh()}),em.text(yt.cancelText),em.bind("click.spectrum",function(Qe){Qe.stopPropagation(),Qe.preventDefault(),um(),rs()}),Nh.attr("title",yt.clearText),Nh.bind("click.spectrum",function(Qe){Qe.stopPropagation(),Qe.preventDefault(),es=!0,gu(),ye&&ll(!0)}),rm.text(yt.chooseText),rm.bind("click.spectrum",function(Qe){Qe.stopPropagation(),Qe.preventDefault(),r&&Ro.is(":focus")&&Ro.trigger("change"),Ux()&&(ll(!0),rs())}),Vh.text(yt.showPaletteOnly?yt.togglePaletteMoreText:yt.togglePaletteLessText),Vh.bind("click.spectrum",function(Qe){Qe.stopPropagation(),Qe.preventDefault(),yt.showPaletteOnly=!yt.showPaletteOnly,!yt.showPaletteOnly&&!ye&&lr.css("left","-="+(Nx.outerWidth(!0)+5)),Hh()}),wt(Jg,function(Qe,Zi,cl){Io=Qe/Do,es=!1,cl.shiftKey&&(Io=Math.round(Io*10)/10),gu()},Uh,Wh),wt(Fh,function(Qe,Zi){il=parseFloat(Zi/Ir),es=!1,yt.showAlpha||(Io=1),gu()},Uh,Wh),wt(Td,function(Qe,Zi,cl){if(!cl.shiftKey)ts=null;else if(!ts){var Ld=ol*da,Oc=$i-_c*$i,Tc=Math.abs(Qe-Ld)>Math.abs(Zi-Oc);ts=Tc?"x":"y"}var Zx=!ts||ts==="x",qx=!ts||ts==="y";Zx&&(ol=parseFloat(Qe/da)),qx&&(_c=parseFloat(($i-Zi)/$i)),es=!1,yt.showAlpha||(Io=1),gu()},Uh,Wh),Sc?(sl(Sc),mu(),vu=yt.preferredFormat||Pe(Sc).getFormat(),zh(Sc)):mu(),ye&&Gh();function $e(Qe){return Qe.data&&Qe.data.ignore?(sl(a(Qe.target).closest(".sp-thumb-el").data("color")),gu()):(sl(a(Qe.target).closest(".sp-thumb-el").data("color")),gu(),yt.hideAfterPaletteSelect&&(ll(!0),rs())),!1}var yr=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Qg.delegate(".sp-thumb-el",yr,$e),tm.delegate(".sp-thumb-el:nth-child(1)",yr,{ignore:!0},$e)}function nm(){if(Le&&window.localStorage){try{var We=window.localStorage[Le].split(",#");We.length>1&&(delete window.localStorage[Le],a.each(We,function($e,yr){zh(yr)}))}catch{}try{jo=window.localStorage[Le].split(";")}catch{}}}function zh(We){if(xe){var $e=Pe(We).toRgbString();if(!Od[$e]&&a.inArray($e,jo)===-1)for(jo.push($e);jo.length>Fx;)jo.shift();if(Le&&window.localStorage)try{window.localStorage[Le]=jo.join(";")}catch{}}}function zx(){var We=[];if(yt.showPalette)for(var $e=0;$e<jo.length;$e++){var yr=Pe(jo[$e]).toRgbString();Od[yr]||We.push(jo[$e])}return We.reverse().slice(0,yt.maxSelectionSize)}function im(){var We=ri(),$e=a.map(bc,function(yr,Qe){return p(yr,We,"sp-palette-row sp-palette-row-"+Qe,yt)});nm(),jo&&$e.push(p(zx(),We,"sp-palette-row sp-palette-row-selection",yt)),Qg.html($e.join(""))}function om(){if(yt.showInitial){var We=hu,$e=ri();tm.html(p([We,$e],$e,"sp-palette-row-initial",yt))}}function Uh(){($i<=0||da<=0||Ir<=0)&&ul(),hn=!0,lr.addClass(Xg),ts=null,vn.trigger("dragstart.spectrum",[ri()])}function Wh(){hn=!1,lr.removeClass(Xg),vn.trigger("dragstop.spectrum",[ri()])}function Kh(){var We=Ro.val();if((We===null||We==="")&&al)sl(null),ll(!0);else{var $e=Pe(We);$e.isValid()?(sl($e),ll(!0)):Ro.addClass("sp-validation-error")}}function am(){Zr?rs():Gh()}function Gh(){var We=a.Event("beforeShow.spectrum");if(Zr){ul();return}if(vn.trigger("beforeShow.spectrum",[ri()]),!(rr.beforeShow(ri())===!1||We.isDefaultPrevented())){v(),Zr=!0;var $e=a(wc);$e.bind("keydown.spectrum",sm),$e.bind("click.spectrum",lm),a(window).bind("resize.spectrum",Ze),du.addClass("sp-active"),lr.removeClass("sp-hidden"),ul(),mu(),hu=ri(),om(),rr.show(hu),vn.trigger("show.spectrum",[hu])}}function sm(We){We.keyCode===27&&rs()}function lm(We){We.button!=2&&(hn||(Bx?ll(!0):um(),rs()))}function rs(){!Zr||ye||(Zr=!1,a(wc).unbind("keydown.spectrum",sm),a(wc).unbind("click.spectrum",lm),a(window).unbind("resize.spectrum",Ze),du.removeClass("sp-active"),lr.addClass("sp-hidden"),rr.hide(ri()),vn.trigger("hide.spectrum",[ri()]))}function um(){sl(hu,!0)}function sl(We,$e){if(Pe.equals(We,ri())){mu();return}var yr,Qe;!We&&al?es=!0:(es=!1,sn=!We,yr=Pe(We),Qe=yr.toHsv(),il=Qe.h%360/360,ol=Qe.s,_c=Qe.v,Io=Qe.a),mu(),yr&&yr.isValid()&&!$e&&(vu=yt.preferredFormat||yr.getFormat())}function ri(We){return We=We||{},al&&es?null:Pe.fromRatio({h:il,s:ol,v:_c,a:Math.round(Io*100)/100},{format:We.format||vu})}function Ux(){return!Ro.hasClass("sp-validation-error")}function gu(){mu(),rr.move(ri()),vn.trigger("move.spectrum",[ri()])}function mu(){Ro.removeClass("sp-validation-error"),cm();var We=Pe.fromRatio({h:il,s:1,v:1});Td.css("background-color",We.toHexString());var $e=vu;Io<1&&!(Io===0&&$e==="name")&&($e==="hex"||$e==="hex3"||$e==="hex6"||$e==="name")&&($e="rgb");var yr=ri({format:$e}),Qe="";if(pu.removeClass("sp-clear-display"),pu.css("background-color","transparent"),!yr&&al)pu.addClass("sp-clear-display");else{var Zi=yr.toHexString(),cl=yr.toRgbString();if(i||yr.alpha===1?pu.css("background-color",cl):(pu.css("background-color","transparent"),pu.css("filter",yr.toFilter())),yt.showAlpha){var Ld=yr.toRgb();Ld.a=0;var Oc=Pe(Ld).toRgbString(),Tc="linear-gradient(left, "+Oc+", "+Zi+")";r?xc.css("filter",Pe(Oc).toFilter({gradientType:1},Zi)):(xc.css("background","-webkit-"+Tc),xc.css("background","-moz-"+Tc),xc.css("background","-ms-"+Tc),xc.css("background","linear-gradient(to right, "+Oc+", "+Zi+")"))}Qe=yr.toString($e)}yt.showInput&&Ro.val(Qe),yt.showPalette&&im(),om()}function cm(){var We=ol,$e=_c;if(al&&es)kd.hide(),Pd.hide(),Ed.hide();else{kd.show(),Pd.show(),Ed.show();var yr=We*da,Qe=$i-$e*$i;yr=Math.max(-Lo,Math.min(da-Lo,yr-Lo)),Qe=Math.max(-Lo,Math.min($i-Lo,Qe-Lo)),Ed.css({top:Qe+"px",left:yr+"px"});var Zi=Io*Do;kd.css({left:Zi-xd/2+"px"});var cl=il*Ir;Pd.css({top:cl-Cd+"px"})}}function ll(We){var $e=ri(),yr="",Qe=sn?!0:!Pe.equals($e,hu);$e&&(yr=$e.toString(vu),!Zr&&zh($e)),Ad&&vn.val(yr),We&&Qe&&(rr.change($e),vn.trigger("change",[$e]))}function ul(){Zr&&(da=Td.width(),$i=Td.height(),Lo=Ed.height(),Fh.width(),Ir=Fh.height(),Cd=Pd.height(),Do=Jg.width(),xd=kd.width(),ye||(lr.css("position","absolute"),yt.offset?lr.offset(yt.offset):lr.offset(B(lr,Cc))),cm(),yt.showPalette&&im(),vn.trigger("reflow.spectrum"))}function Wx(){vn.show(),Cc.unbind("click.spectrum touchstart.spectrum"),lr.remove(),du.remove(),e[Md.id]=null}function Kx(We,$e){if(We===n)return a.extend({},yt);if($e===n)return yt[We];yt[We]=$e,We==="preferredFormat"&&(vu=yt.preferredFormat),Hh()}function Gx(){Rh=!1,vn.attr("disabled",!1),Cc.removeClass("sp-disabled")}function fm(){rs(),Rh=!0,vn.attr("disabled",!0),Cc.addClass("sp-disabled")}function $x(We){yt.offset=We,ul()}Hx();var Md={show:Gh,hide:rs,toggle:am,reflow:ul,option:Kx,enable:Gx,disable:fm,offset:$x,set:function(We){sl(We),ll()},get:ri,destroy:Wx,container:lr};return Md.id=e.push(Md)-1,Md}function B(St,$t){for(var yt=$t[0],ye=St[0],xe=ye.parentElement,Le=yt.getBoundingClientRect(),Je=ye.offsetWidth,rr=ye.offsetHeight,Ze={top:0,left:0,width:yt.offsetWidth,height:yt.offsetHeight};yt&&(Ze.top+=yt.offsetTop-yt.scrollTop,Ze.left+=yt.offsetLeft-yt.scrollLeft,!(yt===xe||!xe.contains(yt.offsetParent)));)yt=yt.offsetParent;return Le.right+Je>window.innerWidth-window.scrollX&&Le.right-Je>0&&(Ze.left-=Je-Ze.width),Le.bottom+rr<window.innerHeight-window.scrollY?Ze.top+=Ze.height:Ze.top-=rr,Ze}function J(){}function ht(St){St.stopPropagation()}function bt(St,$t){var yt=Array.prototype.slice,ye=yt.call(arguments,2);return function(){return St.apply($t,ye.concat(yt.call(arguments)))}}function wt(St,$t,yt,ye){$t=$t||function(){},yt=yt||function(){},ye=ye||function(){};var xe=document,Le=!1,Je={},rr=0,Ze=0,Zr="ontouchstart"in window,hn={};hn.selectstart=sn,hn.dragstart=sn,hn["touchmove mousemove"]=da,hn["touchend mouseup"]=Lo;function sn(Ir){Ir.stopPropagation&&Ir.stopPropagation(),Ir.preventDefault&&Ir.preventDefault(),Ir.returnValue=!1}function da(Ir){if(Le){if(r&&xe.documentMode<9&&!Ir.button)return Lo();var Do=Ir&&Ir.touches&&Ir.touches[0],xd=Do&&Do.pageX||Ir.pageX,Cd=Do&&Do.pageY||Ir.pageY,il=Math.max(0,Math.min(xd-Je.left,Ze)),ol=Math.max(0,Math.min(Cd-Je.top,rr));Zr&&sn(Ir),$t.apply(St,[il,ol,Ir])}}function $i(Ir){var Do=Ir.which?Ir.which==3:Ir.button==2;!Do&&!Le&&yt.apply(St,arguments)!==!1&&(Le=!0,rr=a(St).height(),Ze=a(St).width(),Je=a(St).offset(),a(xe).bind(hn),a(xe.body).addClass("sp-dragging"),da(Ir),sn(Ir))}function Lo(){Le&&(a(xe).unbind(hn),a(xe.body).removeClass("sp-dragging"),setTimeout(function(){ye.apply(St,arguments)},0)),Le=!1}a(St).bind("touchstart mousedown",$i)}function Vt(St,$t,yt){var ye;return function(){var xe=this,Le=arguments,Je=function(){ye=null,St.apply(xe,Le)};ye||(ye=setTimeout(Je,$t))}}function Xt(){return a.fn.spectrum.inputTypeColorSupport()}var te="spectrum.id";a.fn.spectrum=function(St,$t){if(typeof St=="string"){var yt=this,ye=Array.prototype.slice.call(arguments,1);return this.each(function(){var xe=e[a(this).data(te)];if(xe){var Le=xe[St];if(!Le)throw new Error("Spectrum: no such method: '"+St+"'");St=="get"?yt=xe.get():St=="container"?yt=xe.container:St=="option"?yt=xe.option.apply(xe,ye):St=="destroy"?(xe.destroy(),a(this).removeData(te)):Le.apply(xe,ye)}}),yt}return this.spectrum("destroy").each(function(){var xe=a.extend({},St,a(this).data()),Le=E(this,xe);a(this).data(te,Le.id)})},a.fn.spectrum.load=!0,a.fn.spectrum.loadOpts={},a.fn.spectrum.draggable=wt,a.fn.spectrum.defaults=t,a.fn.spectrum.inputTypeColorSupport=function St(){if(typeof St._cachedResult>"u"){var $t=a("<input type='color'/>")[0];St._cachedResult=$t.type==="color"&&$t.value!==""}return St._cachedResult},a.spectrum={},a.spectrum.localization={},a.spectrum.palettes={},a.fn.spectrum.processNativeColorInputs=function(){var St=a("input[type=color]");St.length&&!Xt()&&St.spectrum({preferredFormat:"hex6"})};var ve=/^[\s,#]+/,Ee=/\s+$/,Re=0,ze=Math,be=ze.round,He=ze.min,qe=ze.max,gr=ze.random,Pe=function(St,$t){if(St=St||"",$t=$t||{},St instanceof Pe)return St;if(!(this instanceof Pe))return new Pe(St,$t);var yt=ei(St);this._originalInput=St,this._r=yt.r,this._g=yt.g,this._b=yt.b,this._a=yt.a,this._roundA=be(100*this._a)/100,this._format=$t.format||yt.format,this._gradientType=$t.gradientType,this._r<1&&(this._r=be(this._r)),this._g<1&&(this._g=be(this._g)),this._b<1&&(this._b=be(this._b)),this._ok=yt.ok,this._tc_id=Re++};Pe.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var St=this.toRgb();return(St.r*299+St.g*587+St.b*114)/1e3},setAlpha:function(St){return this._a=Yg(St),this._roundA=be(100*this._a)/100,this},toHsv:function(){var St=Ao(this._r,this._g,this._b);return{h:St.h*360,s:St.s,v:St.v,a:this._a}},toHsvString:function(){var St=Ao(this._r,this._g,this._b),$t=be(St.h*360),yt=be(St.s*100),ye=be(St.v*100);return this._a==1?"hsv("+$t+", "+yt+"%, "+ye+"%)":"hsva("+$t+", "+yt+"%, "+ye+"%, "+this._roundA+")"},toHsl:function(){var St=cu(this._r,this._g,this._b);return{h:St.h*360,s:St.s,l:St.l,a:this._a}},toHslString:function(){var St=cu(this._r,this._g,this._b),$t=be(St.h*360),yt=be(St.s*100),ye=be(St.l*100);return this._a==1?"hsl("+$t+", "+yt+"%, "+ye+"%)":"hsla("+$t+", "+yt+"%, "+ye+"%, "+this._roundA+")"},toHex:function(St){return rl(this._r,this._g,this._b,St)},toHexString:function(St){return"#"+this.toHex(St)},toHex8:function(){return Ja(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:be(this._r),g:be(this._g),b:be(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+be(this._r)+", "+be(this._g)+", "+be(this._b)+")":"rgba("+be(this._r)+", "+be(this._g)+", "+be(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:be(Ur(this._r,255)*100)+"%",g:be(Ur(this._g,255)*100)+"%",b:be(Ur(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+be(Ur(this._r,255)*100)+"%, "+be(Ur(this._g,255)*100)+"%, "+be(Ur(this._b,255)*100)+"%)":"rgba("+be(Ur(this._r,255)*100)+"%, "+be(Ur(this._g,255)*100)+"%, "+be(Ur(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ax[rl(this._r,this._g,this._b,!0)]||!1},toFilter:function(St){var $t="#"+Ja(this._r,this._g,this._b,this._a),yt=$t,ye=this._gradientType?"GradientType = 1, ":"";if(St){var xe=Pe(St);yt=xe.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+ye+"startColorstr="+$t+",endColorstr="+yt+")"},toString:function(St){var $t=!!St;St=St||this._format;var yt=!1,ye=this._a<1&&this._a>=0,xe=!$t&&ye&&(St==="hex"||St==="hex6"||St==="hex3"||St==="name");return xe?St==="name"&&this._a===0?this.toName():this.toRgbString():(St==="rgb"&&(yt=this.toRgbString()),St==="prgb"&&(yt=this.toPercentageRgbString()),(St==="hex"||St==="hex6")&&(yt=this.toHexString()),St==="hex3"&&(yt=this.toHexString(!0)),St==="hex8"&&(yt=this.toHex8String()),St==="name"&&(yt=this.toName()),St==="hsl"&&(yt=this.toHslString()),St==="hsv"&&(yt=this.toHsvString()),yt||this.toHexString())},_applyModification:function(St,$t){var yt=St.apply(null,[this].concat([].slice.call($t)));return this._r=yt._r,this._g=yt._g,this._b=yt._b,this.setAlpha(yt._a),this},lighten:function(){return this._applyModification(bx,arguments)},brighten:function(){return this._applyModification(wx,arguments)},darken:function(){return this._applyModification(xx,arguments)},desaturate:function(){return this._applyModification(Qa,arguments)},saturate:function(){return this._applyModification(yx,arguments)},greyscale:function(){return this._applyModification(_x,arguments)},spin:function(){return this._applyModification(Cx,arguments)},_applyCombination:function(St,$t){return St.apply(null,[this].concat([].slice.call($t)))},analogous:function(){return this._applyCombination(Px,arguments)},complement:function(){return this._applyCombination(Sx,arguments)},monochromatic:function(){return this._applyCombination(kx,arguments)},splitcomplement:function(){return this._applyCombination(Ex,arguments)},triad:function(){return this._applyCombination(Ox,arguments)},tetrad:function(){return this._applyCombination(Tx,arguments)}},Pe.fromRatio=function(St,$t){if(typeof St=="object"){var yt={};for(var ye in St)St.hasOwnProperty(ye)&&(ye==="a"?yt[ye]=St[ye]:yt[ye]=yc(St[ye]));St=yt}return Pe(St,$t)};function ei(St){var $t={r:0,g:0,b:0},yt=1,ye=!1,xe=!1;return typeof St=="string"&&(St=Rx(St)),typeof St=="object"&&(St.hasOwnProperty("r")&&St.hasOwnProperty("g")&&St.hasOwnProperty("b")?($t=mc(St.r,St.g,St.b),ye=!0,xe=String(St.r).substr(-1)==="%"?"prgb":"rgb"):St.hasOwnProperty("h")&&St.hasOwnProperty("s")&&St.hasOwnProperty("v")?(St.s=yc(St.s),St.v=yc(St.v),$t=el(St.h,St.s,St.v),ye=!0,xe="hsv"):St.hasOwnProperty("h")&&St.hasOwnProperty("s")&&St.hasOwnProperty("l")&&(St.s=yc(St.s),St.l=yc(St.l),$t=fu(St.h,St.s,St.l),ye=!0,xe="hsl"),St.hasOwnProperty("a")&&(yt=St.a)),yt=Yg(yt),{ok:ye,format:St.format||xe,r:He(255,qe($t.r,0)),g:He(255,qe($t.g,0)),b:He(255,qe($t.b,0)),a:yt}}function mc(St,$t,yt){return{r:Ur(St,255)*255,g:Ur($t,255)*255,b:Ur(yt,255)*255}}function cu(St,$t,yt){St=Ur(St,255),$t=Ur($t,255),yt=Ur(yt,255);var ye=qe(St,$t,yt),xe=He(St,$t,yt),Le,Je,rr=(ye+xe)/2;if(ye==xe)Le=Je=0;else{var Ze=ye-xe;switch(Je=rr>.5?Ze/(2-ye-xe):Ze/(ye+xe),ye){case St:Le=($t-yt)/Ze+($t<yt?6:0);break;case $t:Le=(yt-St)/Ze+2;break;case yt:Le=(St-$t)/Ze+4;break}Le/=6}return{h:Le,s:Je,l:rr}}function fu(St,$t,yt){var ye,xe,Le;St=Ur(St,360),$t=Ur($t,100),yt=Ur(yt,100);function Je(Zr,hn,sn){return sn<0&&(sn+=1),sn>1&&(sn-=1),sn<1/6?Zr+(hn-Zr)*6*sn:sn<1/2?hn:sn<2/3?Zr+(hn-Zr)*(2/3-sn)*6:Zr}if($t===0)ye=xe=Le=yt;else{var rr=yt<.5?yt*(1+$t):yt+$t-yt*$t,Ze=2*yt-rr;ye=Je(Ze,rr,St+1/3),xe=Je(Ze,rr,St),Le=Je(Ze,rr,St-1/3)}return{r:ye*255,g:xe*255,b:Le*255}}function Ao(St,$t,yt){St=Ur(St,255),$t=Ur($t,255),yt=Ur(yt,255);var ye=qe(St,$t,yt),xe=He(St,$t,yt),Le,Je,rr=ye,Ze=ye-xe;if(Je=ye===0?0:Ze/ye,ye==xe)Le=0;else{switch(ye){case St:Le=($t-yt)/Ze+($t<yt?6:0);break;case $t:Le=(yt-St)/Ze+2;break;case yt:Le=(St-$t)/Ze+4;break}Le/=6}return{h:Le,s:Je,v:rr}}function el(St,$t,yt){St=Ur(St,360)*6,$t=Ur($t,100),yt=Ur(yt,100);var ye=ze.floor(St),xe=St-ye,Le=yt*(1-$t),Je=yt*(1-xe*$t),rr=yt*(1-(1-xe)*$t),Ze=ye%6,Zr=[yt,Je,Le,Le,rr,yt][Ze],hn=[rr,yt,yt,Je,Le,Le][Ze],sn=[Le,Le,rr,yt,yt,Je][Ze];return{r:Zr*255,g:hn*255,b:sn*255}}function rl(St,$t,yt,ye){var xe=[nl(be(St).toString(16)),nl(be($t).toString(16)),nl(be(yt).toString(16))];return ye&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0):xe.join("")}function Ja(St,$t,yt,ye){var xe=[nl(Ix(ye)),nl(be(St).toString(16)),nl(be($t).toString(16)),nl(be(yt).toString(16))];return xe.join("")}Pe.equals=function(St,$t){return!St||!$t?!1:Pe(St).toRgbString()==Pe($t).toRgbString()},Pe.random=function(){return Pe.fromRatio({r:gr(),g:gr(),b:gr()})};function Qa(St,$t){$t=$t===0?0:$t||10;var yt=Pe(St).toHsl();return yt.s-=$t/100,yt.s=wd(yt.s),Pe(yt)}function yx(St,$t){$t=$t===0?0:$t||10;var yt=Pe(St).toHsl();return yt.s+=$t/100,yt.s=wd(yt.s),Pe(yt)}function _x(St){return Pe(St).desaturate(100)}function bx(St,$t){$t=$t===0?0:$t||10;var yt=Pe(St).toHsl();return yt.l+=$t/100,yt.l=wd(yt.l),Pe(yt)}function wx(St,$t){$t=$t===0?0:$t||10;var yt=Pe(St).toRgb();return yt.r=qe(0,He(255,yt.r-be(255*-($t/100)))),yt.g=qe(0,He(255,yt.g-be(255*-($t/100)))),yt.b=qe(0,He(255,yt.b-be(255*-($t/100)))),Pe(yt)}function xx(St,$t){$t=$t===0?0:$t||10;var yt=Pe(St).toHsl();return yt.l-=$t/100,yt.l=wd(yt.l),Pe(yt)}function Cx(St,$t){var yt=Pe(St).toHsl(),ye=(be(yt.h)+$t)%360;return yt.h=ye<0?360+ye:ye,Pe(yt)}function Sx(St){var $t=Pe(St).toHsl();return $t.h=($t.h+180)%360,Pe($t)}function Ox(St){var $t=Pe(St).toHsl(),yt=$t.h;return[Pe(St),Pe({h:(yt+120)%360,s:$t.s,l:$t.l}),Pe({h:(yt+240)%360,s:$t.s,l:$t.l})]}function Tx(St){var $t=Pe(St).toHsl(),yt=$t.h;return[Pe(St),Pe({h:(yt+90)%360,s:$t.s,l:$t.l}),Pe({h:(yt+180)%360,s:$t.s,l:$t.l}),Pe({h:(yt+270)%360,s:$t.s,l:$t.l})]}function Ex(St){var $t=Pe(St).toHsl(),yt=$t.h;return[Pe(St),Pe({h:(yt+72)%360,s:$t.s,l:$t.l}),Pe({h:(yt+216)%360,s:$t.s,l:$t.l})]}function Px(St,$t,yt){$t=$t||6,yt=yt||30;var ye=Pe(St).toHsl(),xe=360/yt,Le=[Pe(St)];for(ye.h=(ye.h-(xe*$t>>1)+720)%360;--$t;)ye.h=(ye.h+xe)%360,Le.push(Pe(ye));return Le}function kx(St,$t){$t=$t||6;for(var yt=Pe(St).toHsv(),ye=yt.h,xe=yt.s,Le=yt.v,Je=[],rr=1/$t;$t--;)Je.push(Pe({h:ye,s:xe,v:Le})),Le=(Le+rr)%1;return Je}Pe.mix=function(St,$t,yt){yt=yt===0?0:yt||50;var ye=Pe(St).toRgb(),xe=Pe($t).toRgb(),Le=yt/100,Je=Le*2-1,rr=xe.a-ye.a,Ze;Je*rr==-1?Ze=Je:Ze=(Je+rr)/(1+Je*rr),Ze=(Ze+1)/2;var Zr=1-Ze,hn={r:xe.r*Ze+ye.r*Zr,g:xe.g*Ze+ye.g*Zr,b:xe.b*Ze+ye.b*Zr,a:xe.a*Le+ye.a*(1-Le)};return Pe(hn)},Pe.readability=function(St,$t){var yt=Pe(St),ye=Pe($t),xe=yt.toRgb(),Le=ye.toRgb(),Je=yt.getBrightness(),rr=ye.getBrightness(),Ze=Math.max(xe.r,Le.r)-Math.min(xe.r,Le.r)+Math.max(xe.g,Le.g)-Math.min(xe.g,Le.g)+Math.max(xe.b,Le.b)-Math.min(xe.b,Le.b);return{brightness:Math.abs(Je-rr),color:Ze}},Pe.isReadable=function(St,$t){var yt=Pe.readability(St,$t);return yt.brightness>125&&yt.color>500},Pe.mostReadable=function(St,$t){for(var yt=null,ye=0,xe=!1,Le=0;Le<$t.length;Le++){var Je=Pe.readability(St,$t[Le]),rr=Je.brightness>125&&Je.color>500,Ze=3*(Je.brightness/125)+Je.color/500;(rr&&!xe||rr&&xe&&Ze>ye||!rr&&!xe&&Ze>ye)&&(xe=rr,ye=Ze,yt=Pe($t[Le]))}return yt};var jh=Pe.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ax=Pe.hexNames=Mx(jh);function Mx(St){var $t={};for(var yt in St)St.hasOwnProperty(yt)&&($t[St[yt]]=yt);return $t}function Yg(St){return St=parseFloat(St),(isNaN(St)||St<0||St>1)&&(St=1),St}function Ur(St,$t){Lx(St)&&(St="100%");var yt=Dx(St);return St=He($t,qe(0,parseFloat(St))),yt&&(St=parseInt(St*$t,10)/100),ze.abs(St-$t)<1e-6?1:St%$t/parseFloat($t)}function wd(St){return He(1,qe(0,St))}function Mo(St){return parseInt(St,16)}function Lx(St){return typeof St=="string"&&St.indexOf(".")!=-1&&parseFloat(St)===1}function Dx(St){return typeof St=="string"&&St.indexOf("%")!=-1}function nl(St){return St.length==1?"0"+St:""+St}function yc(St){return St<=1&&(St=St*100+"%"),St}function Ix(St){return Math.round(parseFloat(St)*255).toString(16)}function jx(St){return Mo(St)/255}var fa=function(){var St="[-\\+]?\\d+%?",$t="[-\\+]?\\d*\\.\\d+%?",yt="(?:"+$t+")|(?:"+St+")",ye="[\\s|\\(]+("+yt+")[,|\\s]+("+yt+")[,|\\s]+("+yt+")\\s*\\)?",xe="[\\s|\\(]+("+yt+")[,|\\s]+("+yt+")[,|\\s]+("+yt+")[,|\\s]+("+yt+")\\s*\\)?";return{rgb:new RegExp("rgb"+ye),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+ye),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+ye),hsva:new RegExp("hsva"+xe),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Rx(St){St=St.replace(ve,"").replace(Ee,"").toLowerCase();var $t=!1;if(jh[St])St=jh[St],$t=!0;else if(St=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var yt;return(yt=fa.rgb.exec(St))?{r:yt[1],g:yt[2],b:yt[3]}:(yt=fa.rgba.exec(St))?{r:yt[1],g:yt[2],b:yt[3],a:yt[4]}:(yt=fa.hsl.exec(St))?{h:yt[1],s:yt[2],l:yt[3]}:(yt=fa.hsla.exec(St))?{h:yt[1],s:yt[2],l:yt[3],a:yt[4]}:(yt=fa.hsv.exec(St))?{h:yt[1],s:yt[2],v:yt[3]}:(yt=fa.hsva.exec(St))?{h:yt[1],s:yt[2],v:yt[3],a:yt[4]}:(yt=fa.hex8.exec(St))?{a:jx(yt[1]),r:Mo(yt[2]),g:Mo(yt[3]),b:Mo(yt[4]),format:$t?"name":"hex8"}:(yt=fa.hex6.exec(St))?{r:Mo(yt[1]),g:Mo(yt[2]),b:Mo(yt[3]),format:$t?"name":"hex"}:(yt=fa.hex3.exec(St))?{r:Mo(yt[1]+""+yt[1]),g:Mo(yt[2]+""+yt[2]),b:Mo(yt[3]+""+yt[3]),format:$t?"name":"hex"}:!1}window.tinycolor=Pe,a(function(){a.fn.spectrum.load&&a.fn.spectrum.processNativeColorInputs()})}var Eo=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pn=function(a){Eo(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.ppfx||"";return e.opts=t,e.ppfx=r,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return n.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},n.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.setValue=function(t,e){var r=this.model,i=t||r.get("defaults"),l=this.getInputEl();l&&(l.value=i)},n.prototype.handleModelChange=function(t,e,r){this.setValue(e,r)},n.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},n.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},n.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,r=t.opts,i=r.type||"text",l=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,M.default)('<input type="'.concat(i,'" placeholder="').concat(l,'">'))}return this.inputEl.get(0)},n.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},n}(b.G7);const Xn=pn;pn.prototype.events={change:"handleChange"};var an=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aa=function(){return aa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},aa.apply(this,arguments)};M.default&&Za(M.default);var li=function(a){var n=a.getFormat()==="name"&&a.toName(),t=a.getAlpha()==1?a.toHexString():a.toRgbString();return n||t.replace(/ /g,"")},sa=function(a){an(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},n.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},n.prototype.remove=function(){return a.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},n.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,u.isUndefined)(e)||this.__onInputChange(e)},n.prototype.__onInputChange=function(t){var e=this,r=e.model,i=e.opts,l=i.onChange,d=t,p=this.getColorEl();if(p){p.spectrum("set",d);var v=p.spectrum("get"),m=d&&li(v);m&&(d=m)}l?l(d):r.set({value:d},{fromInput:1})},n.prototype.setValue=function(t,e){e===void 0&&(e={});var r=this.model,i=(0,u.isUndefined)(e.def)?r.get("defaults"):e.def,l=(0,u.isUndefined)(t)?(0,u.isUndefined)(i)?"":i:t,d=this.getInputEl(),p=this.getColorEl(),v=l!="none"?l:"";d.value=l,p.get(0).style.backgroundColor=v,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(p.spectrum("set",v),this.noneColor=l=="none",this.movedColor=v)},n.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,r=e.em,i=e.model,l=e.opts,d=this.ppfx,p=l.onChange,v=(0,M.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),m=v.get(0).style,E=r&&r.getConfig&&r.getConfig().colorPicker||{};this.movedColor="";var B=!1,J;this.$el.find("[data-colorp-c]").append(v);var ht=function(bt,wt){wt===void 0&&(wt=!0),p?p(bt,!wt):(wt&&i.setValueFromInput(0,!1),i.setValueFromInput(bt,wt))};v.spectrum(aa(aa(aa({color:i.getValue()||!1,containerClassName:"".concat(d,"one-bg ").concat(d,"two-color ").concat(d,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"",palette:[]},E),i.get("colorPicker")||{}),{move:function(bt){var wt=li(bt);t.movedColor=wt,m.backgroundColor=wt,ht(wt,!1)},change:function(bt){B=!0;var wt=li(bt);m.backgroundColor=wt,ht(wt),t.noneColor=!1},show:function(bt){B=!1,t.movedColor="",J=p?i.getValue({noDefault:!0}):li(bt)},hide:function(){!B&&(J||p)&&(t.noneColor&&(J=""),m.backgroundColor=J,v.spectrum("set",J),ht(J,!1))}})),r&&r.on&&this.listenTo(r,"component:selected",function(){t.movedColor&&ht(t.movedColor),B=!0,t.movedColor="",v.spectrum("hide")}),this.colorEl=v}return this.colorEl},n.prototype.render=function(){return Xn.prototype.render.call(this),this.getColorEl(),this},n}(Xn);const Po=sa;var An=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qa=function(a){An(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){return""},n.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),r=new Po({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=r.render();i.setValue(e,{fromTarget:1}),this.input=i.el}return this.input},n}(br);const lc=qa;var n0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dv=function(a){n0(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;return(0,u.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return n.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},n.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},n.prototype.setValue=function(t,e){var r=e||{},i=this.validateInputValue(t,{deepCheck:1}),l={value:i.value,unit:""};(i.unit||i.force)&&(l.unit=i.unit),this.model.set(l,r),r.silent&&this.handleModelChange()},n.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},n.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},n.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},n.prototype.elementUpdated=function(){this.model.trigger("el:change")},n.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},n.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var r=['<option value="" disabled hidden>-</option>'];e.forEach(function(l){var d=l==t.get("unit")?"selected":"";r.push("<option ".concat(d,">").concat(l,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(r.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},n.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(t.get("value"));this.setValue(this.normalizeValue(r+e)),this.elementUpdated()},n.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),r=parseFloat(t.get("value"));this.setValue(this.normalizeValue(r-e)),this.elementUpdated()},n.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,pe.on)(this.doc,"mousemove",this.moveIncrement),(0,pe.on)(this.doc,"mouseup",this.upIncrement)},n.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,r=e.get("step"),i=this.current,l=this.normalizeValue(i.val+(i.y-t.pageY)*r),d=this.validateInputValue(l),p=d.value,v=d.unit;return this.prValue=p,e.set({value:p,unit:v},{avoidStore:1}),!1},n.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,pe.S1)(this.doc,"mouseup",this.upIncrement),(0,pe.S1)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var r=this.prValue-e;t.set("value",r,{avoidStore:1}).set("value",r+e),this.elementUpdated()}},n.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var r=this.model,i=r.get("step"),l=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var d=i.toString().split(".")[1];l=d?d.length:0}return l?parseFloat(t.toFixed(l)):t},n.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var r=0,i=e||{},l=this.model,d="",p=(0,u.isUndefined)(t)?d:t,v=e.units||l.get("units")||[],m=l.get("unit")||v.length&&v[0]||"",E=(0,u.isUndefined)(e.max)?l.get("max"):e.max,B=(0,u.isUndefined)(e.min)?l.get("min"):e.min,J=!!l.get("limitlessMax"),ht=!!l.get("limitlessMin");if(i.deepCheck){var bt=l.get("fixedValues")||[];if(p===""&&(m=""),p){var wt=new RegExp("^"+bt.join("|"),"g");if(bt.length&&wt.test(p))p=p.match(wt)[0],m="",r=1;else{var Vt=p+"";p+="",p=parseFloat(p.replace(",",".")),p=isNaN(p)?d:p;var Xt=Vt.replace(p,"");(0,u.indexOf)(v,Xt)>=0&&(m=Xt)}}}return!J&&!(0,u.isUndefined)(E)&&E!==""&&(p=p>E?E:p),!ht&&!(0,u.isUndefined)(B)&&B!==""&&(p=p<B?B:p),{force:r,value:p,unit:m}},n.prototype.render=function(){Xn.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},n}(Xn);const Iv=Dv;Dv.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var i0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),o0=function(a){i0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,r=e.value,i=e.unit;return!(0,u.isUndefined)(r)&&r!==""?r+i:t.get("default")},n.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,r=t.model,i=this.getModelValue(),l=new Iv({contClass:"".concat(e,"field-int"),type:"number",model:r,ppfx:e});l.render(),this.$input=l.inputEl,this.$unit=l.unitEl,r.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=l.el}return this.input},n}(br);const a0=o0;var s0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),l0=function(a){s0(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return n.prototype.templateInput=function(){var t=this,e=t.ppfx,r=t.clsField;return'<div class="'.concat(r,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},n.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,r=t.em,i=e.get("name"),l=e.get("options")||[],d=[],p="<select>";l.forEach(function(E){var B="",J,ht,bt;(0,u.isString)(E)?(J=E,ht=E):(J=E.name||E.label||E.value,ht="".concat((0,u.isUndefined)(E.value)?E.id:E.value).replace(/"/g,"&quot;"),bt=E.style?E.style.replace(/"/g,"&quot;"):"",B+=bt?' style="'.concat(bt,'"'):"");var wt=r.t("traitManager.traits.options.".concat(i,".").concat(ht))||J;p+='<option value="'.concat(ht,'"').concat(B,">").concat(wt,"</option>"),d.push(ht)}),p+="</select>",this.$input=(0,M.default)(p);var v=e.getTargetValue(),m=d.indexOf(v)>=0?v:e.get("default");!(0,u.isUndefined)(m)&&this.$input.val(m)}return this.$input.get(0)},n}(br);const u0=l0;var c0=wr(330),f0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jv="data-categories",Rv="data-no-categories",Fv=function(a){f0(n,a);function n(t,e){var r=a.call(this,t)||this;r.reuseView=!0,r.renderedCategories=new Map,r.itemsView=e;var i=t.config||{};r.config=i;var l=t.editor;r.em=l;var d=i.pStylePrefix||"";return r.ppfx=d,r.pfx=d+i.stylePrefix||"",r.className="".concat(r.pfx,"traits"),r.traitContClass="".concat(d,"traits-c"),r.classNoCat="".concat(d,"traits-empty-c"),r.catsClass="".concat(d,"trait-categories"),r.collection=new Tn([],{em:l}),r.listenTo(l,"component:toggled",r.updatedCollection),r.updatedCollection(),r}return n.prototype.updatedCollection=function(){var t=this,e=t.ppfx,r=t.em,i=r.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=(i==null?void 0:i.traits)||new Tn([],{em:r}),this.render()},n.prototype.add=function(t,e){var r=this,i=r.config,l=r.renderedCategories,d=this.itemView,p=t.get(this.itemType);this.itemsView&&this.itemsView[p]&&(d=this.itemsView[p]);var v=new d({config:i,model:t,attributes:t.get("attributes")}),m=v.render().el,E=t.parent.initCategory(t);if(E){var B=E.getId(),J=this.getCategoriesEl(),ht=l.get(B);!ht&&J&&(ht=new Ef({model:E},i,"trait").render(),l.set(B,ht),J.appendChild(ht.el)),ht==null||ht.append(m);return}e?e.appendChild(m):this.append(m)},n.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(jv,"]"))),this.catsEl},n.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(Rv,"]"))),this.traitsEl},n.prototype.append=function(t){var e=this.getTraitsEl();e==null||e.appendChild(t)},n.prototype.render=function(){var t=this,e=this,r=e.el,i=e.ppfx,l=e.catsClass,d=e.traitContClass,p=e.classNoCat,v=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,r.innerHTML=`
      <div class="`.concat(l,'" ').concat(jv,`></div>
      <div class="`).concat(p," ").concat(d,'" ').concat(Rv,`></div>
    `),this.collection.forEach(function(E){return t.add(E,v)}),this.append(v);var m="".concat(d,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(m),this.rendered=!0,this},n}(c0.Z);const Nv=Fv;Fv.prototype.itemView=br;var d0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),p0=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},h0=function(a){d0(n,a);function n(t){var e=a.call(this,t,"TraitManager",nn)||this;e.TraitsView=Nv,e.events=Vi,e.state=new b.Hn({traits:[]}),e.types={text:br,number:a0,select:u0,checkbox:Vn,color:lc,button:Jr};var r=e,i=r.state,l=r.config,d=r.events,p=l.pStylePrefix;p&&(l.stylePrefix="".concat(p).concat(l.stylePrefix)),(0,u.bindAll)(e,"__onSelect");var v=(0,u.debounce)(function(){return e.__upSel()},0),m=(0,u.debounce)(function(){return e.__onUp()},0);return i.listenTo(t,"component:toggled",v),i.listenTo(t,d.value,m),i.on("change:traits",e.__onSelect),e.debounced=[v,m],e}return n.prototype.select=function(t){var e=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:e}),this.__trgCustom()},n.prototype.getCategories=function(){var t,e=this.getComponent(),r=((t=e==null?void 0:e.traits.categories)===null||t===void 0?void 0:t.models)||[];return p0([],r,!0)},n.prototype.getTraits=function(){return this.getCurrent()},n.prototype.getTraitsByCategory=function(t){return no(t||this.getTraits())},n.prototype.getComponent=function(){return this.state.attributes.component},n.prototype.addType=function(t,e){var r=this.getType("text");this.types[t]=r.extend(e)},n.prototype.getType=function(t){return this.getTypes()[t]},n.prototype.getTypes=function(){return this.types},n.prototype.getTraitsViewer=function(){return this.view},n.prototype.getCurrent=function(){return this.state.get("traits")||[]},n.prototype.render=function(){var t=this.view,e=this.em;return t=new Nv({el:t==null?void 0:t.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},n.prototype.postRender=function(){this.__appendTo()},n.prototype.__onSelect=function(){var t=this,e=t.em,r=t.events,i=t.state,l=i.attributes,d=l.component,p=l.traits;e.trigger(r.select,{component:d,traits:p})},n.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,r=e.em,i=e.events,l=e.__ctn;this.__ctn=l||t.container,r.trigger(i.custom,this.__customData())},n.prototype.__customData=function(){return{container:this.__ctn}},n.prototype.__upSel=function(){this.select(this.em.getSelected())},n.prototype.__onUp=function(){this.select(this.getComponent())},n}(nt);const v0=h0;var g0={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const m0=g0;var y0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_0=function(a){y0(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.items=[],e.opt=t;var r=t.config||{};e.config=r,e.parentView=t.parentView;var i=r.stylePrefix||"",l=r.pStylePrefix||"",d=e.collection;e.listenTo(d,"add",e.addTo),e.listenTo(d,"reset resetNavigator",e.render),e.listenTo(d,"remove",e.removeChildren),e.className="".concat(i,"layers");var p=r.em;if(r.sortable&&!e.opt.sorter){var v=p.Utils;e.opt.sorter=new v.Sorter({container:r.sortContainer||e.el,containerSel:".".concat(e.className),itemSel:".".concat(i,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:l,pfx:i,em:p})}return e.$el.data("collection",d),t.parent&&e.$el.data("model",t.parent),e}return n.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},n.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},n.prototype.addToCollection=function(t,e,r){var i=this,l=i.parentView,d=i.opt,p=i.config,v=i.el,m=d.ItemView,E=d.opened,B=d.module,J=d.level,ht=d.sorter,bt=t.viewLayer||new m({ItemView:m,level:J,model:t,parentView:l,config:p,sorter:ht,opened:E,module:B}),wt=bt.render().el;if(e)e.appendChild(wt);else{var Vt=v,Xt=Vt.childNodes;if((0,u.isUndefined)(r))Vt.appendChild(wt);else{var te=Xt.length==r;te&&r--,te||!Xt.length?Vt.appendChild(wt):Vt.insertBefore(wt,Xt[r])}}return this.items.push(bt),wt},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.G7.prototype.remove.apply(this,t),this.items.map(function(r){return r.remove()}),this},n.prototype.render=function(){var t=this,e=document.createDocumentFragment(),r=this.el;return r.innerHTML="",this.collection.each(function(i){return t.addToCollection(i,e)}),r.appendChild(e),r.className=this.className,this},n}(b.G7);const b0=_0;var nh=wr(790),w0={stylePrefix:"com-",defaults:{},strict:!0};const x0=w0;var C0=wr(713),S0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jf=function(){return Jf=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Jf.apply(this,arguments)},Vv=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Bv=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],Hv={preserveSelected:1},zv=function(a){return function(n){return a.trigger("".concat(jn,":start"),n)}},Uv=function(a){return function(n){return a.trigger(jn,n)}},Wv=function(a,n,t){return t===void 0&&(t={}),function(e,r,i){n.forEach(function(l){return l.set("status",l.get("selectable")?"selected":"")}),a.setSelected(n),n[0].emitUpdate(),a.trigger("".concat(jn,":end"),i),setTimeout(function(){return a.runDefault(Hv)}),(t.altMode||i.cancelled)&&a.set("_cmpDrag",1)}},O0=function(a){S0(n,a);function n(t){var e=a.call(this,t,"Commands",x0)||this;e.CommandAbstract=nh.default,e.defaultCommands={},e.commands={},e.active={},e.events=C0.Z;var r=e.config,i=r.pStylePrefix,l=e.defaultCommands;i&&(r.stylePrefix=i+r.stylePrefix),Object.keys(r.defaults).forEach(function(p){var v=r.defaults[p];v.id&&e.add(v.id,v)}),l["tlb-delete"]={run:function(p){return p.runCommand("core:component-delete")}},l["tlb-clone"]={run:function(p){p.runCommand("core:copy"),p.runCommand("core:paste",{action:"clone-component"})}},l["tlb-move"]={run:function(p,v,m){var E;m===void 0&&(m={});var B=p.getModel(),J=m.event,ht=m.target,bt=ht?[ht]:Vv([],p.getSelectedAll(),!0),wt=bt.map(function(gr){var Pe,ei;return((ei=(Pe=gr.delegate)===null||Pe===void 0?void 0:Pe.move)===null||ei===void 0?void 0:ei.call(Pe,gr))||gr}).filter(Boolean),Vt=wt[wt.length-1],Xt=(J==null?void 0:J.type)==="dragstart",te=["absolute","translate"];if(!(Vt!=null&&Vt.get("draggable")))return B.logWarning("The element is not draggable");var ve=Vt.get("dmode")||B.get("dmode"),Ee=function(){return B.stopDefault(Hv)},Re=(0,u.includes)(te,ve);wt.forEach(function(gr){return gr.trigger("disable",{fromMove:!0})}),Xt?setTimeout(Ee,0):Ee();var ze=zv(B),be=Uv(B),He=Wv(B,wt,{altMode:Re});if(Re)p.runCommand("core:component-drag",{guidesInfo:1,mode:ve,target:Vt,onStart:ze,onDrag:be,onEnd:He,event:J});else{Xt&&J.dataTransfer.setDragImage((E=Vt.view)===null||E===void 0?void 0:E.el,0,0);var qe=p.Commands.get("move-comp");qe.onStart=ze,qe.onDrag=be,qe.onEndMoveFromModel=He,qe.initSorterFromModels(wt)}wt.filter(function(gr){return gr.get("selectable")}).forEach(function(gr){return gr.set("status","freezed-selected")})}},l["core:undo"]=function(p){return p.UndoManager.undo()},l["core:redo"]=function(p){return p.UndoManager.redo()},Bv.forEach(function(p){var v=p[2],m=wr(828)("./".concat(p[1])).default,E="core:".concat(p[0]);l[E]=m,v&&(l[v]=m,["run","stop"].forEach(function(B){t.on("".concat(B,":").concat(v),function(){for(var J=[],ht=0;ht<arguments.length;ht++)J[ht]=arguments[ht];return t.trigger.apply(t,Vv(["".concat(B,":").concat(E)],J,!1))})}))}),r.model=t.Canvas;for(var d in l)e.add(d,l[d]);return e}return n.prototype.add=function(t,e){var r=(0,u.isFunction)(e)?{run:e}:e;return r.stop||(r.noStop=!0),delete r.initialize,r.id=t,this.commands[t]=nh.default.extend(r),this},n.prototype.get=function(t){var e=this.commands[t];return(0,u.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},n.prototype.extend=function(t,e){e===void 0&&(e={});var r=this.get(t);if(r){var i=Jf(Jf({},r.constructor.prototype),e);this.add(t,i);var l=Bv.filter(function(d){return"core:".concat(d[0])===t&&d[2]})[0];l&&this.add(l[2],i)}return this},n.prototype.has=function(t){return!!this.commands[t]},n.prototype.getAll=function(){return this.commands},n.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},n.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},n.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},n.prototype.getActive=function(){return this.active},n.prototype.runCommand=function(t,e){e===void 0&&(e={});var r;if(t&&t.run){var i=this,l=i.em,d=i.config,p=t.id,v=l.Editor;(!this.isActive(p)||e.force||!d.strict)&&(r=v&&t.callRun(v,e),p&&t.stop&&!t.noStop&&!e.abort&&(this.active[p]=r))}return r},n.prototype.stopCommand=function(t,e){e===void 0&&(e={});var r;if(t&&t.run){var i=this,l=i.em,d=i.config,p=t.id,v=l.Editor;(this.isActive(p)||e.force||!d.strict)&&(p&&delete this.active[p],r=t.callStop(v,e))}return r},n.prototype.create=function(t){t.stop||(t.noStop=!0);var e=nh.default.extend(t);return new e(this.config)},n.prototype.__onRun=function(t,e){var r=this,i=r.em,l=r.events;i.on("".concat(l.runCommand).concat(t),e)},n.prototype.__onStop=function(t,e){var r=this,i=r.em,l=r.events;i.on("".concat(l.stopCommand).concat(t),e)},n.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},n}(nt);const T0=O0;var E0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kv="contentEditable",Qf="data-toggle-move",P0=function(a){E0(n,a);function n(t){var e=a.call(this,t)||this;(0,u.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var r=e,i=r.model,l=r.pfx,d=r.ppfx,p=i.get("type")||"default";return e.className="".concat(l,"layer ").concat(l,"layer__t-").concat(p," no-select ").concat(d,"two-color"),e.inputNameCls="".concat(d,"layer-name"),e.clsTitleC="".concat(l,"layer-title-c"),e.clsTitle="".concat(l,"layer-title"),e.clsCaret="".concat(l,"layer-caret"),e.clsCount="".concat(l,"layer-count"),e.clsMove="".concat(l,"layer-move"),e.clsChildren="".concat(l,"layer-children"),e.clsNoChild="".concat(l,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return n.prototype.events=function(){var t;return t={},t["mousedown [".concat(Qf,"]")]="startSort",t["touchstart [".concat(Qf,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},n.prototype.template=function(t){var e=this,r=e.pfx,i=e.ppfx,l=e.config,d=e.clsNoEdit,p=e.module,v=e.opt,m=e.em,E=l.hidable,B=p.getComponents(t).length,J=B?"":this.clsNoChild,ht="".concat(this.clsTitle," ").concat(J),bt="".concat(this.clsTitleC),wt="".concat(this.inputNameCls," ").concat(d," ").concat(i,"no-app"),Vt=v.level||0,Xt="".concat(Vt*10,"px"),te=t.getName(),ve=t.getIcon(),Ee="".concat(r,"layer"),Re=(m==null?void 0:m.getConfig()).icons,ze=Re,be=ze.move,He=ze.eye,qe=ze.eyeOff,gr=ze.chevron;return`
      <div class="`.concat(r,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(r,`layer-item-left">
          `).concat(E?'<i class="'.concat(r,`layer-vis" data-toggle-visible>
                <i class="`).concat(r,'layer-vis-on">').concat(He,`</i>
                <i class="`).concat(r,'layer-vis-off">').concat(qe,`</i>
              </i>`):"",`
          <div class="`).concat(bt,`">
            <div class="`).concat(ht,'" style="padding-left: ').concat(Xt,`">
              <div class="`).concat(r,'layer-title-inn" title="').concat(te,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(gr,`</i>
                  `).concat(ve?'<span class="'.concat(Ee,'__icon">').concat(ve,"</span>"):"",`
                <span class="`).concat(wt,'" data-name>').concat(te,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(r,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(B||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Qf,">").concat(be||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(n.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),n.prototype.initComponent=function(){var t=this,e=this,r=e.model,i=e.config,l=i.onInit,d=r.components();this.listenTo(d,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(p){return t.listenTo(r,p[0],p[1])}),this.$el.data("model",r),this.$el.data("collection",d),r.viewLayer=this,l.bind(this)({component:r,render:this.__render,listenTo:this.listenTo})},n.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},n.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},n.prototype.updateVisibility=function(){var t=this,e=t.pfx,r=t.model,i=t.module,l="".concat(e,"layer-hidden"),d=!i.isVisible(r),p=d?"addClass":"removeClass";this.$el[p](l),this.getVisibilityEl()[p]("".concat(e,"layer-off"))},n.prototype.updateMove=function(){var t=this,e=t.model,r=t.config,i=this.getItemContainer().find("[".concat(Qf,"]"))[0];if(i){var l=e.get("draggable")&&r.sortable;i.style.display=l?"":"none"}},n.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var e=this,r=e.module,i=e.model;r.setVisible(i,!r.isVisible(i))},n.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,r=e.em,i=e.$el,l=e.clsNoEdit,d=e.clsEdit,p=this.getInputName();p[Kv]="true",p.focus(),document.execCommand("selectAll",!1),r.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(l).addClass(d)},n.prototype.handleEditKey=function(t){t.stopPropagation(),((0,pe.kl)(t)||(0,pe.r$)(t))&&this.handleEditEnd(t)},n.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,r=e.em,i=e.$el,l=e.clsNoEdit,d=e.clsEdit,p=e.model,v=this.getInputName(),m=v.textContent;v.scrollLeft=0,v[Kv]="false",p.setName(m),r.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(l).removeClass(d),this.updateName()},n.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},n.prototype.updateOpening=function(){var t=this,e=t.$el,r=t.model,i=t.pfx,l="open",d="".concat(i,"layer-open"),p=this.getCaret();this.module.isOpen(r)?(e.addClass(l),p.addClass(d)):(e.removeClass(l),p.removeClass(d))},n.prototype.toggleOpening=function(t){var e=this,r=e.model,i=e.module;t==null||t.stopImmediatePropagation(),r.get("components").length&&i.setOpen(r,!i.isOpen(r))},n.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{selected:!0},{event:t})},n.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{hovered:!0})},n.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this,r=e.module,i=e.model;r.setLayerData(i,{hovered:!1})},n.prototype.startSort=function(t){var e,r,i;t.stopPropagation();var l=this,d=l.em,p=l.sorter,v=l.model;if(!(t.button&&t.button!==0)&&p){var m=((r=(e=v.delegate)===null||e===void 0?void 0:e.move)===null||r===void 0?void 0:r.call(e,v))||v;p.onStart=zv(d),p.onMoveClb=Uv(d),p.onEndMove=Wv(d,[m]);var E=((i=m.viewLayer)===null||i===void 0?void 0:i.el)||t.target;p.startSort(E)}},n.prototype.updateStatus=function(){Ar.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},n.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},n.prototype.checkChildren=function(){var t=this,e=t.model,r=t.clsNoChild,i=t.module,l=i.getComponents(e).length,d=this.getItemContainer(),p=d.find(".".concat(this.clsTitle)),v=d.find("[data-count]");p[l?"removeClass":"addClass"](r),v.html("".concat(l||"")),!l&&i.setOpen(e,!1)},n.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},n.prototype.setRoot=function(t){var e,r=(0,u.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;r&&(this.stopListening(),this.model=r,this.initComponent(),this._rendered&&this.render())},n.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},n.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},n.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.G7.prototype.remove.apply(this,t),this.__clearItems(),this},n.prototype.render=function(){var t=this,e=t.model,r=t.config,i=t.pfx,l=t.ppfx,d=t.opt,p=t.sorter;this.__clearItems();var v=d.opened,m=d.module,E=d.ItemView,B=!m.__isLayerable(e),J=this.$el.empty(),ht=d.level+1;delete this.inputName,this.items=new b0({ItemView:E,collection:e.get("components"),config:r,sorter:p,opened:v,parentView:this,parent:e,level:ht,module:m});var bt=this.items.render().$el;return!r.showWrapper&&ht===1?J.append(bt):(J.html(this.template(e)),J.find(".".concat(this.clsChildren)).append(bt)),!m.isVisible(e)&&(this.className+=" ".concat(i,"hide")),B&&(this.className+=" ".concat(l,"hidden")),J.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},n.prototype.__render=function(){var t=this,e=t.model,r=t.config,i=t.el,l=r.onRender,d={component:e,el:i};l.bind(this)(d),this.em.trigger("layer:render",d)},n}(b.G7);const k0=P0;var A0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ih=function(){return ih=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ih.apply(this,arguments)},Gv="layer",oh="".concat(Gv,":"),$v="".concat(oh,"root"),Zv="".concat(oh,"component"),M0="".concat(oh,"custom"),L0={all:Gv,root:$v,component:Zv,custom:M0},ah={mediaText:""},D0=["open","status","locked","custom-name","components","classes"].map(function(a){return"".concat(he.g.update,":").concat(a)}).join(" "),I0=function(a){return a===void 0&&(a={}),(a.display||"").trim().indexOf("none")===0},j0=function(a){A0(n,a);function n(t){var e=a.call(this,t,"LayerManager",m0)||this;return e.events=L0,(0,u.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new W.Z(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return n.prototype.onLoad=function(){var t=this,e=this,r=e.em,i=e.config,l=e.model;l.listenTo(r,"component:selected",this.componentChanged),l.on("change:root",this.__onRootChange),l.listenTo(r,D0,this.__onComponent),this.componentChanged(),l.listenToOnce(r,"load",function(){t.setRoot(i.root),t.__appendTo()})},n.prototype.setRoot=function(t){var e=this.em.getWrapper(),r=(0,g.isComponent)(t)?t:e;return t&&(0,u.isString)(t)&&(0,g.hasWin)()&&(r=e.find(t)[0]||e),this.model.set("root",r),r},n.prototype.getRoot=function(){return this.model.get("root")},n.prototype.getComponents=function(t){var e=this;return t.components().filter(function(r){return e.__isLayerable(r)})},n.prototype.setOpen=function(t,e){t.set("open",e)},n.prototype.isOpen=function(t){return!!t.get("open")},n.prototype.setVisible=function(t,e){var r="__prev-display",i=t.getStyle(ah),l=i.display;if(e){var d=t.get(r);delete i.display,d&&(i.display=d,t.unset(r))}else l&&t.set(r,l),i.display="none";t.setStyle(i,ah),this.updateLayer(t),this.em.trigger("component:toggled")},n.prototype.isVisible=function(t){return!I0(t.getStyle(ah))},n.prototype.setLocked=function(t,e){t.set("locked",e)},n.prototype.isLocked=function(t){return!!t.get("locked")},n.prototype.setName=function(t,e){t.set("custom-name",e)},n.prototype.getName=function(t){return t.getName()},n.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},n.prototype.setLayerData=function(t,e,r){var i;r===void 0&&(r={});var l=this,d=l.em,p=l.config,v=e.open,m=e.selected,E=e.hovered,B=e.visible,J=e.locked,ht=e.name,bt=ih({fromLayers:!0},r);if((0,g.isDef)(v)&&this.setOpen(t,v),(0,g.isDef)(m))if(m){d.setSelected(t,bt);var wt=p.scrollCanvas;wt&&((i=t.views)===null||i===void 0||i.forEach(function(Vt){return Vt.scrollIntoView(wt)}))}else d.removeSelected(t,bt);(0,g.isDef)(E)&&p.showHover&&(E?d.setHovered(t,bt):d.setHovered(null,bt)),(0,g.isDef)(B)&&B!==this.isVisible(t)&&this.setVisible(t,B),(0,g.isDef)(J)&&this.setLocked(t,J),(0,g.isDef)(ht)&&this.setName(t,ht)},n.prototype.componentChanged=function(t,e){var r;if(e===void 0&&(e={}),!e.fromLayers){var i=this,l=i.em,d=i.config,p=d.scrollLayers,v=this.model.get("opened"),m=l.getSelected(),E=m==null?void 0:m.parent();for(var B in v)v[B].set("open",!1),delete v[B];for(;E;)E.set("open",!0),v[E.cid]=E,E=E.parent();if(m&&p){var J=(r=m.viewLayer)===null||r===void 0?void 0:r.el;J==null||J.scrollIntoView(p)}}},n.prototype.getAll=function(){return this.view},n.prototype.render=function(){var t,e,r=this,i=r.config,l=r.model,d=k0.extend(i.extend);return this.view=new d({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:d,level:0,config:i,opened:l.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},n.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},n.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger($v,e),this.__trgCustom()},n.prototype.__onComponent=function(t){this.updateLayer(t)},n.prototype.__isLayerable=function(t){var e=t.get("tagName"),r=this.config.hideTextnode,i=!r||!t.isInstanceOf("textnode")&&e!=="br";return i&&t.get("layerable")},n.prototype.__trgCustom=function(t){var e=this,r=e.__ctn,i=e.em,l=e.events;this.__ctn=r||(t==null?void 0:t.container),i.trigger(l.custom,{container:this.__ctn,root:this.getRoot()})},n.prototype.updateLayer=function(t,e){this.em.trigger(Zv,t,e)},n}(nt);const R0=j0;var F0={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const N0=F0;var V0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qv=function(a){V0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.getDefaults=function(){return(0,u.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{type:"",src:""}},n.prototype.getType=function(){return this.get("type")},n.prototype.getSrc=function(){return this.get("src")},n.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},n.prototype.getExtension=function(){return this.getFilename().split(".").pop()},n}(b.Hn);const sh=qv;qv.prototype.idAttribute="src";var B0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),td=function(){return td=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},td.apply(this,arguments)},H0=function(a){B0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return td(td({},sh.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},n}(sh);const z0=H0;var U0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),W0=function(a){U0(n,a);function n(t){var e=a.call(this,t)||this;e.options=t,e.collection=t.collection;var r=t.config||{};e.config=r,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.em=r.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var i=e.init&&e.init.bind(e);return i&&i(t),e}return n.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},n.prototype.template=function(t,e){var r=this.pfx;return`
      <div class="`.concat(r,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(r,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(r,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},n.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,u.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},n.prototype.getPreview=function(){return""},n.prototype.getInfo=function(){return""},n.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},n}(b.G7);const K0=W0;var G0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yv=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},Xv=function(a){G0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getPreview=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.model,l=i.get("src");return _(Jv||(Jv=Yv([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,l,e,r)},n.prototype.getInfo=function(){var t=this,e=t.pfx,r=t.model,i=r.get("name"),l=r.get("width"),d=r.get("height"),p=r.get("unitDim"),v=l&&d?"".concat(l,"x").concat(d).concat(p):"";return i=i||r.getFilename(),_(Qv||(Qv=Yv([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,i,e,v)},n.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},n.prototype.onClick=function(){var t=this,e=t.model,r=t.pfx,i=this.__getBhv().select,l=this.config.onClick,d=this.collection;d.trigger("deselectAll"),this.$el.addClass(r+"highlight"),(0,u.isFunction)(i)?i(e,!1):(0,u.isFunction)(l)?l(e):this.updateTarget(d.target)},n.prototype.onDblClick=function(){var t=this,e=t.em,r=t.model,i=this.__getBhv().select,l=this.config.onDblClick,d=this.collection,p=d.target,v=d.onSelect;(0,u.isFunction)(i)?i(r,!0):(0,u.isFunction)(l)?l(r):(this.updateTarget(p),e==null||e.Modal.close()),(0,u.isFunction)(v)&&v(r)},n.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},n}(K0);const $0=Xv;Xv.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Jv,Qv,ed=function(){return ed=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ed.apply(this,arguments)},Z0={types:[],initialize:function(a,n){var t=this;n===void 0&&(n={});var e=n.em;this.em=e,this.opts=n,this.model=function(i,l){i===void 0&&(i={}),l===void 0&&(l={});var d,p,v;if(i&&i.type){var m=t.getBaseType();v=t.getType(i.type),d=v?v.model:m.model,p=v?v.view:m.view}else{var E=t.recognizeType(i);v=E.type,d=v.model,p=v.view,i=E.attributes}var B=new d(i,ed(ed({},l),{em:e}));return B.typeView=p,B};var r=this.init&&this.init.bind(this);r&&r()},recognizeType:function(a){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t],r=e.isType(a);if(r=typeof r=="boolean"&&r?{type:e.id}:r,r)return{type:e,attributes:r}}return{type:this.getBaseType(),attributes:a}},getBaseType:function(){var a=this.getTypes();return a[a.length-1]},getTypes:function(){return this.types},getType:function(a){for(var n=this.getTypes(),t=0;t<n.length;t++){var e=n[t];if(e.id===a)return e}},addType:function(a,n){var t=this.getType(a),e=this.getBaseType(),r=t?t.model:e.model,i=t?t.view:e.view,l=n.model,d=n.view,p=n.isType;l=l instanceof b.Hn||(0,u.isFunction)(l)?l:r.extend(l||{}),d=d instanceof b.G7||(0,u.isFunction)(d)?d:i.extend(d||{}),this.extendViewApi&&!n.model&&!n.view&&(d=d.extend(n)),t?(t.model=l,t.view=d,t.isType=p||t.isType):(n.id=a,n.model=l,n.view=d,n.isType=p||function(v){if(v&&v.type==a)return!0},this.getTypes().unshift(n))}};const tg=Z0;var q0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Y0=b.FE.extend(tg),eg=function(a){q0(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Y0);const lh=eg;eg.prototype.types=[{id:"image",model:z0,view:$0,isType:function(a){return typeof a=="string"?{type:"image",src:a}:a}}];var uh;(function(a){a.add="asset:add",a.remove="asset:remove",a.removeBefore="asset:remove:before",a.update="asset:update",a.open="asset:open",a.close="asset:close",a.uploadStart="asset:upload:start",a.uploadEnd="asset:upload:end",a.uploadError="asset:upload:error",a.uploadResponse="asset:upload:response",a.custom="asset:custom",a.all="asset"})(uh||(uh={}));const rg=uh;var X0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ng=function(a){X0(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var r=e.collection;return e.listenTo(r,"reset",e.renderAssets),e.listenTo(r,"add",e.addToAsset),e.listenTo(r,"remove",e.removedAsset),e.listenTo(r,"deselectAll",e.deselectAll),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,i=t.em,l="";return this.config.showUrlInput&&(l=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(r,"field ").concat(e,`add-field">
              <input placeholder="`).concat(i==null?void 0:i.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(r,'btn-prim">').concat(i==null?void 0:i.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(l,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},n.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),r=e&&e.value.trim(),i=this.config.handleAdd;if(r){e.value="";var l=this.getAssetsEl();l&&(l.scrollTop=0),i?i.bind(this)(r):this.options.globalCollection.add(r,{at:0})}},n.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},n.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},n.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},n.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},n.prototype.addAsset=function(t,e){e===void 0&&(e=null);var r=e,i=this.collection,l=this.config,d=new t.typeView({model:t,collection:i,config:l}).render().el;if(r)r.appendChild(d);else{var p=this.getAssetsEl();p&&p.insertBefore(d,p.firstChild)}return d},n.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var r=this.config.noAssets;r&&e.append(r)}},n.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},n.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),r=this.$el.find(".".concat(this.pfx,"assets"));r.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return t.addAsset(i,e)}),r.append(e)},n.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},n}(b.G7);const J0=ng;ng.prototype.events={submit:"handleSubmit"};var Q0=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),t_=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},e_=function(a){Q0(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;e.options=t;var r=t.config||{};e.module=t.module,e.config=r,e.em=e.config.em,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=r.disableUpload!==void 0?r.disableUpload:!r.upload&&!r.embedAsBase64,e.multiUpload=r.multiUpload!==void 0?r.multiUpload:!0;var i=r.uploadFile;return i?e.uploadFile=i.bind(e):!r.upload&&r.embedAsBase64&&(e.uploadFile=n.embedAsBase64),e.delegateEvents(),e}return n.prototype.template=function(t){var e=t.pfx,r=t.title,i=t.uploadId,l=t.disabled,d=t.multiUpload;return _(ig||(ig=t_([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,r,i,l?"disabled":"",d?"multiple":"")},n.prototype.events=function(){return{"change [data-input]":"uploadFile"}},n.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},n.prototype.onUploadEnd=function(t){var e=this,r=e.$el,i=e.module;i==null||i.__propEv(i.events.uploadEnd,t);var l=r.find("input");l&&l.val("")},n.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e==null||e.__propEv(e.events.uploadError,t)},n.prototype.onUploadResponse=function(t,e){var r=this,i=r.module,l=r.config,d=r.target,p;try{p=typeof t=="string"?JSON.parse(t):t}catch{p=t}i==null||i.__propEv(i.events.uploadResponse,p),l.autoAdd&&d&&d.add(p.data,{at:0}),this.onUploadEnd(t),e==null||e(p)},n.prototype.uploadFile=function(t,e){var r=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,l=this.config,d=l.beforeUpload,p=d&&d(i);if(p!==!1){var v=new FormData,m=l.params,E=l.customFetch,B=l.fetchOptions;for(var J in m)v.append(J,m[J]);if(this.multiUpload)for(var ht=0;ht<i.length;ht++)v.append("".concat(l.uploadName).concat(l.multiUploadSuffix),i[ht]);else i.length&&v.append(l.uploadName,i[0]);var bt=l.upload,wt=l.headers,Vt="X-Requested-With";if(typeof wt[Vt]>"u"&&(wt[Vt]="XMLHttpRequest"),bt){this.onUploadStart();var Xt={method:"post",credentials:l.credentials||"include",headers:wt,body:v},te=(B==null?void 0:B(Xt))||Xt,ve=E?E(bt,te):U(bt,te).then(function(Ee){return(Ee.status/200|0)==1?Ee.text():Ee.text().then(function(Re){return Promise.reject(Re)})});return ve.then(function(Ee){return r.onUploadResponse(Ee,e)}).catch(function(Ee){return r.onUploadError(Ee)})}}},n.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(r){e.className="",r.preventDefault(),t.uploadFile(r)})}},n.prototype.initDropzone=function(t){var e=this,r=0,i=this.config,l=t.model,d=t.el,p=l.Editor,v=l.Canvas.getBody(),m=this.ppfx,E="".concat(m,"dropzone-active"),B="".concat(m,"dropzone"),J=function(){d.className=d.className.replace(E,"").trim(),r=0},ht=function(){return r||(d.className+=" ".concat(E),r=1),!1},bt=function(){return J(),!1},wt=function(Vt){if(J(),Vt.preventDefault(),Vt.stopPropagation(),e.uploadFile(Vt),i.openAssetsOnDrop&&p){var Xt=p.getSelected();p.runCommand("open-assets",{target:Xt,onSelect:function(){p.Modal.close(),p.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(B,'">').concat(i.dropzoneContent,"</div>")),J(),"draggable"in d&&[d,v].forEach(function(Vt){Vt.ondragover=ht,Vt.ondragleave=bt,Vt.ondrop=wt})},n.prototype.render=function(){var t=this,e=t.$el,r=t.pfx,i=t.em;return e.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:r})),this.initDrop(),e.attr("class",r+"file-uploader"),this},n.embedAsBase64=function(t,e){var r=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,l={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var d=[],p=/^(.+)\/(.+)$/,v=function(J){var ht=new Promise(function(bt,wt){var Vt=new FileReader;Vt.addEventListener("load",function(Xt){var te,ve=J.name,Ee=p.exec(J.type);if(Ee?te=Ee[1]:te=J.type,te==="image"){var Re={src:Vt.result,name:ve,type:te,height:0,width:0},ze=new Image;ze.addEventListener("error",function(be){wt(be)}),ze.addEventListener("load",function(){Re.height=ze.height,Re.width=ze.width,bt(Re)}),ze.src=Re.src}else bt(te?{src:Vt.result,name:ve,type:te}:Vt.result)}),Vt.addEventListener("error",function(Xt){wt(Xt)}),Vt.addEventListener("abort",function(Xt){wt("Aborted")}),Vt.readAsDataURL(J)});d.push(ht)},m=0,E=i;m<E.length;m++){var B=E[m];v(B)}return Promise.all(d).then(function(J){l.data=J,r.onUploadResponse(l,e)},function(J){r.onUploadError(J)})},n}(b.G7);const r_=e_;var ig,n_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nu=function(){return nu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},nu.apply(this,arguments)},og=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},uc="open-assets",i_=function(a){n_(n,a);function n(t){var e=a.call(this,t,"AssetManager",new lh([],t),rg,N0)||this;e.storageKey="assets",e.Asset=sh,e.Assets=lh,e.events=rg;var r=e,i=r.all,l=r.config;e.assetsVis=new lh([]);var d=l.pStylePrefix;return d&&(l.stylePrefix="".concat(d).concat(l.stylePrefix)),i.on("add",function(p){return e.getAllVisible().add(p)}),i.on("remove",function(p){return e.getAllVisible().remove(p)}),e.__onAllEvent=(0,u.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(uc,nu({types:["image"],select:function(){}},t))},n.prototype.close=function(){var t=this.em.Commands;t.stop(uc)},n.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(uc))},n.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},n.prototype.get=function(t){return this.all.where({src:t})[0]||null},n.prototype.getAll=function(){return this.all},n.prototype.getAllVisible=function(){return this.assetsVis},n.prototype.remove=function(t,e){return this.__remove(t,e)},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){return this.loadProjectData(t)},n.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},n.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},n.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var r=this.__viewParams();r.fu=this.FileUploader(),this.am=new J0(nu({},r)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},n.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},n.prototype.addType=function(t,e){this.getAll().addType(t,e)},n.prototype.getType=function(t){return this.getAll().getType(t)},n.prototype.getTypes=function(){return this.getAll().getTypes()},n.prototype.AssetsView=function(){return this.am},n.prototype.FileUploader=function(){return this.fu||(this.fu=new r_(this.__viewParams())),this.fu},n.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,r=e.em,i=e.events;r.Commands.__onRun(uc,function(){return t.__propEv(i.open)}),r.Commands.__onStop(uc,function(){return t.__propEv(i.close)})},n.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},n.prototype.setTarget=function(t){this.assetsVis.target=t},n.prototype.onSelect=function(t){this.assetsVis.onSelect=t},n.prototype.onClick=function(t){this.config.onClick=t},n.prototype.onDblClick=function(t){this.config.onDblClick=t},n.prototype.__propEv=function(t){for(var e,r,i=[],l=1;l<arguments.length;l++)i[l-1]=arguments[l];(e=this.em).trigger.apply(e,og([t],i,!1)),(r=this.getAll()).trigger.apply(r,og([t],i,!1))},n.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},n.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(r,i){return t.remove(r,i)},select:function(r,i){var l=t.add(r);(0,u.isFunction)(e.select)&&e.select(l,i)},options:e.options||{}}},n.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=nu(nu({},this._bhv||{}),t)},n.prototype.__getBehaviour=function(t){return this._bhv||{}},n.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},n}(q);const o_=i_;var a_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),s_=function(a){a_(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t,e)||this,i=e.em,l={};r.em=i,t.frames||(l.component=t.component,l.styles=t.styles,["component","styles"].map(function(v){return r.unset(v)}));var d=t.frames||[l],p=new Jt(i.Canvas,d);return p.page=r,r.set("frames",p),!r.getId()&&r.set("id",i==null?void 0:i.Pages._createId()),i==null||i.UndoManager.add(p),r}return n.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},n.prototype.onRemove=function(){this.getFrames().reset()},n.prototype.getFrames=function(){return this.get("frames")},n.prototype.getId=function(){return this.id},n.prototype.getName=function(){return this.get("name")},n.prototype.setName=function(t){return this.set({name:t})},n.prototype.getAllFrames=function(){return this.getFrames().models||[]},n.prototype.getMainFrame=function(){return this.getFrames().at(0)},n.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},n.prototype.toJSON=function(t){t===void 0&&(t={});var e=b.Hn.prototype.toJSON.call(this,t),r=(0,u.result)(this,"defaults");return(0,u.forEach)(e,function(i,l){l.indexOf("_")===0&&delete e[l]}),(0,u.forEach)(r,function(i,l){e[l]===i&&delete e[l]}),e},n}(b.Hn);const ch=s_;var l_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rd=function(){return rd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},rd.apply(this,arguments)},u_=function(a){l_(n,a);function n(t,e){var r=a.call(this,t)||this;return r.on("reset",r.onReset),r.on("remove",r.onRemove),r.model=function(i,l){return l===void 0&&(l={}),new ch(i,rd(rd({},l),{em:e}))},r}return n.prototype.onReset=function(t,e){var r=this,i;(i=e==null?void 0:e.previousModels)===null||i===void 0||i.map(function(l){return r.onRemove(l)})},n.prototype.onRemove=function(t){t==null||t.onRemove()},n}(b.FE);const c_=u_;var f_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),d_=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},ag="change:selected",sg="main",p_=function(a){f_(n,a);function n(t){var e=a.call(this,t,"PageManager",new c_([],t),Rt)||this;e.events=Rt,e.storageKey="pages",(0,u.bindAll)(e,"_onPageChange");var r=new W.Z({_undo:!0});return e.model=r,e.pages.on("reset",function(i){return i.at(0)&&e.select(i.at(0))}),e.pages.on("all",e.__onChange,e),r.on(ag,e._onPageChange),e}return Object.defineProperty(n.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),n.prototype.getAll=function(){return d_([],this.all.models,!0)},n.prototype.__onChange=function(t,e,r,i){var l=this,d=l.em,p=l.events,v=i||r;d.trigger(p.all,{event:t,page:e,options:v})},n.prototype.onLoad=function(){var t,e=this,r=e.pages,i=e.config,l=e.em,d={silent:!0},p=((t=i.pages)===null||t===void 0?void 0:t.map(function(m){return new ch(m,{em:l,config:i})}))||[];r.add(p,d);var v=r.length?this._initPage():this.add({type:sg},d);v&&this.select(v,d)},n.prototype._onPageChange=function(t,e,r){var i=this,l=i.em,d=i.events,p=l.Layers,v=e.getMainComponent();p&&v&&p.setRoot(v),l.trigger(d.select,e,t.previous("selected")),this.__onChange(ag,e,r)},n.prototype.postLoad=function(){var t=this,e=t.em,r=t.model,i=t.pages,l=e.UndoManager;l.add(r),l.add(i),i.on("add remove reset change",function(d,p,v){return e.changesUp(v||p)})},n.prototype.add=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=i.em,d=i.events;t.id=t.id||this._createId();var p=function(){var v=r.pages.add(new ch(t,{em:r.em,config:r.config}),e);return e.select&&r.select(v),v};return!e.silent&&l.trigger(d.addBefore,t,p,e),e.abort?void 0:p()},n.prototype.remove=function(t,e){var r=this;e===void 0&&(e={});var i=this,l=i.em,d=i.events,p=(0,u.isString)(t)?this.get(t):t,v=function(){return p&&r.pages.remove(p,e),p};return!e.silent&&l.trigger(d.removeBefore,p,v,e),!e.abort&&v()},n.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},n.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===sg})[0]||t.at(0)},n.prototype.getAllWrappers=function(){var t=this.getAll();return(0,u.unique)((0,u.flatten)(t.map(function(e){return e.getAllFrames().map(function(r){return r.getComponent()})})))},n.prototype.select=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.model,d=r.events,p=(0,u.isString)(t)?this.get(t):t;return p&&(i.trigger(d.selectBefore,p,e),l.set("selected",p,e)),this},n.prototype.getSelected=function(){return this.model.get("selected")},n.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},n.prototype.store=function(){return this.getProjectData()},n.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(r){return r.getFrames().initRefs()}),e},n.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},n.prototype._createId=function(){var t=this.getAll(),e=t.length+16,r=this.getAllMap(),i;do i=(0,g.createId)(e);while(r[i]);return i},n}(q);const h_=p_;var fh={placeholder:"eg. Text here"},v_={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:fh,alt:fh,title:fh,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};const g_=v_;var dh;(function(a){a.add="i18n:add",a.update="i18n:update",a.locale="i18n:locale"})(dh||(dh={}));const m_=dh;var y_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),__=function(a){y_(n,a);function n(t){var e=a.call(this,t,"I18n",g_)||this;e.events=m_;var r=e.config.messagesAdd;return r&&e.addMessages(r),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return n.prototype.setLocale=function(t){var e=this,r=e.em,i=e.config,l=e.events;return r.trigger(l.locale,{value:t,valuePrev:i.locale}),i.locale=t,this},n.prototype.getLocale=function(){return this.config.locale},n.prototype.getMessages=function(t,e){e===void 0&&(e={});var r=this.config.messages;return t&&!r[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?r[t]:r},n.prototype.setMessages=function(t){var e=this,r=e.em,i=e.config,l=e.events;return i.messages=t,r.trigger(l.update,t),this},n.prototype.addMessages=function(t){var e=this,r=e.em,i=e.events,l=e.config,d=l.messages;return r.trigger(i.add,t),this.setMessages((0,g.deepMerge)(d,t)),this},n.prototype.t=function(t,e){e===void 0&&(e={});var r=this.config,i=e.params||{},l=e.l||this.getLocale(),d=e.lFlb||r.localeFallback,p=this._getMsg(t,l,e);return p||(p=this._getMsg(t,d,e)),!p&&this._debug("'".concat(t,"' i18n key not found in '").concat(l,"' lang"),e),p=p&&(0,u.isString)(p)?this._addParams(p,i):p,p},n.prototype._localLang=function(){var t=(0,g.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},n.prototype._addParams=function(t,e){var r=new RegExp("{([\\w\\d-]*)}","g");return t.replace(r,function(i,l){return e[l]||""}).trim()},n.prototype._getMsg=function(t,e,r){r===void 0&&(r={});var i=this.getMessages(e,r);if(i){var l=i[t];return!l&&t.indexOf(".")>0&&(l=t.split(".").reduce(function(d,p){if(!(0,u.isUndefined)(d))return d[p]},i)),l}},n.prototype._debug=function(t,e){e===void 0&&(e={});var r=this,i=r.em,l=r.config;(e.debug||l.debug)&&i&&i.logWarning(t)},n.prototype.destroy=function(){},n}(nt);const b_=__;var w_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ko=function(){return ko=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ko.apply(this,arguments)},x_=function(){},C_=ce.q.Target,lg={id:"sorter-target",type:C_},S_=function(a){w_(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,u.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var r=e.container;this.el=typeof r=="string"?document.querySelector(r):r,this.$el=(0,M.default)(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=!!e.nested,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||x_,this.onEndMove=e.onEndMove,this.customTarget=e.customTarget,this.onEnd=e.onEnd,this.direction=e.direction||"v",this.onMoveClb=e.onMove,this.relative=e.relative||!1,this.ignoreViewChildren=!!e.ignoreViewChildren,this.plh=e.placer,this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.em=e.em,this.canvasRelative=!!e.canvasRelative,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale;var i=this.em;i!=null&&i.on&&(i.on(i.Canvas.events.refresh,this.updateOffset),this.updateOffset())},n.prototype.getScale=function(){return(0,u.result)(this,"scale")||1},n.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el=typeof e=="string"?document.querySelector(e):e,this.$el=(0,M.default)(this.el)}return this.el},n.prototype.getDocuments=function(t){var e=this.em,r=t?t.ownerDocument:e==null?void 0:e.Canvas.getBody().ownerDocument,i=[document];return r&&i.push(r),i},n.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=e.top,this.offLeft=e.left},n.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},n.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var r=e.Canvas,i=r.getDocument(),l=null;if(i.caretRangeFromPoint){var d=(0,pe.VB)(t);l=i.caretRangeFromPoint(d.clientX,d.clientY)}else t.rangeParent&&(l=i.createRange(),l.setStart(t.rangeParent,t.rangeOffset));var p=r.getWindow().getSelection();r.getFrameEl().focus(),p==null||p.removeAllRanges(),l&&(p==null||p.addRange(l)),this.setContentEditable(this.activeTextModel,!0)}},n.prototype.setContentEditable=function(t,e){if(t){var r=t.getEl();r.contentEditable!=e&&(r.contentEditable=e)}},n.prototype.toggleSortCursor=function(t){var e=this.em,r=e==null?void 0:e.Canvas;r&&(t?r.startAutoscroll():r.stopAutoscroll())},n.prototype.setDragHelper=function(t,e){for(var r=e||"",i=t.cloneNode(!0),l=t.getBoundingClientRect(),d=getComputedStyle(t),p="",v=0;v<d.length;v++){var m=d[v];p+="".concat(m,":").concat(d.getPropertyValue(m),";")}if(document.body.appendChild(i),i.className+=" ".concat(this.pfx,"bdrag"),i.setAttribute("style",p),this.dragHelper=i,i.style.width="".concat(l.width,"px"),i.style.height="".concat(l.height,"px"),r&&this.moveDragHelper(r),this.em){var E=(0,M.default)(this.em.Canvas.getBody().ownerDocument);E.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,M.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},n.prototype.moveDragHelper=function(t){var e=t.target.ownerDocument;if(!(!this.dragHelper||!e)){var r=t.pageY,i=t.pageX,l=0,d=0,p=e.defaultView||e.parentWindow,v=p.frameElement,m=this.dragHelper.style;if(v){var E=v.getBoundingClientRect();l=E.top+document.documentElement.scrollTop,d=E.left+document.documentElement.scrollLeft,r=t.clientY,i=t.clientX}m.top=r+l+"px",m.left=i+d+"px"}},n.prototype.matches=function(t,e){return g.matches.call(t,e)},n.prototype.closest=function(t,e){if(t)for(var r=t.parentNode;r&&r.nodeType===1;){if(this.matches(r,e))return r;r=r.parentNode}},n.prototype.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},n.prototype.createPlaceholder=function(){var t=this.pfx,e=document.createElement("div"),r=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",r.className=t+"placeholder-int",e.appendChild(r),e},n.prototype.startSort=function(t,e){var r,i;e===void 0&&(e={});var l=this,d=l.em,p=l.itemSel,v=l.containerSel,m=l.plh,E=this.getContainerEl(e.container),B=this.getDocuments(t),J;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(p,", ").concat(v))&&(t=this.closest(t,p)),this.sourceEl=t,m||(this.plh=this.createPlaceholder(),E.appendChild(this.plh)),t&&(J=this.getSourceModel(t),J!=null&&J.set&&J.set("status","freezed"),this.srcModel=J),(0,pe.on)(E,"mousemove dragover",this.onMove),(0,pe.on)(B,"mouseup dragend touchend",this.endMove),(0,pe.on)(B,"keydown",this.rollback),this.onStart({sorter:this,target:J,parent:J&&((r=J.parent)===null||r===void 0?void 0:r.call(J)),index:J&&((i=J.index)===null||i===void 0?void 0:i.call(J))}),d==null||d.clearSelection(),this.toggleSortCursor(!0),d==null||d.trigger("sorter:drag:start",t,J)},n.prototype.getTargetModel=function(t){var e=t||this.target;return(0,M.default)(e).data("model")},n.prototype.getSourceModel=function(t,e){var r=this,i=e===void 0?{}:e,l=i.target,d=i.avoidChildren,p=d===void 0?1:d,v=this,m=v.em,E=v.sourceEl,B=t||E,J=this,ht=J.dropModel,bt=J.dropContent,wt=function(ve){return ve&&l&&ve.opt&&ve.opt.avoidChildren&&r.isTextableActive(ve,l)};if(bt&&m){if(wt(ht)&&(ht=void 0),!ht){var Vt=m.Components.getComponents(),Xt={avoidChildren:p,avoidStore:1,avoidUpdateStyle:1},te=Vt.add(bt,ko(ko({},Xt),{temporary:!0}));if(ht=Vt.remove(te,Xt),ht=ht instanceof Array?ht[0]:ht,this.dropModel=ht,wt(ht))return this.getSourceModel(B,{target:l,avoidChildren:0})}return ht}return B&&(0,M.default)(B).data("model")},n.prototype.selectTargetModel=function(t,e){if(!(t instanceof b.FE)&&!(e&&e===t)){var r=this.targetModel;if(r&&r!==this.srcModel&&r.set("status",""),t!=null&&t.set){var i=this.em.Canvas,l=ce.q.Select,d=ce.q.Hover,p=ce.q.Spacing;[l,d,p].forEach(function(v){return i.removeSpots({type:v})}),i.addSpot(ko(ko({},lg),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},n.prototype.onMove=function(t){var e=t,r=this,i=r.em,l=r.onMoveClb,d=r.plh,p=r.customTarget;this.moved=!0;var v=d.style.display;(!v||v==="none")&&(d.style.display="block");var m=this.offset(this.el);this.elT=this.wmargin?Math.abs(m.top):m.top,this.elL=this.wmargin?Math.abs(m.left):m.left;var E=t.pageY-this.elT+this.el.scrollTop,B=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&i){var J=i.Canvas.getMouseRelativeCanvas(t,{noScroll:1});B=J.x,E=J.y}this.rX=B,this.rY=E,this.eventMove=t;var ht=this.getSourceModel(),bt=p?p({sorter:this,event:t}):t.target,wt=this.dimsFromTarget(bt,B,E),Vt=this.target,Xt=Vt&&this.getTargetModel(Vt);if(this.selectTargetModel(Xt,ht),Xt||(d.style.display="none"),!!Vt){this.lastDims=wt;var te=this.findPosition(wt,B,E);this.isTextableActive(ht,Xt)?(this.activeTextModel=Xt,d.style.display="none",this.lastPos=te,this.updateTextViewCursorPosition(e)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=te.index||this.lastPos.method!=te.method)&&(this.movePlaceholder(this.plh,wt,te,this.prevTargetDim),this.$plh||(this.$plh=(0,M.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=te)),(0,u.isFunction)(l)&&l({event:t,target:ht,parent:Xt,index:te.index+(te.method=="after"?1:0)}),i&&i.trigger("sorter:drag",{target:Vt,targetModel:Xt,sourceModel:ht,dims:wt,pos:te,x:B,y:E})}},n.prototype.isTextableActive=function(t,e){var r;return((r=t==null?void 0:t.get)===null||r===void 0?void 0:r.call(t,"textable"))&&(e==null?void 0:e.isInstanceOf("text"))},n.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},n.prototype.isInFlow=function(t,e){if(!t)return!1;e=e||document.body;var r=t;return r.offsetHeight,!!this.styleInFlow(r,e)},n.prototype.styleInFlow=function(t,e){if(!(0,pe.BM)(t)){var r=t.style||{},i=(0,M.default)(t),l=e&&(0,M.default)(e);if(!(r.overflow&&r.overflow!=="visible")){var d=i.css("float");if(!(d&&d!=="none")&&!(l&&l.css("display")=="flex"&&l.css("flex-direction")!=="column")){switch(r.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(i.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},n.prototype.validTarget=function(t,e){var r,i,l=this.lastPos,d=this.getTargetModel(t),p=this.getSourceModel(e,{target:d});e=(r=p==null?void 0:p.view)===null||r===void 0?void 0:r.el,t=(i=d==null?void 0:d.view)===null||i===void 0?void 0:i.el;var v={valid:!0,src:e,srcModel:p,trg:t,trgModel:d,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!e||!t)return v.valid=!1,v;var m=l?l.method==="after"?l.indexEl+1:l.indexEl:d.components().length,E=p.get("draggable");if((0,u.isFunction)(E)){var B=E(p,d,m);v.dragInfo=B,v.draggable=B,E=B}else E=E instanceof Array?E.join(", "):E,v.dragInfo=E,E=(0,u.isString)(E)?this.matches(t,E):E,v.draggable=E;var J=d.get("droppable");if((0,u.isFunction)(J)){var B=J(p,d,m);v.droppable=B,v.dropInfo=B,J=B}else J=J instanceof b.FE?1:J,J=J instanceof Array?J.join(", "):J,v.dropInfo=J,J=(0,u.isString)(J)?this.matches(e,J):J,J=E&&this.isTextableActive(p,d)?1:J,v.droppable=J;return(!J||!E)&&(v.valid=!1),v},n.prototype.dimsFromTarget=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var i=this.em,l=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return l;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var d=this.validTarget(t);if(i&&i.trigger("sorter:drag:validation",d),!d.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,r);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(l=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,r)||!this.nested&&!this.cacheDims.length){var p=this.targetP;p&&this.validTarget(p).valid&&(l=this.cacheDimsP,this.target=p)}return delete this.lastPos,l},n.prototype.getTargetFromEl=function(t){var e=t,r,i=this.targetPrev,l=this.em,d=this.containerSel,p=this.itemSel;if(this.matches(e,"".concat(p,", ").concat(d))||(e=this.closest(e,p)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),i&&i!=e&&delete this.targetPrev,!this.targetPrev){r=this.closest(e,d);var v=this.validTarget(e);if(l&&l.trigger("sorter:drag:validation",v),!v.valid&&r)return this.getTargetFromEl(r);this.targetPrev=e}return this.nearElBorders(e)&&(r=this.closest(e,d),r&&this.validTarget(r).valid&&(e=r)),e},n.prototype.nearElBorders=function(t){var e=10,r=t.getBoundingClientRect(),i=t.ownerDocument.body,l=this.getCurrentPos(),d=l.x,p=l.y,v=r.top+i.scrollTop,m=r.left+i.scrollLeft,E=r.width,B=r.height;if(p<v+e||p>v+B-e||d<m+e||d>m+E-e)return 1},n.prototype.getCurrentPos=function(){var t=this.eventMove,e=(t==null?void 0:t.pageX)||0,r=(t==null?void 0:t.pageY)||0;return{x:e,y:r}},n.prototype.getDim=function(t){var e=this,r=e.em,i=e.canvasRelative,l=r==null?void 0:r.Canvas,d=l?l.getElementOffsets(t):{},p,v,m,E;if(i&&r){var B=l.getElementPos(t,{noScroll:1});p=B.top,v=B.left,m=B.height,E=B.width}else{var J=this.offset(t);p=this.relative?t.offsetTop:J.top-(this.wmargin?-1:1)*this.elT,v=this.relative?t.offsetLeft:J.left-(this.wmargin?-1:1)*this.elL,m=t.offsetHeight,E=t.offsetWidth}return{top:p,left:v,height:m,width:E,offsets:d}},n.prototype.getChildrenDim=function(t){var e=this,r=[];if(!t)return r;var i=this.getTargetModel(t);if(i&&i.view&&!this.ignoreViewChildren){var l=i.getCurrentView?i.getCurrentView():i.view;t=l.getChildrenContainer()}return(0,u.each)(t.children,function(d,p){var v=d,m=(0,g.getModel)(v,M.default),E=m&&m.index?m.index():p;if(!(!(0,pe.BM)(v)&&!e.matches(v,e.itemSel))){var B=e.getDim(v),J=e.direction,ht;J=="v"?ht=!0:J=="h"?ht=!1:ht=e.isInFlow(v,t),B.dir=ht,B.el=v,B.indexEl=E,r.push(B)}}),r},n.prototype.nearBorders=function(t,e,r){var i=!1,l=this.borderOffset,d=e||0,p=r||0,v=t.top,m=t.left,E=t.height,B=t.width;return(v+l>p||p>v+E-l||m+l>d||d>m+B-l)&&(i=!0),i},n.prototype.findPosition=function(t,e,r){for(var i={index:0,indexEl:0,method:"before"},l=0,d=0,p=0,v=0,m=0,E=0,B=0,J,ht=0,bt=t.length;ht<bt;ht++){J=t[ht];var wt=J.top,Vt=J.left,Xt=J.height,te=J.width;if(p=Vt+te,B=wt+Xt,m=Vt+te/2,E=wt+Xt/2,!(d&&Vt>d||v&&E>=v||l&&p<l))if(i.index=ht,i.indexEl=J.indexEl,!J.dir)r<B&&(v=B),e<m?(d=m,i.method="before"):(l=m,i.method="after");else if(r<E){i.method="before";break}else i.method="after"}return i},n.prototype.movePlaceholder=function(t,e,r,i){var l=0,d=0,p=0,v="",m="",E="px",B=5,J=r.method,ht=e[r.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),ht){var bt=ht.top,wt=ht.left,Vt=ht.height,Xt=ht.width;ht.dir?(v=Xt+E,m="auto",d=J=="before"?bt-l:bt+Vt-l,p=wt):(v="auto",m=Vt-l*2+E,d=bt+l,p=J=="before"?wt-l:wt+Xt-l,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested){t.style.display="none";return}if(i){var te=i.offsets||{},ve=te.paddingTop||B,Ee=te.paddingLeft||B,Re=te.borderTopWidth||0,ze=te.borderLeftWidth||0,be=te.borderRightWidth||0,He=ze+be;d=i.top+ve+Re,p=i.left+Ee+ze,v=parseInt("".concat(i.width))-Ee*2-He+E,m="auto"}}t.style.top=d+E,t.style.left=p+E,v&&(t.style.width=v),m&&(t.style.height=m)},n.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},n.prototype.sort=function(t,e){var r=t.parents.filter(function(p){return e.parents.includes(p)}),i=r[0];if(!i)return e.model.index()-t.model.index();var l=t.parents[t.parents.indexOf(i)-1],d=e.parents[e.parents.indexOf(i)-1];return d.index()-l.index()},n.prototype.endMove=function(){var t=this,e,r=this.sourceEl,i=[],l=this.getDocuments(),d=this.getContainerEl(),p=this.onEndMove,v=this.onEnd,m=this,E=m.target,B=m.lastPos,J;if((0,pe.S1)(d,"mousemove dragover",this.onMove),(0,pe.S1)(l,"mouseup dragend touchend",this.endMove),(0,pe.S1)(l,"keydown",this.rollback),this.plh.style.display="none",r&&(J=this.getSourceModel()),this.moved&&E){var ht=this.toMove,bt=(0,u.isArray)(ht)?ht:ht?[ht]:[r],wt=0;bt.length===1?i.push(this.move(E,bt[0],B)):bt.map(function(te){return{model:te,parents:t.parents(te)}}).sort(this.sort).forEach(function(te){var ve=te.model,Ee=ve.index(),Re=ve.parent().getEl();i.push(t.move(E,ve,ko(ko({},B),{indexEl:B.indexEl-wt,index:B.index-wt}))),Re===E&&Ee<=B.index&&wt++})}this.plh&&(this.plh.style.display="none");var Vt=this.dragHelper;if(Vt&&(Vt.parentNode.removeChild(Vt),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(e=this.em)===null||e===void 0||e.Canvas.removeSpots(lg),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,u.isFunction)(p)){var Xt={target:J,parent:J&&J.parent(),index:J&&J.index()};i.length?i.forEach(function(te){return p(te,t,Xt)}):p(null,this,ko(ko({},Xt),{cancelled:1}))}(0,u.isFunction)(v)&&v({sorter:this})},n.prototype.move=function(t,e,r){var i=this,l=i.em,d=i.dropContent,p=(0,g.getElement)(e),v=[],m=r.method==="after"?r.indexEl+1:r.indexEl,E=this.validTarget(t,p),B=(0,M.default)(t).data("collection"),J=E.trgModel,ht=E.srcModel,bt=E.draggable,wt=J instanceof b.FE?1:E.droppable,Vt,Xt;if(B&&wt&&bt){var te={at:m,action:"move-component"},ve=this.isTextableActive(ht,J);if(d)Vt=(0,u.isFunction)(d)?d():d,te.avoidUpdateStyle=!0,te.action="add-component";else{var Ee=ht.collection.indexOf(ht),Re=B===ht.collection,ze=Ee===m||Ee===m-1,be=!Re||!ze||ve;be&&(Vt=ht.collection.remove(ht,{temporary:!0}),Re&&m>Ee&&(te.at=m-1))}Vt&&(ve?(delete te.at,Xt=J.getView().insertComponent(Vt,te)):Xt=B.add(Vt,te)),delete this.dropContent,delete this.prevTarget}else if(l){var He=E.dropInfo||(J==null?void 0:J.get("droppable")),qe=E.dragInfo||(ht==null?void 0:ht.get("draggable"));!B&&v.push("Target collection not found"),!wt&&He&&v.push("Target is not droppable, accepts [".concat(He,"]")),!bt&&qe&&v.push("Component not draggable, acceptable by [".concat(qe,"]")),l.logWarning("Invalid target position",{errors:v,model:ht,context:"sorter",target:J})}return l==null||l.trigger("sorter:drag:end",{targetCollection:B,modelToDrop:Vt,warns:v,validResult:E,dst:t,srcEl:p}),Xt},n.prototype.rollback=function(t){(0,pe.S1)(this.getDocuments(),"keydown",this.rollback);var e=t.which||t.keyCode;e==27&&(this.moved=!1,this.endMove())},n}(b.G7);const O_=S_;var Ys=function(){return Ys=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ys.apply(this,arguments)},T_=function(a,n){n===void 0&&(n={});var t=n.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+a,e.setAttribute("data-"+t+"handler",a),e},E_=function(a,n){var t=window,e=a.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},P_=function(){function a(n){n===void 0&&(n={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Ys({},this.defOpts),this.setOptions(n),(0,u.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return a.prototype.getConfig=function(){return this.opts},a.prototype.setOptions=function(n,t){n===void 0&&(n={}),this.opts=Ys(Ys({},t?this.defOpts:this.opts),n),this.setup()},a.prototype.setup=function(){var n=this.opts,t=n.prefix||"",e=n.appendTo||document.body,r=this.container;for(r||(r=document.createElement("div"),r.className="".concat(t,"resizer-c"),e.appendChild(r),this.container=r);r.firstChild;)r.removeChild(r.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(p){return i[p]=n[p]?T_(p,n):null});for(var l in i){var d=i[l];d&&r.appendChild(d)}this.handlers=i,this.mousePosFetcher=n.mousePosFetcher,this.updateTarget=n.updateTarget,this.posFetcher=n.posFetcher,this.onStart=n.onStart,this.onMove=n.onMove,this.onEnd=n.onEnd,this.onUpdateContainer=n.onUpdateContainer},a.prototype.toggleFrames=function(n){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,u.each)(t,function(e){return e.style.pointerEvents=n?"none":""})}},a.prototype.isHandler=function(n){var t=this.handlers;for(var e in t)if(t[e]===n)return!0;return!1},a.prototype.getFocusedEl=function(){return this.el},a.prototype.getParentEl=function(){var n;return(n=this.el)===null||n===void 0?void 0:n.parentElement},a.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},a.prototype.getElementPos=function(n,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(n,t):E_(n)},a.prototype.focus=function(n){n&&n===this.el||(this.el=n,this.updateContainer({forceShow:!0}),(0,pe.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},a.prototype.blur=function(){this.container.style.display="none",this.el&&((0,pe.S1)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},a.prototype.start=function(n){var t=n;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,r=this.getParentEl(),i=this,l=this.opts||{},d=this.mousePosFetcher,p="data-"+l.prefix+"handler",v=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),m=this.getElementPos(r),E=t.target;this.handlerAttr=E.getAttribute(p),this.clickedHandler=E,this.startDim={t:v.top,l:v.left,w:v.width,h:v.height},this.rectDim={t:v.top,l:v.left,w:v.width,h:v.height},this.startPos=d?d(t):{x:t.clientX,y:t.clientY},this.parentDim={t:m.top,l:m.left,w:m.width,h:m.height};var B=this.getDocumentEl();this.docs=B,(0,pe.on)(B,"pointermove",this.move),(0,pe.on)(B,"keydown",this.handleKeyDown),(0,pe.on)(B,"pointerup",this.stop),(0,u.isFunction)(this.onStart)&&this.onStart(t,{docs:B,config:l,el:e,resizer:i}),this.toggleFrames(!0),this.move(t)}},a.prototype.move=function(n){var t=n,e=this.onMove,r=this.mousePosFetcher,i=r?r(t):{x:t.clientX,y:t.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},a.prototype.stop=function(n){var t=this.el,e=this.opts,r=this.docs||this.getDocumentEl();(0,pe.S1)(r,"pointermove",this.move),(0,pe.S1)(r,"keydown",this.handleKeyDown),(0,pe.S1)(r,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,u.isFunction)(this.onEnd)&&this.onEnd(n,{docs:r,config:e,el:t,resizer:this}),delete this.docs},a.prototype.updateRect=function(n){var t=this.el,e=this,r=this.opts,i=this.rectDim,l=this.updateTarget,d=this.getSelectedHandler(),p=r.unitHeight,v=r.unitWidth,m=r.keyWidth,E=r.keyHeight;if((0,u.isFunction)(l))l(t,i,{store:n,selectedHandler:d,resizer:e,config:r});else{var B=t.style;B[m]=i.w+v,B[E]=i.h+p}this.updateContainer()},a.prototype.updateContainer=function(n){var t;n===void 0&&(n={});var e=this,r=e.opts,i=e.container,l=e.el,d=i.style;!r.avoidContainerUpdate&&l&&n.forceShow&&(d.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:i,resizer:this,opts:Ys(Ys({},r),n)})},a.prototype.getSelectedHandler=function(){var n=this.handlers;if(this.selectedHandler){for(var t in n)if(n[t]===this.selectedHandler)return t}},a.prototype.handleKeyDown=function(n){n.keyCode===27&&(this.rectDim=this.startDim,this.stop(n))},a.prototype.handleMouseDown=function(n){var t=n.target;this.isHandler(t)?(this.selectedHandler=t,this.start(n)):t!==this.el&&(delete this.selectedHandler,this.blur())},a.prototype.calc=function(n){var t,e=this.opts||{},r=e.step,i=this.startDim,l=e.minDim,d=e.maxDim,p=n.delta.x,v=n.delta.y,m=this.parentDim.w,E=this.parentDim.h,B=this.opts.unitWidth,J=this.opts.unitHeight,ht=B==="%"?i.w/100*m:i.w,bt=J==="%"?i.h/100*E:i.h,wt={t:i.t,l:i.l,w:ht,h:bt};if(n){var Vt=n.handlerAttr;~Vt.indexOf("r")&&(t=B==="%"?(0,g.normalizeFloat)((ht+p*r)/m*100,.01):(0,g.normalizeFloat)(ht+p*r,r),t=Math.max(l,t),d&&(t=Math.min(d,t)),wt.w=t),~Vt.indexOf("b")&&(t=J==="%"?(0,g.normalizeFloat)((bt+v*r)/E*100,.01):(0,g.normalizeFloat)(bt+v*r,r),t=Math.max(l,t),d&&(t=Math.min(d,t)),wt.h=t),~Vt.indexOf("l")&&(t=B==="%"?(0,g.normalizeFloat)((ht-p*r)/m*100,.01):(0,g.normalizeFloat)(ht-p*r,r),t=Math.max(l,t),d&&(t=Math.min(d,t)),wt.w=t),~Vt.indexOf("t")&&(t=J==="%"?(0,g.normalizeFloat)((bt-v*r)/E*100,.01):(0,g.normalizeFloat)(bt-v*r,r),t=Math.max(l,t),d&&(t=Math.min(d,t)),wt.h=t);var Xt=e.ratioDefault?!n.keys.shift:n.keys.shift;if(Vt.indexOf("c")<0&&Xt){var te=i.w/i.h;wt.w/wt.h>te?wt.h=Math.round(wt.w/te):wt.w=Math.round(wt.h*te)}~Vt.indexOf("l")&&(wt.l+=i.w-wt.w),~Vt.indexOf("t")&&(wt.t+=i.h-wt.h);for(var ve in wt){var Ee=ve;wt[Ee]=parseInt("".concat(wt[Ee]),10)}return wt}},a}();const k_=P_;var A_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ph=function(){return ph=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ph.apply(this,arguments)},M_=function(a){A_(n,a);function n(t){var e=a.call(this,t,"Utils")||this;return e.Sorter=O_,e.Resizer=k_,e.Dragger=Oa.Z,e.helpers=ph({},g),e}return n.prototype.destroy=function(){},n}(nt);const L_=M_;var ui,Oi={},Jn={16:!1,18:!1,17:!1,91:!1},ug="all",Xs={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},cg={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},hh=function(a){return cg[a]||a.toUpperCase().charCodeAt(0)},iu=[];for(ui=1;ui<20;ui++)cg["f"+ui]=111+ui;function cc(a,n){for(var t=a.length;t--;)if(a[t]===n)return t;return-1}function D_(a,n){if(a.length!=n.length)return!1;for(var t=0;t<a.length;t++)if(a[t]!==n[t])return!1;return!0}var I_={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function j_(a){for(ui in Jn)Jn[ui]=a[I_[ui]]}function R_(a){var n,t,e,r,i,l;if(n=a.keyCode,cc(iu,n)==-1&&iu.push(n),(n==93||n==224)&&(n=91),n in Jn){Jn[n]=!0;for(e in Xs)Xs[e]==n&&(Qn[e]=!0);return}if(j_(a),!!Qn.filter.call(this,a)&&n in Oi){for(l=vh(),r=0;r<Oi[n].length;r++)if(t=Oi[n][r],t.scope==l||t.scope=="all"){i=t.mods.length>0;for(e in Jn)(!Jn[e]&&cc(t.mods,+e)>-1||Jn[e]&&cc(t.mods,+e)==-1)&&(i=!1);(t.mods.length==0&&!Jn[16]&&!Jn[18]&&!Jn[17]&&!Jn[91]||i)&&t.method(a,t)===!1&&(a.preventDefault?a.preventDefault():a.returnValue=!1,a.stopPropagation&&a.stopPropagation(),a.cancelBubble&&(a.cancelBubble=!0))}}}function F_(a){var n=a.keyCode,t,e=cc(iu,n);if(e>=0&&iu.splice(e,1),(n==93||n==224)&&(n=91),n in Jn){Jn[n]=!1;for(t in Xs)Xs[t]==n&&(Qn[t]=!1)}}function N_(){for(ui in Jn)Jn[ui]=!1;for(ui in Xs)Qn[ui]=!1}function Qn(a,n,t){var e,r;e=fg(a),t===void 0&&(t=n,n="all");for(var i=0;i<e.length;i++)r=[],a=e[i].split("+"),a.length>1&&(r=dg(a),a=[a[a.length-1]]),a=a[0],a=hh(a),a in Oi||(Oi[a]=[]),Oi[a].push({shortcut:e[i],scope:n,method:t,key:e[i],mods:r})}function V_(a,n){var t,e,r=[],i,l,d;for(t=fg(a),l=0;l<t.length;l++){if(e=t[l].split("+"),e.length>1&&(r=dg(e)),a=e[e.length-1],a=hh(a),n===void 0&&(n=vh()),!Oi[a])return;for(i=0;i<Oi[a].length;i++)d=Oi[a][i],d.scope===n&&D_(d.mods,r)&&(Oi[a][i]={})}}function B_(a){return typeof a=="string"&&(a=hh(a)),cc(iu,a)!=-1}function H_(){return iu.slice(0)}function z_(a){var n=(a.target||a.srcElement).tagName;return!(n=="INPUT"||n=="SELECT"||n=="TEXTAREA")}for(ui in Xs)Qn[ui]=!1;function U_(a){ug=a||"all"}function vh(){return ug||"all"}function W_(a){var n,t,e;for(n in Oi)for(t=Oi[n],e=0;e<t.length;)t[e].scope===a?t.splice(e,1):e++}function fg(a){var n;return a=a.replace(/\s/g,""),n=a.split(","),n[n.length-1]==""&&(n[n.length-2]+=","),n}function dg(a){for(var n=a.slice(0,a.length-1),t=0;t<n.length;t++)n[t]=Xs[n[t]];return n}function gh(a,n,t){a.addEventListener?a.addEventListener(n,t,!1):a.attachEvent&&a.attachEvent("on"+n,function(){t(window.event)})}Qn.setScope=U_,Qn.getScope=vh,Qn.deleteScope=W_,Qn.filter=z_,Qn.isPressed=B_,Qn.getPressedKeyCodes=H_,Qn.unbind=V_,Qn.handlers=Oi,Qn.init=function(a){gh(a.document,"keydown",function(n){R_(n)}),gh(a.document,"keyup",F_),gh(a,"focus",N_)};const fc=Qn;var K_={defaults:{"core:undo":{keys:"+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const G_=K_;var $_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pg=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))};(0,g.hasWin)()&&fc.init(window);var Z_=function(a){$_(n,a);function n(t){var e=a.call(this,t,"Keymaps",G_)||this;return e.keymaster=fc,e.keymaps={},e}return n.prototype.onLoad=function(){var t=this.config.defaults;for(var e in t){var r=t[e];this.add(e,r.keys,r.handler,r.opts||{})}},n.prototype.add=function(t,e,r,i){i===void 0&&(i={});var l=this.em,d=l.Commands,p=l.getEditor(),v=l.Canvas,m={id:t,keys:e,handler:r},E=this.keymaps[t];return E&&this.remove(t),this.keymaps[t]=m,fc(e,function(B,J){var ht={event:B,h:J},bt=(0,u.isString)(r)?d.get(r):r,wt=!l.isEditing()&&!p.Canvas.isInputFocused();if(wt||i.force){i.prevent&&v.getCanvasView().preventDefault(B),(0,u.isFunction)(bt)?bt(p,0,ht):d.runCommand(bt,ht);var Vt=[t,J.shortcut,B];l.trigger.apply(l,pg(["keymap:emit"],Vt,!1)),l.trigger.apply(l,pg(["keymap:emit:".concat(t)],Vt,!1))}},void 0),l.trigger("keymap:add",m),m},n.prototype.get=function(t){return this.keymaps[t]},n.prototype.getAll=function(){return this.keymaps},n.prototype.remove=function(t){var e=this.em,r=this.get(t);if(r)return delete this.keymaps[t],r.keys.split(", ").forEach(function(i){fc.unbind(i.trim())}),e==null||e.trigger("keymap:remove",r),r},n.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),fc.handlers={},this},n.prototype.destroy=function(){this.removeAll(),this.keymaps={}},n}(nt);const q_=Z_;var Y_={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const X_=Y_;var J_=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q_=function(a){J_(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},n.prototype.open=function(){this.set("open",!0)},n.prototype.close=function(){this.set("open",!1)},n}(W.Z);const tb=Q_;var eb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nd=function(){return nd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},nd.apply(this,arguments)},rb=function(a){eb(n,a);function n(t){var e=a.call(this,t)||this,r=e.model;return e.listenTo(r,"change:open",e.updateOpen),e.listenTo(r,"change:title",e.updateTitle),e.listenTo(r,"change:content",e.updateContent),e}return n.prototype.template=function(t){var e=t.pfx,r=t.ppfx,i=t.content,l=t.title;return'<div class="'.concat(e,"dialog ").concat(r,"one-bg ").concat(r,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(l,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},n.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},n.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},n.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},n.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},n.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},n.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),r=this.getCollector(),i=this.model.get("content");e.length&&r.append(e),t.empty().append(i)},n.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},n.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},n.prototype.hide=function(){this.model.close()},n.prototype.show=function(){this.model.open()},n.prototype.updateAttr=function(t){var e=this,r=e.pfx,i=e.$el,l=e.el,d=[].slice.call(l.attributes).map(function(p){return p.name});i.removeAttr(d.join(" ")),i.attr(nd(nd({},t||{}),{class:"".concat(r,"container ").concat(t&&t.class||"").trim()}))},n.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},n}(dr);const nb=rb;var ib=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ob=function(a){ib(n,a);function n(t){var e=a.call(this,t,"Modal",X_)||this;return e.model=new tb(e),e.model.on("change:open",function(r,i){t.trigger("modal:".concat(i?"open":"close"))}),e.model.on("change",(0,u.debounce)(function(){var r=e._evData(),i=e.config.custom;(0,u.isFunction)(i)&&i(r),t.trigger("modal",r)},0)),e}return n.prototype._evData=function(){var t=this,e=this.getTitle(),r=this.getContent(),i=this.model.attributes,l=i.open,d=i.attributes;return{open:l,attributes:d,title:(0,u.isString)(e)?(0,pe.rw)(e):e,content:(0,u.isString)(r)?(0,pe.rw)(r):r.get?r.get(0):r,close:function(){t.close()}}},n.prototype.postRender=function(t){var e=t.model.config.el||t.el,r=this.render();r&&(e==null||e.appendChild(r))},n.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},n.prototype.close=function(){return this.model.close(),this},n.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},n.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},n.prototype.isOpen=function(){return!!this.model.get("open")},n.prototype.setTitle=function(t){return this.model.set("title",t),this},n.prototype.getTitle=function(){return this.model.get("title")},n.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},n.prototype.getContent=function(){return this.model.get("content")},n.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},n.prototype.getModel=function(){return this.model},n.prototype.render=function(){var t;if(!this.config.custom){var e=nb.extend(this.config.extend),r=this.modal&&this.modal.el;return this.modal=new e({el:r,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},n.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},n}(nt);const ab=ob;var hg="sw-visibility",vg="export-template",gg="open-sm",mg="open-tm",yg="open-layers",_g="open-blocks",mh="fullscreen",yh="preview",sb={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:hg,className:"fa fa-square-o",command:"core:component-outline",context:hg,attributes:{title:"View components"}},{id:yh,className:"fa fa-eye",command:yh,context:yh,attributes:{title:"Preview"}},{id:mh,className:"fa fa-arrows-alt",command:mh,context:mh,attributes:{title:"Fullscreen"}},{id:vg,className:"fa fa-code",command:vg,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:gg,className:"fa fa-paint-brush",command:gg,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:mg,className:"fa fa-cog",command:mg,togglable:!1,attributes:{title:"Settings"}},{id:yg,className:"fa fa-bars",command:yg,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:_g,className:"fa fa-th-large",command:_g,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const _h=sb;var lb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ub=function(a){lb(n,a);function n(t,e){var r=a.call(this,t,e)||this;return r.get("buttons").length&&r.set("buttons",new xg(r.module,r.get("buttons"))),r}return n.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(n.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),n}(W.Z);const bg=ub;var cb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wg=function(a){cb(n,a);function n(t,e){return a.call(this,t,e,bg)||this}return n.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(r,i){r!==t&&(r.set("active",!1),e&&r.get("buttons").length&&r.get("buttons").deactivateAllExceptOne(t,e))})},n.prototype.deactivateAll=function(t,e){var r=t||"";this.forEach(function(i){i.get("context")==r&&i!==e&&i.set("active",!1,{fromCollection:!0})})},n.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(r,i){r.get("context")==e&&r.set("disable",!0)})},n.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(r,i){r!==t&&(r.set("disable",!0),e&&r.get("buttons").length&&r.get("buttons").disableAllButtonsExceptOne(t,e))})},n}(Bt);const xg=wg;wg.prototype.model=bg;var fb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),db=function(a){fb(n,a);function n(t,e){var r=a.call(this,t,e)||this,i=r.get("buttons")||[];return r.buttons=new xg(t,i),r}return n.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(n.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),n}(W.Z);const Cg=db;var pb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sg=function(a){pb(n,a);function n(t,e){return a.call(this,t,e,Cg)||this}return n}(Bt);const hb=Sg;Sg.prototype.model=Cg;var vb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ou=function(){return ou=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ou.apply(this,arguments)},gb=function(a){vb(n,a);function n(t){var e=a.call(this,t)||this,r=e,i=r.model,l=r.em,d=r.pfx,p=r.ppfx,v=i.className,m=i.attributes,E=m.command,B=m.listen;if(e.id=d+i.get("id"),e.activeCls="".concat(d,"active ").concat(p,"four-color"),e.disableCls="".concat(p,"disabled"),e.btnsVisCls="".concat(d,"visible"),e.className=d+"btn"+(v?" "+v:""),e.listenTo(i,"change",e.render),e.listenTo(i,"change:active updateActive",e.updateActive),e.listenTo(i,"checkActive",e.checkActive),e.listenTo(i,"change:bntsVis",e.updateBtnsVis),e.listenTo(i,"change:attributes",e.updateAttributes),e.listenTo(i,"change:className",e.updateClassName),e.listenTo(i,"change:disable",e.updateDisable),l&&(0,u.isString)(E)&&B){var J={fromListen:!0};e.listenTo(l,"run:".concat(E),function(){return i.set("active",!0,J)}),e.listenTo(l,"stop:".concat(E),function(){return i.set("active",!1,J)})}return l&&l.get&&(e.commands=l.get("Commands")),e}return n.prototype.tagName=function(){return this.model.get("tagName")},n.prototype.events=function(){return{click:"clicked"}},n.prototype.updateClassName=function(){var t=this,e=t.model,r=t.pfx,i=e.className,l=e.get("attributes").class,d="".concat(l||""," ").concat(r,"btn ").concat(i||"");this.$el.attr("class",d.trim())},n.prototype.updateAttributes=function(){var t=this,e=t.em,r=t.model,i=t.$el,l=r.get("attributes")||{},d=e&&e.t&&e.t("panels.buttons.titles.".concat(r.id));i.attr(l),d&&i.attr({title:d}),this.updateClassName()},n.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},n.prototype.updateActive=function(t,e,r){var i;r===void 0&&(r={});var l=this,d=l.model,p=l.commands,v=l.$el,m=l.activeCls,E=r.fromCollection,B=r.fromListen,J=d.get("context"),ht=d.get("options"),bt=d.command,wt={};bt&&(p&&(0,u.isString)(bt)?wt=p.get(bt)||{}:(0,u.isFunction)(bt)?wt=p.create({run:bt}):bt!==null&&(0,u.isObject)(bt)&&(wt=p.create(bt)),d.active?(!E&&((i=d.collection)===null||i===void 0||i.deactivateAll(J,d)),d.set("active",!0,{silent:!0}).trigger("checkActive"),!B&&p.runCommand(wt,ou(ou({},ht),{sender:d})),wt.noStop&&d.set("active",!1)):(v.removeClass(m),!B&&p.stopCommand(wt,ou(ou({},ht),{sender:d,force:1}))))},n.prototype.updateDisable=function(){var t=this,e=t.disableCls,r=t.model,i=r.disable;this.$el[i?"addClass":"removeClass"](e)},n.prototype.checkActive=function(){var t=this,e=t.model,r=t.$el,i=t.activeCls;e.active?r.addClass(i):r.removeClass(i)},n.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},n.prototype.toggleActive=function(){var t=this,e=t.model,r=t.em,i=e.active,l=e.togglable;i&&!l||(e.active=!i,i?e.runDefaultCommand&&r.runDefault():e.stopDefaultCommand&&r.stopDefault())},n.prototype.render=function(){var t=this.model,e=t.get("label"),r=this.$el;return!t.get("el")&&r.empty(),this.updateAttributes(),e&&r.append(e),this.checkActive(),this.updateDisable(),this},n}(dr);const mb=gb;var yb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_b=function(a){yb(n,a);function n(t){var e=a.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,i=t.get("el"),l=new mb({el:i,model:t}),d=l.render().el;return r?r.appendChild(d):this.$el.append(d),d},n.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(r){return t.addToCollection(r,e)}),this.$el.append(e),this.$el.attr("class",(0,u.result)(this,"className")),this},n}(dr);const bb=_b;var wb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bh=function(){return bh=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},bh.apply(this,arguments)},xb=function(a){wb(n,a);function n(t){var e=a.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return n.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},n.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},n.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},n.prototype.attributes=function(){return this.model.get("attributes")},n.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,r=this.model.get("resizable");if(e&&r){var i=r===!0?[!0,!0,!0,!0]:r,l=i.length,d=void 0,p=void 0,v=void 0,m=!1;if(l==2){var E=i;d=E[0],v=E[0],p=E[1],m=E[1]}else if(l==4){var E=i;d=E[0],p=E[1],v=E[2],m=E[3]}var B=new e.Utils.Resizer(bh({tc:d,cr:p,bc:v,cl:m,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(J,ht){var bt=ht.target,wt=J.style,Vt=B.getConfig(),Xt=Vt.keyWidth,te=Vt.keyHeight,ve=J.getBoundingClientRect(),Ee=bt=="container",Re=wt[Xt],ze=wt[te],be=Re&&!Ee?parseFloat(Re):ve.width,He=ze&&!Ee?parseFloat(ze):ve.height;return{left:0,top:0,width:be,height:He}}},r&&typeof r!="boolean"?r:{}));B.blur=function(){},B.focus(this.el)}},n.prototype.render=function(){var t=this.model.buttons,e=this.$el,r=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(r,"one-bg ").concat(r,"two-color");if(e.addClass(i),this.toggleVisible(),t.length){var l=new bb(t);e.append(l.render().el)}return e.append(this.model.get("content")),this},n}(dr);const Cb=xb;var Sb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ob=function(a){Sb(n,a);function n(t){var e=a.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return n.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},n.prototype.addTo=function(t){this.addToCollection(t)},n.prototype.addToCollection=function(t,e){var r=e||null,i=t.get("el"),l=new Cb(t),d=l.render().el,p=t.get("appendTo");if(!i)if(p){var v=document.querySelector(p);v==null||v.appendChild(d)}else r?r.appendChild(d):this.$el.append(d);return l.initResize(),d},n.prototype.render=function(){var t=this,e=this.$el,r=document.createDocumentFragment();return e.empty(),this.collection.each(function(i){return t.addToCollection(i,r)}),e.append(r),e.attr("class",this.className),this},n}(dr);const Tb=Ob;var Eb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pb=function(a){Eb(n,a);function n(t){var e=a.call(this,t,"Panels",_h)||this;e.panels=new hb(e,e.config.defaults);for(var r in _h)r in e.config||(e.config[r]=_h[r]);return e}return n.prototype.getPanels=function(){return this.panels},n.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},n.prototype.addPanel=function(t){return this.panels.add(t)},n.prototype.removePanel=function(t){return this.panels.remove(t)},n.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},n.prototype.addButton=function(t,e){var r=this.getPanel(t);return r?r.buttons.add(e):null},n.prototype.removeButton=function(t,e){var r=this.getPanel(t);return r&&r.buttons.remove(e)},n.prototype.getButton=function(t,e){var r=this.getPanel(t);if(r){var i=r.buttons.where({id:e});return i.length?i[0]:null}return null},n.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new Tb(this.panels),this.PanelsViewObj.render().el},n.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},n.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},n.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},n}(nt);const kb=Pb;var Ab={stylePrefix:"cm-",optsCodeViewer:{}};const Mb=Ab;var Lb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Db=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Ib=function(a){Lb(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.build=function(t,e){e===void 0&&(e={});var r=e.em,i=Db(e,["em"]),l=i;if(e.cleanId&&r){var d=r.Css.getAll(),p=d.toJSON().map(function(v){var m=v.selectors,E=m&&m.length===1&&m.models[0];return E&&E.isId()&&E.get("name")}).filter(Boolean);l.attributes||(l.attributes=function(v,m){var E=m.id;return E&&E[0]==="i"&&!v.get("script")&&!v.get("attributes").id&&p.indexOf(E)<0&&delete m.id,m})}return t.toHTML(l)},n}(b.Hn);const jb=Ib;var Rb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fb=function(a){Rb(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.build=function(t){var e=this,r=t.toJSON();return this.beforeEach(r),(0,u.each)(r,function(i,l){var d=r[l];if(d instanceof b.Hn)r[l]=e.build(d);else if(d instanceof b.FE){var p=d;r[l]=[],p.length&&p.forEach(function(v,m){r[l][m]=e.build(v)})}}),r},n.prototype.beforeEach=function(t){delete t.status},n}(b.Hn);const Nb=Fb;var Vb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Bb(a){var n,t=((n=a.toString().match(/\{([\s\S]*)\}/m))===null||n===void 0?void 0:n[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var Hb=function(a){Vb(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.mapModel=function(t){var e,r=this,i="",l=t.get("script-export")||t.get("script"),d=t.get("type"),p=t.get("components"),v=t.getId();if(l){var m=t.get("attributes");m=(0,u.extend)({},m,{id:v}),t.set("attributes",m,{silent:!0});var E=t.getScriptString(l),B=t.get("script-props");if(t.get("scriptUpdated")&&!B)this.mapJs[d+"-"+v]={ids:[v],code:E};else{var J=void 0,ht=this.mapJs[d];if(B&&(J=t.__getScriptProps()),ht)ht.ids.push(v),J&&(ht.props[v]=J);else{var bt={ids:[v],code:E};J&&(bt.props=(e={},e[v]=J,e)),this.mapJs[d]=bt}}}return p.forEach(function(wt){i+=r.mapModel(wt)}),i},n.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var r in this.mapJs){var i=this.mapJs[r];if(i.code)if(i.props){if(Bb(i.code))continue;e+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var l="#"+i.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(l,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return e},n}(b.Hn);const zb=Hb;var Ub=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wh=function(){return wh=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},wh.apply(this,arguments)},dc;(0,g.hasWin)()&&(dc=wr(631),wr(531),wr(629),wr(210));var Og=function(a){Ub(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},n.prototype.init=function(t){return(0,u.bindAll)(this,"onChange"),this.editor=dc.fromTextArea(t,wh({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},n.prototype.onChange=function(){this.trigger("update",this)},n.prototype.getEditor=function(){return this.editor},n.prototype.getElement=function(){return this.element},n.prototype.setElement=function(t){return this.element=t,this},n.prototype.refresh=function(){return this.getEditor().refresh(),this},n.prototype.focus=function(){return this.getEditor().focus(),this},n.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},n.prototype.setContent=function(t,e){var r=this;e===void 0&&(e={});var i=this.editor;if(i){i.setValue(t);var l=this.get("autoFormat"),d=i.autoFormatRange&&(l===!0||Array.isArray(l)&&l.includes(this.get("codeName")));d&&(dc.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),dc.commands.goDocStart(i)),!e.noRefresh&&setTimeout(function(){return r.refresh()})}},n}(b.Hn);const Wb=Og;Og.prototype.CodeMirror=dc;var Kb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gb=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},$b=function(a){Kb(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.template=function(t){var e=t.pfx,r=t.codeName,i=t.label;return _(Tg||(Tg=Gb([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,r,e,i,e)},n.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},n.prototype.render=function(){var t,e,r=this,i=r.model,l=r.pfx,d=r.$el,p=i.toJSON(),v=i.get("input")||((e=(t=i).getElement)===null||e===void 0?void 0:e.call(t));return p.pfx=l,d.html(this.template(p)),d.attr("class","".concat(l,"editor-c")),d.find("#".concat(l,"code")).append(v),this},n}(b.G7);const Zb=$b;var Tg,qb=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),id=function(){return id=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},id.apply(this,arguments)},Yb="CodeMirror",Xb=function(a){qb(n,a);function n(t){var e=a.call(this,t,"CodeManager",Mb)||this;e.EditorView=Zb;var r=e.config,i=r.pStylePrefix;return i&&(r.stylePrefix=i+r.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new jb,css:new Ip,json:new Nb,js:new zb},e.defViewers={CodeMirror:new Wb},e.loadDefaultGenerators().loadDefaultViewers(),e}return n.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},n.prototype.getGenerator=function(t){return this.generators[t]},n.prototype.getGenerators=function(){return this.generators},n.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},n.prototype.getViewer=function(t){return this.viewers[t]},n.prototype.getViewers=function(){return this.viewers},n.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,u.isUndefined)(t.type)?Yb:t.type,r=this.getViewer(e)&&this.getViewer(e).clone(),i=document.createElement("div"),l=document.createElement("textarea");return i.appendChild(l),r.set(id(id({},this.config.optsCodeViewer),t)),r.init(l),r.setElement(i),r},n.prototype.updateViewer=function(t,e){t.setContent(e)},n.prototype.getCode=function(t,e,r){r===void 0&&(r={}),r.em=this.em;var i=this.getGenerator(e);return i?i.build(t,r):""},n.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},n.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},n.prototype.destroy=function(){},n}(nt);const Jb=Xb;var Qb=wr(410),tw=wr.n(Qb),ew={maximumStackLength:500,trackSelection:!0};const rw=ew;var nw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),la=function(){return la=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},la.apply(this,arguments)},iw=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},od=function(a){return a.avoidStore||a.noUndo},Eg=function(a){return Object.keys(a.changedAttributes())},ow=function(a){nw(n,a);function n(t){var e=a.call(this,t,"UndoManager",rw)||this;e.config._disable&&(e.config.maximumStackLength=0);var r=!0;return e.um=new(tw())(la({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(i){var l=i.get("_undo");if(l){var d=i.get("_undoexc");if((0,u.isArray)(d)&&Eg(i).some(function(p){return d.indexOf(p)>=0}))return!1;if((0,u.isBoolean)(l)||(0,u.isArray)(l)&&Eg(i).some(function(p){return l.indexOf(p)>=0}))return!0}return!1},on:function(i,l,d){var p=this;!this.beforeCache&&(this.beforeCache=i.previousAttributes());var v=d||l||{};if(v.noUndo&&setTimeout(function(){p.beforeCache=null}),!od(v)){var m=i.toJSON({fromUndo:r}),E={object:i,before:this.beforeCache,after:m};return this.beforeCache=null,(0,u.isEmpty)(m)?void 0:E}}}),e.um.changeUndoType("add",{on:function(i,l,d){if(d===void 0&&(d={}),!(od(d)||!e.isRegistered(l)))return{object:l,before:void 0,after:i,options:la(la({},d),{fromUndo:r})}}}),e.um.changeUndoType("remove",{on:function(i,l,d){if(d===void 0&&(d={}),!(od(d)||!e.isRegistered(l)))return{object:l,before:i,after:void 0,options:la(la({},d),{fromUndo:r})}}}),e.um.changeUndoType("reset",{undo:function(i,l){i.reset(l,{fromUndo:r})},redo:function(i,l,d){i.reset(d,{fromUndo:r})},on:function(i,l){if(l===void 0&&(l={}),!(od(l)||!e.isRegistered(i)))return{object:i,before:l.previousModels,after:iw([],i.models,!0),options:la(la({},l),{fromUndo:r})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),["undo","redo"].forEach(function(i){return e.um.on(i,function(){return t.trigger(i)})}),e}return n.prototype.postLoad=function(){var t=this,e=t.config,r=t.em;e.trackSelection&&r&&this.add(r.get("selected"))},n.prototype.add=function(t){return this.um.register(t),this},n.prototype.remove=function(t){return this.um.unregister(t),this},n.prototype.removeAll=function(){return this.um.unregisterAll(),this},n.prototype.start=function(){return this.um.startTracking(),this},n.prototype.stop=function(){return this.um.stopTracking(),this},n.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,i=e.um;return!r.isEditing()&&i.undo(t),this},n.prototype.undoAll=function(){return this.um.undoAll(),this},n.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,r=e.em,i=e.um;return!r.isEditing()&&i.redo(t),this},n.prototype.redoAll=function(){return this.um.redoAll(),this},n.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},n.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},n.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},n.prototype.getStack=function(){return this.um.stack},n.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(r){var i=r.get("magicFusionIndex");e.indexOf(i)<0&&(e.push(i),t.push(r))}),t},n.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},n.prototype.getGroupedStack=function(){var t={},e=this.getStack(),r=function(i,l){var d=i.attributes,p=d.type,v=d.after,m=d.before,E=d.object,B=d.options,J=B===void 0?{}:B;return{index:l,type:p,after:v,before:m,object:E,options:J}};return e.forEach(function(i,l){var d=i.get("magicFusionIndex"),p=r(i,l);t[d]?t[d].push(p):t[d]=[p]}),Object.keys(t).map(function(i){var l=t[i];return{index:l[l.length-1].index,actions:l,labels:(0,u.unique)(l.reduce(function(d,p){var v,m=(v=p.options)===null||v===void 0?void 0:v.action;return m&&d.push(m),d},[]))}})},n.prototype.goToGroup=function(t){var e=this;if(t){var r=this.getPointer(),i=t.index-r;(0,u.times)(Math.abs(i),function(){e[i<0?"undo":"redo"](!1)})}},n.prototype.getPointer=function(){return this.getStack().pointer},n.prototype.clear=function(){return this.um.clear(),this},n.prototype.getInstance=function(){return this.um},n.prototype.destroy=function(){this.clear().removeAll()},n}(nt);const aw=ow;var sw={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const lw=sw;var au=function(){return au=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},au.apply(this,arguments)},ad;(function(a){a[a.ACTIVE=1]="ACTIVE",a[a.INACTIVE=0]="INACTIVE",a[a.DISABLED=-1]="DISABLED"})(ad||(ad={}));var xh="_rte",Js={ACTIVE:1,INACTIVE:0,DISABLED:-1},sd=function(a,n){n===void 0&&(n="A");var t=a.selection()||{},e=t.anchorNode,r=t.focusNode,i=e==null?void 0:e.parentNode,l=r==null?void 0:r.parentNode;return(i==null?void 0:i.nodeName)==n||(l==null?void 0:l.nodeName)==n},ld="data-selectme",pc={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(a){return a.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(a){return a.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(a){return a.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(a){return a.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(a){return a&&a.selection()&&sd(a)?Js.ACTIVE:Js.INACTIVE},result:function(a){sd(a)?a.exec("unlink"):a.insertHTML('<a href="" '.concat(ld,">").concat(a.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(a){return a!=null&&a.selection()&&sd(a,"SPAN")?Js.DISABLED:Js.INACTIVE},result:function(a){!sd(a,"SPAN")&&a.insertHTML("<span ".concat(ld,">").concat(a.selection(),"</span>"),{select:!0})}}},uw=function(){function a(n,t,e){var r=this;if(e===void 0&&(e={}),this.em=n,this.settings=e,t[xh])return t[xh];t[xh]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(e.actions||[]).map(function(m){var E=m;return(0,u.isString)(m)?E=au({},pc[m]):pc[m.name]&&(E=au(au({},pc[m.name]),m)),E}),l=i.length?i:Object.keys(pc).map(function(m){return pc[m]});e.classes=au({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var d=e.classes,p=e.actionbar;if(this.actionbar=p,this.classes=d,this.actions=l,!p){if(!this.isCustom(e.module)){var v=e.actionbarContainer;p=document.createElement("div"),p.className=d.actionbar,v==null||v.appendChild(p),this.actionbar=p}l.forEach(function(m){return r.addAction(m)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return a.prototype.isCustom=function(n){var t=n||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},a.prototype.destroy=function(){},a.prototype.setEl=function(n){this.el=n,this.doc=n.ownerDocument},a.prototype.updateActiveActions=function(){var n=this,t=this.getActions();t.forEach(function(e){var r=e.update,i=e.btn,l=n.classes,d=l.active,p=l.inactive,v=l.disabled,m=e.state,E=e.name,B=n.doc,J=ad.INACTIVE;if(i&&(i.className=i.className.replace(d,"").trim(),i.className=i.className.replace(p,"").trim(),i.className=i.className.replace(v,"").trim()),m){var ht=m(n,B);if(J=ht,i)switch(ht){case Js.ACTIVE:i.className+=" ".concat(d);break;case Js.INACTIVE:i.className+=" ".concat(p);break;case Js.DISABLED:i.className+=" ".concat(v);break}}else B.queryCommandSupported(E)&&B.queryCommandState(E)&&(i&&(i.className+=" ".concat(d)),J=ad.ACTIVE);e.currentState=J,r==null||r(n,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},a.prototype.enable=function(n){return this.enabled?this:this.__toggleEffects(!0,n)},a.prototype.disable=function(){return this.__toggleEffects(!1)},a.prototype.__toggleEffects=function(n,t){n===void 0&&(n=!1),t===void 0&&(t={});var e=n?pe.on:pe.S1,r=this,i=r.el,l=r.doc,d=this.actionbarEl();if(d&&(d.style.display=n?"":"none"),i.contentEditable="".concat(!!n),e(i,"mouseup keyup",this.updateActiveActions),e(l,"keydown",this.__onKeydown),e(l,"paste",this.__onPaste),this.enabled=n,n){var p=t.event;if(this.syncActions(),this.updateActiveActions(),p){var v=null;if(l.caretRangeFromPoint){var m=(0,pe.VB)(p);v=l.caretRangeFromPoint(m.clientX,m.clientY)}else p.rangeParent&&(v=l.createRange(),v.setStart(p.rangeParent,p.rangeOffset));var E=l.getSelection();E==null||E.removeAllRanges(),v&&(E==null||E.addRange(v))}i.focus()}return this},a.prototype.__onKeydown=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=this.doc,i=["insertOrderedList","insertUnorderedList"];n.key==="Enter"&&!i.some(function(l){return r.queryCommandState(l)})&&(r.execCommand("insertLineBreak"),n.preventDefault())},a.prototype.__onPaste=function(n){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:n,rte:this,editor:t.getEditor()});var r=n.clipboardData,i=r.getData("text"),l=r.getData("text/html");if(i&&!l){n.preventDefault();var d=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,d)}},a.prototype.syncActions=function(){var n=this;this.getActions().forEach(function(t){if(n.actionbar&&(!t.state||t.state&&t.state(n,n.doc)>=0)){var e=t.event||"click",r=t.btn;r&&(r["on".concat(e)]=function(){t.result(n,t),n.updateActiveActions()})}})},a.prototype.addAction=function(n,t){t===void 0&&(t={});var e=t.sync,r=this.actionbarEl();if(r){var i=n.icon,l=n.attributes,d=l===void 0?{}:l,p=document.createElement("span");p.className=this.classes.button,n.btn=p;for(var v in d)p.setAttribute(v,d[v]);typeof i=="string"?p.innerHTML=i:p.appendChild(i),r.appendChild(p)}e&&(this.actions.push(n),this.syncActions())},a.prototype.getActions=function(){return this.actions},a.prototype.selection=function(){return this.doc.getSelection()},a.prototype.exec=function(n,t){this.doc.execCommand(n,!1,t)},a.prototype.actionbarEl=function(){return this.actionbar},a.prototype.insertHTML=function(n,t){var e=t===void 0?{}:t,r=e.select,i=this,l=i.em,d=i.doc,p=i.el,v=d.getSelection();if(v&&v.rangeCount){var m=(0,g.getComponentModel)(p)||l.getSelected(),E=d.createElement("div"),B=v.getRangeAt(0);B.deleteContents(),(0,u.isString)(n)?E.innerHTML=n:n&&E.appendChild(n),Array.prototype.slice.call(E.childNodes).forEach(function(J){B.insertNode(J)}),v.removeAllRanges(),v.addRange(B),p.focus(),r&&m&&(m.once("rte:disable",function(){var J=m.find("[".concat(ld,"]"))[0];J&&(l.setSelected(J),J.removeAttributes(ld))}),m.trigger("disable"))}},a}();const cw=uw;var fw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pg=function(a,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(m){try{v(e.next(m))}catch(E){l(E)}}function p(m){try{v(e.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):r(m.value).then(d,p)}v((e=e.apply(a,n||[])).next())})},kg=function(a,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(v){return function(m){return p([v,m])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(t=0)),t;)try{if(e=1,r&&(i=v[0]&2?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,r=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){t.label=v[1];break}if(v[0]===6&&t.label<i[1]){t.label=i[1],i=v;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(v);break}i[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(a,t)}catch(m){v=[6,m],r=0}finally{e=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},dw=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Ch="".concat(Ie.refresh," frame:scroll ").concat(he.g.update),pw="rte:enable",hw="rte:disable",vw="rte:custom",gw={enable:pw,disable:hw,custom:vw},mw=function(a){fw(n,a);function n(t){var e=a.call(this,t,"RichTextEditor",lw)||this;e.events=gw;var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.pfx=r.stylePrefix,e.actions=r.actions||[];var l=new b.Hn;return e.model=l,l.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,u.debounce)(function(){return e.__trgCustom()},0),e}return n.prototype.onLoad=function(){if((0,g.hasWin)()){var t=this.config,e=t.pStylePrefix,r=t.custom,i=(0,pe.ut)("div",{class:(0,pe.cx)("".concat(e,"rte-toolbar"),!r&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,pe.ut)("div")),(0,pe.on)(i,"mousedown",function(l){return l.stopPropagation()})}},n.prototype.__trgCustom=function(){var t=this,e=t.model,r=t.em,i=t.events;r.trigger(i.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},n.prototype.destroy=function(){var t,e,r;(t=this.globalRte)===null||t===void 0||t.destroy(),(r=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||r===void 0||r.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,pe.L_)(this.toolbar)},n.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},n.prototype.initRte=function(t){var e=this.globalRte,r=this,i=r.em,l=r.pfx,d=r.actionbar,p=r.config,v=this.actions||dw([],p.actions,!0),m={actionbar:"".concat(l,"actionbar"),button:"".concat(l,"action"),active:"".concat(l,"active"),inactive:"".concat(l,"inactive"),disabled:"".concat(l,"disabled")};return e?(e.em=i,e.setEl(t)):(e=new cw(i,t,{classes:m,actions:v,actionbar:d,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},n.prototype.add=function(t,e){var r;e===void 0&&(e={}),e.name=t,(r=this.globalRte)===null||r===void 0||r.addAction(e,{sync:!0})},n.prototype.get=function(t){var e,r;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(i){i.name==t&&(r=i)}),r},n.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},n.prototype.remove=function(t){var e,r=this.getAll(),i=this.get(t);if(i){var l=i.btn,d=r.indexOf(i);(e=l==null?void 0:l.parentNode)===null||e===void 0||e.removeChild(l),r.splice(d,1)}return i},n.prototype.run=function(t){var e=this.globalRte,r=(0,u.isString)(t)?this.get(t):t;e&&r&&(r.result(e,r),e.updateActiveActions())},n.prototype.getToolbarEl=function(){return this.toolbar},n.prototype.updatePosition=function(){var t=this,e=t.em,r=t.toolbar,i="px",l=e.Canvas,d=r.style,p=l.getTargetToElementFixed(this.lastEl,r,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(v){var m=p[v];(0,g.isDef)(m)&&(d[v]=(0,u.isString)(m)?m:(m||0)+i)})},n.prototype.enable=function(t,e,r){return r===void 0&&(r={}),Pg(this,void 0,void 0,function(){var i,l,d,p,v;return kg(this,function(m){switch(m.label){case 0:return this.lastEl=t.el,i=this,l=i.customRte,d=i.em,p=t.getChildrenContainer(),this.toolbar.style.display="",[4,l?l.enable(p,e):this.initRte(p).enable(r)];case 1:return v=m.sent(),d&&(setTimeout(this.updatePosition.bind(this),0),d.off(Ch,this.updatePosition,this),d.on(Ch,this.updatePosition,this),d.trigger("rte:enable",t,v)),this.model.set({currentView:t}),[2,v]}})})},n.prototype.getContent=function(t,e){return Pg(this,void 0,void 0,function(){var r;return kg(this,function(i){switch(i.label){case 0:return r=this.customRte,r&&e&&(0,u.isFunction)(r.getContent)?[4,r.getContent(t.el,e)]:[3,2];case 1:return[2,i.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},n.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},n.prototype.disable=function(t,e,r){r===void 0&&(r={});var i=this.em,l=this.customRte,d=t.getChildrenContainer();l?l.disable(d,e):e&&e.disable(),this.hideToolbar(),i&&(i.off(Ch,this.updatePosition,this),!r.fromMove&&i.trigger("rte:disable",t,e)),this.model.unset("currentView")},n}(nt);const yw=mw,_w={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var bw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ti=function(){return ti=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ti.apply(this,arguments)},ww=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Ag=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Sh=function(a){bw(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.getDefaults=function(){return(0,u.result)(this.prototype,"defaults")},n.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var r=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||r).replace(/ /g,"-"));var l=this.get("property");!this.get("id")&&this.set("id",l),!i&&this.set("name",(0,g.capitalize)(l).replace(/-/g," ")),this.on("change",this.__upTargets),n.callInit(this,t,e)},n.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},n.prototype.__upTargets=function(t,e){var r,i=this;e===void 0&&(e={});var l=this.em,d=l.Styles,p=this.getName(),v=e.__clear,m=v?"":this.__getFullValue(e),E=this.__getParentProp(),B=this.changedAttributes(),J=(0,u.keys)(B).reduce(function(te,ve){return te[ve]=i.previous(ve),te},{}),ht=Ag(Ag([],(0,u.keys)(this.__getClearProps()),!0),["__p"],!1),bt=(0,u.keys)(B),wt=!e.__up&&!E&&(v||ht.some(function(te){return bt.indexOf(te)>=0})),Vt=this.get("onChange"),Xt={property:this,from:J,to:B,value:m,opts:e};d.__trgEv(d.events.propertyUpdate,Xt),Vt&&Vt(Xt),wt&&this.__upTargetsStyle((r={},r[p]=m,r),e)},n.prototype.__upTargetsStyle=function(t,e){var r,i=(r=this.em)===null||r===void 0?void 0:r.get("StyleManager");i==null||i.addStyleTargets(ti(ti({},t),{__p:!!e.avoidStore}),e)},n.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var r=e.partial,i=ww(e,["partial"]);return t.__p=!!(i.avoidStore||r),this.set(t,ti(ti({},i),{avoidStore:t.__p}))},n.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,ti(ti({},e),{__up:!0}))},n.prototype.init=function(){},n.prototype.getId=function(){return this.get("id")},n.prototype.getType=function(){return this.get("type")},n.prototype.getName=function(){return this.get("property")},n.prototype.getLabel=function(t){var e;t===void 0&&(t={});var r=t.locale,i=r===void 0?!0:r,l=this.getId(),d=this.get("name")||this.get("label");return i&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(l)))||d},n.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,r=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():r},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget(),i=this.get("value");return!(0,u.isUndefined)(i)&&i!==""&&!r},n.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},n.prototype.getStyle=function(t){var e;t===void 0&&(t={});var r=this.getName(),i=t.camelCase?(0,g.camelCase)(r):r;return e={},e[i]=this.__getFullValue(t),e},n.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,u.isUndefined)(t)?this.get("defaults"):t)},n.prototype.upValue=function(t,e){e===void 0&&(e={});var r=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(r,e)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),ti(ti({},t),{__clear:!0})),this},n.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},n.prototype.getParent=function(){return this.__getParentProp()},n.prototype.isFull=function(){return!!this.get("full")},n.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},n.prototype.__getClearProps=function(){return{value:""}},n.prototype.setValue=function(t,e,r){e===void 0&&(e=!0),r===void 0&&(r={});var i=this.parseValue(t),l=!e;!l&&this.set({value:void 0},{avoidStore:l,silent:!0}),this.set(i,ti({avoidStore:l},r))},n.prototype.setValueFromInput=function(t,e,r){r===void 0&&(r={}),this.setValue(t,e,ti(ti({},r),{fromInput:1}))},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r={value:t},i="!important",l=this.get("functionName")||"";if((0,u.isString)(t)&&t.indexOf(i)!==-1&&(r.value=t.replace(i,"").trim(),r.important=!0),!l&&!e.complete)return r;var d=[],p="".concat(r.value).trim(),v=p.indexOf("(")+1,m=l||p.substring(0,v-1);if(m&&(r.functionName=m),!l||p.indexOf("".concat(l,"("))===0){var E=p.lastIndexOf(")");d.push(v),E>=0&&d.push(E),r.value=String.prototype.substring.apply(p,d)}if(e.numeric){var B=parseFloat(r.value);r.unit=r.value.replace(B,""),r.value=B}return r},n.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,r=e.withDefault;return!this.hasValue()&&r?this.getDefaultValue():this.getFullValue()},n.prototype.getFullValue=function(t,e){e===void 0&&(e={});var r=this.get("functionName"),i=this.getDefaultValue(),l=(0,u.isUndefined)(t)?this.get("value"):t,d=!(0,u.isUndefined)(l)&&l!=="";if(l&&i&&l===i)return i;if(r&&d){var p=r==="url"?"'".concat(l.replace(/'|"/g,""),"'"):l;l="".concat(r,"(").concat(p,")")}return d&&this.get("important")&&!e.skipImportant&&(l="".concat(l," !important")),l||""},n.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},n.prototype.getParentTarget=function(){return this.get("parentTarget")||null},n.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,r=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,r>=0?r:void 0]).trim()}},n.prototype.__checkVisibility=function(t){var e=t.target,r=t.component,i=t.sectors,l=r||e;if(!l)return!1;var d=this.getId(),p=this.getName(),v=this.get("toRequire"),m=this.get("requires"),E=this.get("requiresParent"),B=l.get("unstylable"),J=l.get("stylable-require"),ht=l.get("stylable");if((0,u.isArray)(ht)&&(ht=ht.indexOf(p)>=0),(0,u.isArray)(B)&&(ht=B.indexOf(p)<0),v&&(ht=!e||J&&(J.indexOf(d)>=0||J.indexOf(p)>=0)),i&&m){var bt=(0,u.keys)(m);i.forEach(function(te){te.getProperties().forEach(function(ve){if((0,u.includes)(bt,ve.id)){var Ee=m[ve.id];ht=ht&&(0,u.includes)(Ee,ve.get("value"))}})})}if(E){var wt=r&&r.parent(),Vt=wt&&wt.getEl();if(Vt){var Xt=(0,g.hasWin)()?window.getComputedStyle(Vt):{};(0,u.each)(E,function(te,ve){ht=ht&&Xt[ve]&&(0,u.includes)(te,Xt[ve])})}else ht=!1}return!!ht},n}(b.Hn);const Dr=Sh;Sh.callParentInit=function(a,n,t,e){e===void 0&&(e={}),a.prototype.initialize.apply(n,[t,ti(ti({},e),{skipInit:1})])},Sh.callInit=function(a,n,t){t===void 0&&(t={}),!t.skipInit&&a.init(n,t)};var xw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ud=function(){return ud=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ud.apply(this,arguments)},Cw=function(a){xw(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return{values:{}}},n.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},n.prototype.getId=function(){return this.cid},n.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},n.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(r,i){return r[(0,g.camelCase)(i)]=e[i],r},{}):e},n.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},n.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},n.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},n.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},n.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},n.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},n.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},n.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",ud(ud({},this.getValues()),t))},n}(b.Hn);const Sw=Cw;var Ow=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mg=function(a){Ow(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},n}(b.FE);const Tw=Mg;Mg.prototype.model=Sw;var Ew=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),su=function(){return su=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},su.apply(this,arguments)},Lg=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Dg=function(a){return a==="integer"||a==="number"},Pw=function(a){Ew(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return su(su({},Dr.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Dr.callParentInit(Dr,this,t,e);var r=this.em,i=new Ph(this.get("properties")||[],{em:r,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),Dr.callInit(this,t,e)},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),n.prototype.getProperties=function(){return Lg([],this.get("properties").models,!0)},n.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},n.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},n.prototype.isDetached=function(){return!!this.get("detached")},n.prototype.getValues=function(t){var e=t===void 0?{}:t,r=e.byName;return this.getProperties().reduce(function(i,l){var d=r?l.getName():l.getId();return i[d]="".concat(l.__getFullValue()),i},{})},n.prototype.getSeparator=function(){return this.getSplitSeparator()},n.prototype.getJoin=function(){return this.__getJoin()},n.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var r=this.getName(),i=this.__getJoin(),l=this.get("toStyle"),d=this.getValues(),p={};if(l)p=l(d,{join:i,name:r,property:this});else if(d=this.getValues({byName:!0}),this.isDetached())p=d;else{var v=this.getProperties().map(function(m){return m.__getFullValue({withDefault:1})}).filter(Boolean).join(i);p=(e={},e[r]=v,e)}return this.isDetached()?p[r]="":(p[r]=p[r]||"",p=su(su({},p),this.getProperties().reduce(function(m,E){return m[E.getName()]="",m},{}))),t.camelCase?Object.keys(p).reduce(function(m,E){return m[(0,g.camelCase)(E)]=p[E],m},{}):p},n.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},n.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var r=this.__getParentProp();if(r)return r.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},n.prototype.__upTargetsStyleProps=function(t,e){var r;t===void 0&&(t={});var i=this.getStyleFromProps();if(this.isDetached()&&e){var l=e.getName();i=(r={},r[l]=i[l],r)}this.__upTargetsStyle(i,t)},n.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),Dr.prototype._up.call(this,t,e),this},n.prototype.getStyle=function(t){return this.getStyleFromProps(t)},n.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return ai(e)},n.prototype.__getJoin=function(){var t=this.get("join");return(0,u.isString)(t)?t:this.get("separator")},n.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),r=this.getProperties(),i=r.map(function(d){return d.getName()}),l=Lg([e],i,!0);return l.some(function(d){return!(0,u.isUndefined)(t[d])&&t[d]!==""})},n.prototype.__splitValue=function(t,e){return ai(t).split(e).map(function(r){return r.trim()}).filter(Boolean)},n.prototype.__splitStyleName=function(t,e,r){return this.__splitValue(t[e]||"",r)},n.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var r=e===void 0?{}:e,i=r.byName,l=this.getProperties(),d=l.length===4&&l.every(function(m){return Dg(m.getType())}),p=this.__splitValue(t,this.getSplitSeparator()),v={};return l.forEach(function(m,E){var B=p[E],J=(0,u.isUndefined)(B)?"":B;if(d){var ht=p.length;J=p[E]||p[E%ht+(ht!=1&&ht%2?1:0)]||J}var bt=i?m.getName():m.getId();v[bt]=J||""}),v},n.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var r=e.byName,i=this.getName(),l=this.getProperties(),d=this.getSplitSeparator(),p=this.get("fromStyle"),v=p?p(t,{property:this,name:i,separator:d}):{};return p||(v=this.__getSplitValue(t[i]||"",{byName:r}),l.forEach(function(m){var E=t[m.getName()],B=r?m.getName():m.getId();!(0,u.isUndefined)(E)&&E!==""&&(v[B]=E)})),v},n.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(i){var l=t[i.getId()];i.__getFullValue()!==l&&i.upValue(l,e)});var r=(0,u.keys)(t).map(function(i){return t[i]}).join(" ");this.set("value",r,{silent:!0})},n.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),Dr.prototype.clear.call(this),this},n.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},n.prototype.getFullValue=function(){return this.__getFullValue()},n.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},n}(Dr);const lu=Pw;var kw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ci=function(){return ci=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ci.apply(this,arguments)},Aw=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Mw=/,(?![^\(]*\))/,Lw=/\s(?![^(]*\))/,Dw=function(a){kw(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return ci(ci({},lu.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),lu.callParentInit(lu,this,t,e);var r=this.get("layers"),i=new Tw(r,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),lu.callInit(this,t,e)},Object.defineProperty(n.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),n.prototype.getLayers=function(){return this.layers.models},n.prototype.hasLayers=function(){return this.getLayers().length>0},n.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},n.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},n.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},n.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},n.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var r=this.layers,i=t?t.getIndex():-1;i>=0&&(0,u.isNumber)(e)&&e>=0&&e<r.length&&i!==e&&(this.removeLayer(t),r.add(t,{at:e}))},n.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={};this.getProperties().forEach(function(l){var d=l.getId(),p=t[d];r[d]=(0,u.isUndefined)(p)?l.getDefaultValue():p});var i=this.layers.push({values:r},e);return i},n.prototype.removeLayer=function(t){return this.layers.remove(t)},n.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},n.prototype.getLayerLabel=function(t){var e="";if(t){var r=this.get("layerLabel"),i=t.getValues(),l=t.getIndex();if(r)e=r(t,{index:l,values:i,property:this});else{var d=[];this.getProperties().map(function(p){d.push(i[p.getId()])}),e=d.filter(Boolean).join(" ")}}return e},n.prototype.getStyleFromLayer=function(t,e){var r;e===void 0&&(e={});var i=this.__getJoin(),l=this.__getJoinLayers(),d=this.get("toStyle"),p=this.getName(),v=t.getValues(),m;if(d)m=d(v,{join:i,joinLayers:l,name:p,layer:t,property:this});else{var E=this.getProperties().map(function(B){var J=B.getName(),ht=v[B.getId()],bt=(0,u.isUndefined)(ht)?B.getDefaultValue():ht;if(e.number&&Dg(B.getType())){var wt=B.parseValue(ht,e.number);bt="".concat(wt.value).concat(wt.unit)}return{name:J,value:bt}});m=this.isDetached()?E.reduce(function(B,J){return B[J.name]=J.value,B},{}):(r={},r[this.getName()]=E.map(function(B){return B.value}).join(i),r)}return e.camelCase?Object.keys(m).reduce(function(B,J){return B[(0,g.camelCase)(J)]=m[J],B},{}):m},n.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var r={},i=this.get("preview");return i&&(r=this.getStyleFromLayer(t,e)),r},n.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,u.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},n.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},n.prototype.__upProperties=function(t,e){var r;e===void 0&&(e={});var i=this.getSelectedLayer();i&&(i.upValues((r={},r[t.getId()]=t.__getFullValue(),r)),!e.__up&&this.__upTargetsStyleProps(e))},n.prototype.__upLayers=function(t,e,r){this.__upTargetsStyleProps(r||e)},n.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return Dr.prototype.__upTargets.call(this,t,e)},n.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},n.prototype.__upTargetsStyle=function(t,e){return Dr.prototype.__upTargetsStyle.call(this,t,e)},n.prototype.__upSelected=function(t,e){var r=t===void 0?{}:t,i=r.noEvent;e===void 0&&(e={});var l=this.em.Styles,d=this.getSelectedLayer(),p=d==null?void 0:d.getValues();p&&this.getProperties().forEach(function(v){var m,E=(m=p[v.getId()])!==null&&m!==void 0?m:"";v.__getFullValue()!==E&&v.upValue(E,ci(ci({},e),{__up:!0}))}),!i&&l.__trgEv(l.events.layerSelect,{property:this})},n.prototype._up=function(t,e){e===void 0&&(e={});var r=t.__layers,i=r===void 0?[]:r,l=Aw(t,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},e),Dr.prototype._up.call(this,l,e),this},n.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var r=this.layers,i=t.map(function(l){return{values:l}});r.length===i.length?i.map(function(l,d){var p;return(p=r.at(d))===null||p===void 0?void 0:p.upValues(l.values)}):r.reset(i),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},n.prototype.__parseValue=function(t){var e=this,r=this.parseValue(t);return r.__layers=t.split(Mw).map(function(i){return i.trim()}).map(function(i){return e.__parseLayer(i)}).filter(Boolean),r},n.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),r=t.split(Lw),i=this.getProperties();return e?e({value:t,values:r}):i.reduce(function(l,d,p){var v=r[p];return l[d.getId()]=(0,u.isUndefined)(v)?d.getDefaultValue():v,l},{})},n.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var r=this.getName(),i=this.getProperties(),l=this.getLayerSeparator(),d=this.attributes.fromStyle,p=d?d(t,{property:this,name:r,separatorLayers:l}):[];if(!d){var v=this.__splitStyleName(t,r,l).map(function(m){return m.split(e.getSplitSeparator())}).map(function(m){var E={};return i.forEach(function(B,J){var ht=m[J];E[B.getId()]=(0,u.isUndefined)(ht)?B.getDefaultValue():ht}),E});i.forEach(function(m){var E=m.getId();e.__splitStyleName(t,m.getName(),l).map(function(B){var J;return J={},J[E]=B||m.getDefaultValue(),J}).forEach(function(B,J){v[J]=v[J]?ci(ci({},v[J]),B):B})}),p=v}return(0,u.isArray)(p)?p:[p]},n.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},n.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var r={},i=this.getName(),l=this.getLayers(),d=this.getProperties(),p=l.map(function(m){return e.getStyleFromLayer(m,t)});if(p.forEach(function(m){(0,u.keys)(m).map(function(E){r[E]||(r[E]=[]),r[E].push(m[E])})}),(0,u.keys)(r).map(function(m){r[m]=r[m].join(e.__getJoinLayers())}),this.isDetached())r[i]="",!l.length&&d.map(function(m){r[m.getName()]=""});else{var v=d.reduce(function(m,E){return m[E.getName()]="",m},{});r[i]=r[i]||"",r=ci(ci({},r),v)}return ci(ci({},r),t.__clear?{}:this.getEmptyValueStyle())},n.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),r=(0,u.keys)(e);return!!r.length&&r.every(function(i){return e[i]===t[i]})},n.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var r=this.getName(),i=this.getProperties(),l=(0,u.isString)(e)?e:e({property:this});if((0,u.isString)(l)){var d={};return this.isDetached()?i.map(function(p){d[p.getName()]=l}):d[r]=l,d}else return l}else return{}},n.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,u.isString)(e)?e:t)},n.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return ai(t[this.getName()])},n.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,r=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!r},n.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(ci(ci({},t),{__clear:!0})),Dr.prototype.clear.call(this),this},n.prototype.__canClearProp=function(){return!1},n.prototype.__getLayers=function(){return this.layers},n}(lu);const Iw=Dw;var jw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cd=function(){return cd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},cd.apply(this,arguments)},Rw=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},Fw=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Oh="data-clear-style",Nw=function(a){jw(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this;(0,u.bindAll)(e,"__change","__updateStyle");var r=t.config||{},i=r.em;e.config=r,e.em=i,e.pfx=r.stylePrefix||"",e.ppfx=r.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var l=e.model;l.view=e,e.onValueChange=(0,u.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,u.debounce)(e.updateStatus.bind(e),0),e.listenTo(l,"destroy remove",e.remove),e.listenTo(l,"change:visible",e.updateVisibility),e.listenTo(l,"change:name change:className change:full",e.render),e.listenTo(l,"change:value",e.onValueChange),e.listenTo(l,"change:parentTarget",e.updateStatus),e.listenTo(i,"change:device",e.onValueChange);var d=e.init&&e.init.bind(e);return d&&d(),e}return n.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(Oh,"]")]="clear",t},n.prototype.template=function(t){var e=this,r=e.pfx,i=e.ppfx;return`
      <div class="`.concat(r,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},n.prototype.templateLabel=function(t){var e=this,r=e.pfx,i=e.em,l=t.parent,d=t.attributes,p=d.icon,v=p===void 0?"":p,m=d.info,E=m===void 0?"":m,B=i==null?void 0:i.getConfig().icons,J=(B==null?void 0:B.close)||"";return`
      <span class="`.concat(r,"icon ").concat(v,'" title="').concat(E,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(l?"":'<div class="'.concat(r,'clear" style="display: none" ').concat(Oh,">").concat(J,"</div>"),`
    `)},n.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},n.prototype.remove=function(){var t=this;return b.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},n.prototype.updateStatus=function(){var t,e=this,r=e.model,i=e.pfx,l=e.ppfx,d=e.config,p="".concat(l,"four-color"),v="".concat(l,"color-warn"),m=this.$el.children(".".concat(i,"label")),E=this.getClearEl(),B=E?E.style:{};m.removeClass("".concat(p," ").concat(v)),B.display="none",r.hasValue({noParent:!0})&&d.highlightChanged?(m.addClass(p),d.clearProperties&&(B.display="")):r.hasValue()&&d.highlightComputed&&m.addClass(v),(t=this.parent)===null||t===void 0||t.updateStatus()},n.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},n.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Oh,"]"))),this.clearEl},n.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},n.prototype.onValueChange=function(t,e,r){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},n.prototype.setValue=function(t){var e=this.model,r=(0,u.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(r);this.__setValueInput(r)},n.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},n.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},n.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},n.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(cd(cd({},this._getClbOpts()),{value:t}))},n.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.emit&&this.emit.bind(this);r&&r.apply(void 0,Fw([this._getClbOpts()],t,!1))},n.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var r=e.complete,i=e.partial;Rw(e,["complete","partial"]);var l=this.model,d=r!==!1&&i!==!0;(0,g.isObject)(t)?l.__upTargetsStyle(t,{avoidStore:!d}):l.upValue(t,{partial:!d})},n.prototype._getClbOpts=function(){var t=this,e=t.model,r=t.el,i=t.createdEl;return{el:r,createdEl:i,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},n.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,r=t.model,i=t.el,l=t.$el,d=r.getName(),p=r.getType(),v=r.get("className")||"",m="".concat(e,"property"),E=p==="number"?"".concat(e).concat(p," ").concat(e,"integer"):"".concat(e).concat(p);this.createdEl&&this.__destroyFn(this._getClbOpts()),l.empty().append(this.template(r)),l.find("[data-sm-label]").append(this.templateLabel(r));var B=this.create&&this.create.bind(this);this.createdEl=B&&B(this._getClbOpts()),l.find("[data-sm-fields]").append(this.createdEl||this.templateInput(r)),i.className="".concat(m," ").concat(E," ").concat(m,"__").concat(d," ").concat(v).trim(),i.className+=r.isFull()?" ".concat(m,"--full"):"";var J=this.onRender&&this.onRender.bind(this);return J&&J(),this.setValue(r.getValue()),this},n.prototype.onRender=function(){},n}(b.G7);const ua=Nw;var Vw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bw=function(a){Vw(n,a);function n(t){var e=a.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var r=e.collection;return e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.render),e}return n.prototype.addTo=function(t,e,r){this.add(t,null,r)},n.prototype.add=function(t,e,r){r===void 0&&(r={});var i=this,l=i.parent,d=i.config,p=e||this.el,v=new t.typeView({model:t,config:d});l&&(v.parent=l),v.render();var m=v.el;this.properties.push(v),(0,pe.$Q)(p,m,r.at)},n.prototype.remove=function(){return b.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},n.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.pfx;this.clearItems();var l=document.createDocumentFragment();return this.collection.forEach(function(d){return t.add(d,l)}),r.empty(),r.append(l),r.attr("class","".concat(i,"properties")),this},n}(b.G7);const Th=Bw;var Hw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fd=function(){return fd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},fd.apply(this,arguments)},zw=function(a){Hw(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},n.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),ua.prototype.remove.apply(this,arguments),this},n.prototype.onValueChange=function(){},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.get("properties");if(r.length&&!this.props){var i=e.isDetached(),l=new Th({config:fd(fd({},this.config),{highlightComputed:i,highlightChanged:i}),collection:r,parent:this});l.render(),this.$el.find("#".concat(t,"input-holder")).append(l.el),this.props=l}},n.prototype.clearCached=function(){ua.prototype.clearCached.apply(this,arguments),delete this.props},n}(ua);const hc=zw;var Uw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ww=function(a){Uw(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},n.prototype.template=function(){var t=this,e=t.pfx,r=t.ppfx,i=t.em,l=i==null?void 0:i.getConfig().icons,d=(l==null?void 0:l.close)||"",p=(l==null?void 0:l.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(r,`no-touch-actions" data-move-layer>
          `).concat(p,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(d,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},n.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,r=t.config||{};this.em=r.em,this.config=r,this.sorter=t.sorter,this.pfx=r.stylePrefix||"",this.ppfx=r.pStylePrefix||"",this.propertyView=t.propertyView;var i=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},n.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},n.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},n.prototype.select=function(){this.model.select()},n.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},n.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},n.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},n.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var r=this.getPreviewEl(),i=t.getStylePreview({number:{min:-3,max:3}}),l=(0,u.keys)(i).map(function(d){return"".concat(d,":").concat(i[d])}).join(";");r.setAttribute("style",l)}},n.prototype.updateVisibility=function(){var t,e=this,r=e.pfx,i=e.model,l=e.propertyView,d=this.getPropertiesWrapper(),p=i.isSelected();d.style.display=p?"":"none",this.$el[p?"addClass":"removeClass"]("".concat(r,"active")),p&&d.appendChild((t=l.props)===null||t===void 0?void 0:t.el)},n.prototype.render=function(){var t=this,e=t.el,r=t.pfx,i=t.model;return e.innerHTML=this.template(),e.className="".concat(r,"layer"),i.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},n}(b.G7);const Kw=Ww;var Gw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$w=function(a){Gw(n,a);function n(t){var e=a.call(this,t)||this,r=e.collection,i=t.config||{},l=i.em,d=i.stylePrefix||"",p=i.pStylePrefix||"";e.config=i,e.pfx=d,e.ppfx=p,e.propertyView=t.propertyView,e.className="".concat(d,"layers ").concat(p,"field"),e.listenTo(r,"add",e.addTo),e.listenTo(r,"reset",e.reset),e.items=[];var v=l==null?void 0:l.Utils;return e.sorter=v?new v.Sorter({container:e.el,ignoreViewChildren:1,containerSel:".".concat(d,"layers"),itemSel:".".concat(d,"layer"),pfx:i.pStylePrefix,em:l}):"",r.view=e,e.$el.data("model",r),e.$el.data("collection",r),e}return n.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},n.prototype.addToCollection=function(t,e,r){var i=e||null,l=this,d=l.propertyView,p=l.config,v=l.sorter,m=l.$el,E=new Kw({model:t,config:p,sorter:v,propertyView:d}),B=E.render().el;if(this.items.push(E),i)i.appendChild(B);else if(typeof r<"u"){var J="before";m.children().length===r&&(r--,J="after"),r<0?m.append(B):m.children().eq(r)[J](B)}else m.append(B);return B},n.prototype.reset=function(t,e){this.clearItems(),this.render()},n.prototype.remove=function(){return this.clearItems(),b.G7.prototype.remove.apply(this,arguments),this},n.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.sorter,l=document.createDocumentFragment();return r.empty(),this.collection.forEach(function(d){return t.addToCollection(d,l)}),r.append(l),r.attr("class",this.className),i&&(i.plh=null),this},n}(b.G7);const Zw=$w;var qw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uu=function(){return uu=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},uu.apply(this,arguments)},Yw=function(a){qw(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return uu(uu({},hc.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.em,i=r==null?void 0:r.getConfig().icons,l=(i==null?void 0:i.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(l,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},n.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},n.prototype.addLayer=function(){this.model.addLayer({},{at:0})},n.prototype.setValue=function(){},n.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),hc.prototype.remove.apply(this,arguments),this},n.prototype.clearCached=function(){hc.prototype.clearCached.apply(this,arguments),delete this.layersView},n.prototype.onRender=function(){var t=this,e=t.model,r=t.el,i=t.config,l=e.get("properties");if(l.length&&!this.props){var d=new Th({config:uu(uu({},i),{highlightComputed:!1,highlightChanged:!1}),collection:l,parent:this});d.render();var p=new Zw({collection:e.layers,config:i,propertyView:this});p.render();var v=r.querySelector("[data-layers-wrapper]");v.appendChild(p.el),this.props=d,this.layersView=p}},n}(hc);const Xw=Yw;var Jw=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dd=function(){return dd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},dd.apply(this,arguments)},Qw=function(a){Jw(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return dd(dd({},ua.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},n.prototype.templateInput=function(){var t,e=this,r=e.pfx,i=e.em,l=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,d=l==null?void 0:l.close;return`
      <div class="`.concat(r,"field ").concat(r,`file">
        <div id='`).concat(r,`input-holder'>
          <div class="`).concat(r,`btn-c">
            <button class="`).concat(r,'btn" id="').concat(r,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`preview-file" data-preview-box>
          <div id="`).concat(r,'preview-file" class="').concat(r,`preview-file-cnt" data-preview></div>
          <div id="`).concat(r,'close" class="').concat(r,'preview-file-close" data-clear-asset>').concat(d,`</div>
        </div>
      </div>
    `)},n.prototype.__setValueInput=function(t){var e=this,r=e.model,i=e.el,l=r.getDefaultValue(),d=i.querySelector("[data-preview-box]"),p=i.querySelector("[data-preview]");d.style.display=!t||t===l?"none":"",p.style.backgroundImage=t||r.getDefaultValue()},n.prototype.openAssetManager=function(){var t=this,e,r=(e=this.em)===null||e===void 0?void 0:e.Assets;r==null||r.open({select:function(i,l){var d=(0,u.isString)(i)?i:i.get("src");t.model.upValue(d,{partial:!l}),l&&r.close()},types:["image"],accept:"image/*"})},n}(ua);const t1=Qw;var e1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),r1=function(a){e1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(t){return""},n.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},n.prototype.setValue=function(t){},n.prototype.onRender=function(){var t=this,e=t.ppfx,r=t.model,i=t.el;if(!this.inputInst){var l=r.input;l.ppfx=e,l.render();var d=i.querySelector(".".concat(e,"fields"));d.appendChild(l.el),this.input=l.inputEl.get(0),this.inputInst=l}},n.prototype.clearCached=function(){ua.prototype.clearCached.apply(this,arguments),this.inputInst=null},n}(ua);const ca=r1;var n1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),i1=function(a){n1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},n.prototype.remove=function(){var t=this;ca.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(r){return t[r]=null}),this},n.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},n.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,r=e.ppfx,i=e.model,l=e.em,d=e.el,p=new Po({target:l,model:i,ppfx:r,onChange:this.__handleChange}),v=p.render();d.querySelector(".".concat(r,"fields")).appendChild(v.el),this.input=(t=v.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=v}},n}(ca);const o1=i1;var a1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pd=function(){return pd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},pd.apply(this,arguments)},Ig=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},s1=function(a){a1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return pd(pd({},Dr.getDefaults()),{options:[],full:0})},n.prototype.getOptions=function(){var t=this.attributes,e=t.options,r=t.list;return(e&&e.length?e:r)||[]},n.prototype.getOption=function(t){var e=this,r=(0,g.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===r})[0]||null},n.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},n.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(Ig(Ig([],e,!0),[t],!1))}return this},n.prototype.getOptionId=function(t){return(0,g.isDef)(t.id)?t.id:t.value},n.prototype.getOptionLabel=function(t,e){var r;e===void 0&&(e={});var i=e.locale,l=i===void 0?!0:i,d=((0,u.isString)(t)?this.getOption(t):t)||{},p=this.getOptionId(d),v=d.label||d.name||p,m=e.property||this.getId();return l&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.options.".concat(m,".").concat(p)))||v},n.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Dr.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},n.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},n}(Dr);const Eh=s1;var l1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),u1=function(a){l1(n,a);function n(t){var e=a.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return n.prototype.templateInput=function(){var t=this,e=t.pfx,r=t.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(r,`sel-arrow">
          <div class="`).concat(r,`d-s-arrow"></div>
        </div>
      </div>
    `)},n.prototype.updateOptions=function(){delete this.input,this.onRender()},n.prototype.onRender=function(){var t=this.pfx,e=this.model,r=e.getOptions();if(!this.input){var i=[];r.forEach(function(d){var p=e.getOptionId(d),v=e.getOptionLabel(p),m=d.style?d.style.replace(/"/g,"&quot;"):"",E=m?'style="'.concat(m,'"'):"",B=p.replace(/"/g,"&quot;");i.push('<option value="'.concat(B,'" ').concat(E,">").concat(v,"</option>"))});var l=this.el.querySelector("#".concat(t,"input-holder"));l.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=l.firstChild}},n.prototype.__setValueInput=function(t){var e=this.model,r=this.getInputEl(),i=e.getOptions()[0],l=i?e.getOptionId(i):"";r&&(r.value=t||l)},n}(ua);const jg=u1;var c1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hd=function(){return hd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},hd.apply(this,arguments)},f1=function(a){c1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return hd(hd({},Eh.getDefaults()),{full:1})},n}(Eh);const d1=f1;var p1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),h1=function(a){p1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},n.prototype.onRender=function(){var t=this,e=t.pfx,r=t.ppfx,i=this.model,l="".concat(r,"radio-item-label"),d=i.getName(),p=i.getOptions(),v="".concat(e,"radio ").concat(e,"radio-").concat(d),m=i.cid;if(!this.input){var E=[];p.forEach(function(J){var ht=J.className?"".concat(J.className," ").concat(e,"icon ").concat(l):"",bt=i.getOptionId(J),wt="".concat(d,"-").concat(bt,"-").concat(m),Vt=ht?"":i.getOptionLabel(bt),Xt=J.title?'title="'.concat(J.title,'"'):"",te=i.getValue()===bt?"checked":"";E.push(`
          <div class="`.concat(r,`radio-item">
            <input type="radio" class="`).concat(v,'" id="').concat(wt,'" name="').concat(d,"-").concat(m,'" value="').concat(bt,'" ').concat(te,`/>
            <label class="`).concat(ht||l,'" ').concat(Xt,' for="').concat(wt,'">').concat(Vt,`</label>
          </div>
        `))});var B=this.el.querySelector(".".concat(r,"field"));B.innerHTML='<div class="'.concat(r,'radio-items">').concat(E.join(""),"</div>"),this.input=B.firstChild}},n.prototype.__setValueInput=function(t){var e,r=this.model,i=t||r.getDefaultValue(),l=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(i,'"]'));l&&(l.checked=!0)},n}(jg);const v1=h1;var g1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qs=function(){return Qs=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Qs.apply(this,arguments)},m1=function(a){g1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return Qs(Qs({},Dr.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},n.prototype.getUnits=function(){return this.get("units")||[]},n.prototype.getUnit=function(){return this.get("unit")},n.prototype.getMin=function(){return this.get("min")},n.prototype.getMax=function(){return this.get("max")},n.prototype.getStep=function(){return this.get("step")},n.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},n.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Dr.callParentInit(Dr,this,t,e);var r=this.get("unit"),i=this.getUnits();this.input=(0,g.hasWin)()?new Iv({model:this}):void 0,i.length&&!r&&this.set("unit",i[0],{silent:!0}),Dr.callInit(this,t,e)},n.prototype.__getClearProps=function(){return Qs(Qs({},Dr.prototype.__getClearProps()),{unit:""})},n.prototype.parseValue=function(t,e){e===void 0&&(e={});var r=Dr.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(r.value,Qs({deepCheck:1},e)),l=i.value,d=i.unit;return r.value=l,r.unit=d,r},n.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),r=(0,u.isUndefined)(t)?"":"".concat(t),i=!(0,u.isUndefined)(e)&&r?e:"",l="".concat(r).concat(i);return Dr.prototype.getFullValue.apply(this,[l])},n}(Dr);const vd=m1;var y1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gd=function(){return gd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},gd.apply(this,arguments)},_1=function(a){y1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.defaults=function(){return gd(gd({},vd.getDefaults()),{showInput:1})},n}(vd);const b1=_1;var w1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),md=function(){return md=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},md.apply(this,arguments)},x1=function(a){w1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.events=function(){return md(md({},ca.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},n.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},n.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},n.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},n.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},n.prototype.setValue=function(t){var e=this.model,r=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(r.value),ca.prototype.setValue.apply(this,arguments)},n.prototype.onRender=function(){ca.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},n.prototype.clearCached=function(){ca.prototype.clearCached.apply(this,arguments),delete this.slider},n}(ca);const C1=x1;var S1=b.FE.extend(tg),O1=S1.extend({extendViewApi:1,init:function(){var a=this,n=a.opts,t=a.em,e=n.module||(t==null?void 0:t.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:Iw,view:Xw,isType:function(a){if(a&&a.type=="stack")return a}},{id:"composite",model:lu,view:hc,isType:function(a){if(a&&a.type=="composite")return a}},{id:"file",model:Dr,view:t1,isType:function(a){if(a&&a.type=="file")return a}},{id:"color",model:Dr,view:o1,isType:function(a){if(a&&a.type=="color")return a}},{id:"select",model:Eh,view:jg,isType:function(a){if(a&&a.type=="select")return a}},{id:"radio",model:d1,view:v1,isType:function(a){if(a&&a.type=="radio")return a}},{id:"slider",model:b1,view:C1,isType:function(a){if(a&&a.type=="slider")return a}},{id:"integer",model:vd,view:ca,isType:function(a){if(a&&a.type=="integer")return a}},{id:"number",model:vd,view:ca,isType:function(a){if(a&&a.type=="number")return a}},{id:"base",model:Dr,view:ua,isType:function(a){return a.type="base",a}}]});const Ph=O1;var T1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yd=function(){return yd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},yd.apply(this,arguments)},E1=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},P1=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},k1=function(a){T1(n,a);function n(t,e){e===void 0&&(e={});var r=a.call(this,t)||this,i=e.em;r.em=i;var l=t||{},d=r.buildProperties(l.buildProps),p=r.get("name")||"",v=[];!r.get("id")&&r.set("id",p.replace(/ /g,"_").toLowerCase()),d?v=r.extendProperties(d):v=r.get("properties").map(function(E){return(0,u.isString)(E)?r.buildProperties(E)[0]:E}).filter(Boolean),v=v.map(function(E){return r.checkExtend(E)});var m=new Ph(v,{em:i});return m.sector=r,r.set("properties",m),r}return n.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(n.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),n.prototype.getId=function(){return this.get("id")},n.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},n.prototype.setName=function(t){return this.set("name",t)},n.prototype.isOpen=function(){return!!this.get("open")},n.prototype.setOpen=function(t){return this.set("open",t)},n.prototype.isVisible=function(){return!!this.get("visible")},n.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,r=e.models?P1([],e.models,!0):e;return r.filter(function(i){var l=!0;if(t.withValue&&(l=i.hasValue({noParent:!0})),t.withParentValue){var d=i.hasValue({noParent:!0});l=!d&&i.hasValue()}return l})},n.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},n.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},n.prototype.extendProperties=function(t,e,r){r===void 0&&(r=!1);for(var i=t.length,l=e||this.get("properties"),d=this.get("extendBuilded"),p=[],v=0,m=l.length;v<m;v++){for(var E=l[v],B=0,J=0;J<i;J++){var ht=t[J];if(E.property==ht.property||E.id==ht.property){var bt=E.properties;bt&&bt.length&&(E.properties=this.extendProperties(ht.properties||[],bt,1)),t[J]=d?(0,u.extend)(ht,E):E,p[J]=t[J],B=1;continue}}B||(t.push(E),p.push(E))}return r?p.filter(function(wt){return wt}):t},n.prototype.checkExtend=function(t){var e=((0,u.isString)(t)?{extend:t}:t)||{},r=e.extend,i=E1(e,["extend"]);return r?yd(yd({},this.buildProperties([r])[0]||{}),i):t},n.prototype.buildProperties=function(t){var e,r=t||[];if(!r.length)return[];var i=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return i==null?void 0:i.build(r)},n}(b.Hn);const Rg=k1;var A1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_d=function(){return _d=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},_d.apply(this,arguments)},M1=function(a){A1(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.initialize=function(t,e){e===void 0&&(e={});var r=e.module,i=e.em;this.em=i,this.module=r,this.listenTo(this,"reset",this.onReset)},n.prototype.model=function(t,e){e===void 0&&(e={});var r=e.collection.em;return new Rg(t,_d(_d({},e),{em:r}))},n.prototype.onReset=function(t,e){e===void 0&&(e={});var r=e.previousModels||[];r.forEach(function(i){return i.get("properties").reset()})},n}(b.FE);const L1=M1;var Ya=function(){return Ya=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Ya.apply(this,arguments)},D1=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},tl=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},xn=function(a){return a.map(function(n){return{id:n}})},I1=function(){function a(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var n=", sans-serif",t=["flex-start","flex-end","center"],e=tl(tl([],t,!0),["baseline","stretch"],!1);this.optsBgSize=xn(["auto","cover","contain"]),this.optsBgAttach=xn(["scroll","fixed","local"]),this.optsBgRepeat=xn(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=xn(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=xn(["visible","hidden","scroll","auto"]),this.optsDir=xn(["row","row-reverse","column","column-reverse"]),this.opstDisplay=xn(["block","inline","inline-block","flex","none"]),this.optsTransitFn=xn(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=xn(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=xn(["none","left","right"]),this.optsPos=xn(["static","relative","absolute","fixed"]),this.optsTextAlign=xn(["left","center","right","justify"]),this.optsFlexAlign=xn(e),this.optsJustCont=xn(tl(tl([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=xn(tl(tl([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=xn(tl(["auto"],e,!0)),this.optsTransitProp=xn(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=xn(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=xn(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n].map(function(r){return{id:r,label:r.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return a.prototype.__sub=function(n){var t=this;return function(){return n.map(function(e){if((0,u.isString)(e))return t.get(e);var r=e.extend,i=D1(e,["extend"]);return Ya(Ya({},t.get(r)),i)})}},a.prototype.init=function(){var n=this,t=this,e=t.fixedValues,r=t.requireFlex,i=t.typeNumber;this.props={};var l=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:r},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:r}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:r},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:r},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(d,p){var v=p.values,m=v["box-shadow-h"],E=v["box-shadow-v"],B=v["box-shadow-blur"],J=v["box-shadow-spread"];return"".concat(m," ").concat(E," ").concat(B," ").concat(J)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(d,p){var v=p.values,m=v["text-shadow-h"],E=v["text-shadow-v"],B=v["text-shadow-blur"];return"".concat(m," ").concat(E," ").concat(B)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(d,p){var v=p.values,m=v["background-repeat-sub"]||"",E=v["background-position-sub"]||"",B=v["background-attachment-sub"]||"",J=v["background-size-sub"]||"";return[m,E,B,J].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(d,p){var v=p.property,m=p.name,E=d[m]||"",B=v.getLayerSeparator();return E?E.split(B).map(function(J){var ht=v.__parseFn(J),bt=ht.name,wt=ht.value;return{"transform-type":bt,"transform-value":wt}}):[]},toStyle:function(d,p){var v,m=p.name;return v={},v[m]="".concat(d["transform-type"],"(").concat(d["transform-value"],")"),v},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(d){var p=d.property,v=d.to;if(v.value){var m=p.getOption(),E=Ya({},m.propValue||{}),B=p.getParent().getProperty("transform-value"),J=B.getUnit();(!J||(E==null?void 0:E.units.indexOf(J))<0)&&(E.unit=(E==null?void 0:E.units[0])||""),B.up(E)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return l.forEach(function(d){var p=d[0],v=d[1],m=d[2];n.add(p,v||{},{from:m})}),this},a.prototype.add=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r=e.from||"",i=this.props[r||n]||{},l=Ya(Ya(Ya({},i),{property:n}),t);return l.properties&&(0,u.isFunction)(l.properties)&&(l.properties=l.properties()),this.props[n]=l,l},a.prototype.get=function(n){return this.props[n]},a.prototype.build=function(n){var t=this,e=[],r=(0,u.isString)(n)?[n]:n;return r.forEach(function(i){e.push(t.get(i)||{property:i})}),e},a}();const j1=I1;var R1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),F1=function(a,n){return Object.defineProperty?Object.defineProperty(a,"raw",{value:n}):a.raw=n,a},N1=function(a){R1(n,a);function n(t){var e=a.call(this,t)||this,r=t.config||{},i=e.model,l=r.em;return e.config=r,e.em=l,e.pfx=r.stylePrefix||"",e.listenTo(i,"destroy remove",e.remove),e.listenTo(i,"change:open",e.updateOpen),e.listenTo(i,"change:visible",e.updateVisibility),e}return n.prototype.template=function(t){var e,r=t.pfx,i=t.label,l=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,d=(l==null?void 0:l.caret)||"",p="".concat(r,"sector-");return _(Fg||(Fg=F1([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),p,p,d,p,i)},n.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},n.prototype.updateOpen=function(){var t=this,e=t.$el,r=t.model,i=t.pfx,l=r.isOpen();e[l?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=l?"":"none"},n.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},n.prototype.getPropertiesEl=function(){var t=this,e=t.$el,r=t.pfx;return e.find(".".concat(r,"properties")).get(0)},n.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},n.prototype.renderProperties=function(){var t=this,e=t.model,r=t.config,i=e.get("properties");if(i){var l=new Th({collection:i,config:r});this.$el.append(l.render().el)}},n.prototype.render=function(){var t=this,e=t.pfx,r=t.model,i=t.$el,l=r.getId(),d=r.getName();return i.html(this.template({pfx:e,label:d})),this.renderProperties(),i.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(l," no-select")),this.updateOpen(),this},n}(b.G7);const V1=N1;var Fg,B1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H1=function(a){B1(n,a);function n(t){t===void 0&&(t={});var e=a.call(this,t)||this,r=t.module,i=t.config,l=e.collection;return e.pfx=(i==null?void 0:i.stylePrefix)||"",e.ppfx=(i==null?void 0:i.pStylePrefix)||"",e.config=i,e.module=r,e.listenTo(l,"add",e.addTo),e.listenTo(l,"reset",e.render),e}return n.prototype.remove=function(){var t=this;return b.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},n.prototype.addTo=function(t,e,r){r===void 0&&(r={}),this.addToCollection(t,null,r)},n.prototype.addToCollection=function(t,e,r){r===void 0&&(r={});var i=this,l=i.config,d=i.el,p=e||d,v=new V1({model:t,config:l}).render().el;return(0,pe.$Q)(p,v,r.at),v},n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.pfx,l=e.ppfx;r.empty();var d=document.createDocumentFragment();return this.collection.each(function(p){return t.addToCollection(p,d)}),r.append(d),r.addClass("".concat(i,"sectors ").concat(l,"one-bg ").concat(l,"two-color")),this},n}(b.G7);const z1=H1;var U1=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xa=function(){return Xa=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Xa.apply(this,arguments)},Ng=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},Vg="style",vc="".concat(Vg,":"),kh="".concat(vc,"sector"),W1="".concat(kh,":add"),K1="".concat(kh,":remove"),G1="".concat(kh,":update"),Ah="".concat(vc,"property"),$1="".concat(Ah,":add"),Z1="".concat(Ah,":remove"),q1="".concat(Ah,":update"),Bg="".concat(vc,"layer:select"),Mh="".concat(vc,"target"),Y1="".concat(vc,"custom"),Hg=function(a){return a||a===0},X1={all:Vg,sectorAdd:W1,sectorRemove:K1,sectorUpdate:G1,propertyAdd:$1,propertyRemove:Z1,propertyUpdate:q1,layerSelect:Bg,target:Mh,custom:Y1},J1=function(a){U1(n,a);function n(t){var e=a.call(this,t,"StyleManager",new L1([],{em:t}),X1,_w)||this;e.Sector=Rg,e.storageKey="",(0,u.bindAll)(e,"__clearStateTarget");var r=e.config,i=r.pStylePrefix;i&&(r.stylePrefix=i+r.stylePrefix),e.builtIn=new j1,e.properties=new Ph([],{em:t,module:e}),e.sectors=e.all;var l=new b.Hn({targets:[]});e.model=l;var d=he.g.update,p="component:toggled ".concat(d,":classes change:state change:device frame:resized selector:type");e.upAll=(0,u.debounce)(function(){return e.__upSel()},0),l.listenTo(t,p,e.upAll),l.listenTo(t,"component:toggled",e.__clearStateTarget);var v=(0,u.debounce)(function(){e.__upProps(),e.__trgCustom()},0);l.listenTo(t,"styleable:change undo redo",v);var m=(0,u.debounce)(function(){return e.__trgCustom()},0);return l.listenTo(t,"".concat(Bg," ").concat(Mh),m),l.on("change:lastTarget",function(){return t.trigger(Mh,e.getSelected())}),e}return n.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},n.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},n.prototype.__trgEv=function(t){for(var e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];(e=this.em).trigger.apply(e,Ng([t],r,!1))},n.prototype.__clearStateTarget=function(){var t=this,e=this.em,r=this.__getStateTarget();r&&(e==null||e.skip(function(){e.Css.remove(r),t.model.set({stateTarget:null})}))},n.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},n.prototype.postRender=function(){this.__appendTo()},n.prototype.addSector=function(t,e,r){r===void 0&&(r={});var i=this.getSector(t);return i||(e.id=t,i=this.sectors.add(e,r)),i},n.prototype.getSector=function(t,e){e===void 0&&(e={});var r=this.sectors.where({id:t})[0];return!r&&e.warn&&this._logNoSector(t),r||null},n.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,r=e&&e.models?t.array?Ng([],e.models,!0):e:[];return t.visible?r.filter(function(i){return i.isVisible()}):r},n.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},n.prototype.addProperty=function(t,e,r){r===void 0&&(r={});var i=this.getSector(t,{warn:!0}),l;return i&&(l=i.addProperty(e,r)),l},n.prototype.getProperty=function(t,e){var r=this.getSector(t,{warn:!0}),i;return r&&(i=r.properties.filter(function(l){return l.get("property")===e||l.get("id")===e})[0]),i},n.prototype.getProperties=function(t){var e,r=this.getSector(t,{warn:!0});return r&&(e=r.properties),e},n.prototype.removeProperty=function(t,e){var r=this.getProperties(t);return r?r.remove(this.getProperty(t,e)):null},n.prototype.select=function(t,e){var r=this;e===void 0&&(e={});var i=this.em,l=(0,u.isArray)(t)?t:[t],d=e.stylable,p=i.Css,v=[];l.filter(Boolean).forEach(function(bt){var wt=bt;if((0,u.isString)(bt)){var Vt=p.getRule(bt)||p.setRule(bt);!(0,u.isUndefined)(d)&&Vt.set({stylable:d}),wt=Vt}v.push(wt)});var m=e.component||v.filter(function(bt){return(0,g.isComponent)(bt)}).reverse()[0];v=v.map(function(bt){return r.getModelToStyle(bt)});var E=i.getState(),B=v.slice().reverse()[0],J=this.getParentRules(B,{state:E,component:m}),ht=this.__getStateTarget();return i.skip(function(){var bt;if(E&&(!((bt=B==null?void 0:B.getState)===null||bt===void 0)&&bt.call(B))){var wt=B.getStyle();ht?ht.setStyle(wt):ht=p.getAll().add({selectors:"gjs-selected",style:wt,shallow:!0,important:!0})}else ht&&(p.remove(ht),ht=void 0)}),this.model.set({targets:v,lastTarget:B,lastTargetParents:J,stateTarget:ht,component:m}),this.__upProps(e),v},n.prototype.getSelected=function(){return this.model.get("lastTarget")},n.prototype.getSelectedAll=function(){return this.model.get("targets")},n.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},n.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},n.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(l){return l.addStyle(t,e)});var r=this.getSelected();r&&this.__emitCmpStyleUpdate(t);var i=this.__getStateTarget();r&&(i==null||i.setStyle(r.getStyle(),e))},n.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},n.prototype.getBuiltInAll=function(){return this.builtIn.props},n.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},n.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var r=this.em,i=e.skipAdd;if(r&&(t!=null&&t.toHTML)){var l=r.getConfig(),d=r.UndoManager,p=r.Css,v=r.Selectors,m=v?v.getConfig():{},E=l.devicePreviewMode?"":r.get("state"),B=t.get("classes"),J=B.getStyleable(),ht=J.length,bt=!m.componentFirst||e.useClasses,wt={noCount:1},Vt={state:E,addOpts:wt};d.skip(function(){var Xt;if(ht&&bt){var te=r.getCurrentMedia();Xt=p.get(J,E,te),!Xt&&!i&&(Xt=p.add(J,E,te,{},wt))}else if(l.avoidInlineStyle){var ve=t.getId();Xt=p.getIdRule(ve,Vt),!Xt&&!i&&(Xt=p.setIdRule(ve,{},Vt)),t.is("wrapper")&&Xt.set("wrapper",1,wt)}Xt&&(t=Xt)})}return t},n.prototype.getParentRules=function(t,e){var r=e===void 0?{}:e,i=r.state,l=r.component,d=this.em,p=[];if(d&&t){var v=l,m=d.Css,E=d.CodeManager.getGenerator("css"),B=t.toHTML?t:t.getComponent(),J={array:!0},ht=[],bt=[],wt=[],Vt=[],Xt=[],te=function(be){return be.length?m.getRules().filter(function(He){var qe=He.getSelectors().map(function(gr){return gr.getFullName()});return qe.length===0?!1:qe.every(function(gr){return be.indexOf(gr)>=0})}):[]},ve=function(be){return be?m.getRules().filter(function(He){return He.selectorsToString()===be}):[]};if(B)ht=m.getRules("#".concat(B.getId())),bt=ve(B.get("tagName")),Vt=v?te(v.getSelectors().getFullName(J)):[],Xt=Vt.concat(bt).concat(ht);else{ht=v?m.getRules("#".concat(v.getId())):[],bt=ve((v==null?void 0:v.get("tagName"))||"");var Ee=(v==null?void 0:v.getSelectors().getFullName(J))||[],Re=Ee.filter(function(be){return t.getSelectors().getFullName(J).findIndex(function(He){return He===be})===-1});wt=te(Re.concat(t.getSelectors().getFullName(J))),Xt=bt.concat(ht).concat(wt)}var ze=Xt.filter(function(be){return(0,u.isUndefined)(i)?1:be.get("state")===i}).sort(E.sortRules).reverse();p=ze.slice(ze.indexOf(t)+1)}return p},n.prototype.addType=function(t,e){this.properties.addType(t,e)},n.prototype.getType=function(t){return this.properties.getType(t)},n.prototype.getTypes=function(){return this.properties.getTypes()},n.prototype.createType=function(t,e){var r=e===void 0?{}:e,i=r.model,l=i===void 0?{}:i,d=r.view,p=d===void 0?{}:d,v=this.config,m=this.getType(t);if(m)return new m.view(Xa({model:new m.model(l),config:v},p))},n.prototype.render=function(){var t=this,e=t.config,r=t.em,i=t.SectView,l=i&&i.el;return this.SectView=new z1({el:l,em:r,config:e,module:this,collection:this.sectors}),this.SectView.render().el},n.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},n.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var r=this.em;if(!t.__p){var i=this.getSelectedAll(),l=e.components||r.getSelectedAll(),d=Array.isArray(l)?l:[l],p=Xa({},t);delete p.__p,d.forEach(function(v){return!i.includes(v)&&v.__onStyleChange(p)})}},n.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var r=this.getSelected();if(r){var i=this.sectors,l=this.model.get("component"),d=this.getSelectedParents(),p=r.getStyle(),v=d.map(function(m){return{target:m,style:m.getStyle()}});i.map(function(m){m.getProperties().map(function(E){e.__upProp(E,p,v,t)})}),i.forEach(function(m){var E=m.getProperties();E.forEach(function(J){var ht=J.__checkVisibility({target:r,component:l,sectors:i});J.set("visible",ht)});var B=E.some(function(J){return J.isVisible()});m.set("visible",B)})}},n.prototype.__upProp=function(t,e,r,i){var l=this,d=t.getName(),p=e[d],v=Hg(p),m=t.getType()==="stack",E=t.getType()==="composite",B=Xa(Xa({},i),{__up:!0}),J=!E&&!m,ht=t,bt=t,wt=m?ht.__getLayersFromStyle(e):[],Vt=E?bt.__getPropsFromStyle(e):{},Xt=v?p:null,te=null;if(m&&wt===null||E&&Vt===null){var ve=m?"__getLayersFromStyle":"__getPropsFromStyle",Ee=r.filter(function(qe){return ht[ve](qe.style)!==null})[0];if(Ee){Xt=Ee.style[d],te=Ee.target;var Re=ht[ve](Ee.style);m?wt=Re:Vt=Re}}else if(!v){Xt=null;var Ee=r.filter(function(gr){return Hg(gr.style[d])})[0];Ee&&(Xt=Ee.style[d],te=Ee.target)}if(t.__setParentTarget(te),J&&t.__getFullValue()!==Xt&&t.upValue(Xt,B),m&&ht.__setLayers(wt||[],{isEmptyValue:ht.isEmptyValueStyle(e)}),E){var ze=bt.getProperties();if(bt.isDetached()){var be=bt.__getPropsFromStyle(e,{byName:!0})||{},He=r.map(function(qe){return Xa(Xa({},qe),{style:bt.__getPropsFromStyle(qe.style,{byName:!0})||{}})});ze.map(function(qe){return l.__upProp(qe,be,He,i)})}else bt.__setProperties(Vt||{},B),bt.getProperties().map(function(qe){return qe.__setParentTarget(te)})}},n.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},n}(q);const Q1=J1;var tx=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kn=function(){return Kn=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Kn.apply(this,arguments)},Lh=function(a,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(m){try{v(e.next(m))}catch(E){l(E)}}function p(m){try{v(e.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):r(m.value).then(d,p)}v((e=e.apply(a,n||[])).next())})},Dh=function(a,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(v){return function(m){return p([v,m])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(t=0)),t;)try{if(e=1,r&&(i=v[0]&2?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,r=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){t.label=v[1];break}if(v[0]===6&&t.label<i[1]){t.label=i[1],i=v;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(v);break}i[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(a,t)}catch(m){v=[6,m],r=0}finally{e=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},ex=function(a,n){var t={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&n.indexOf(e)<0&&(t[e]=a[e]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(a);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(a,e[r])&&(t[e[r]]=a[e[r]]);return t},rx=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))};j().$=M.default;var nx=[L_,b_,q_,aw,er,re,Gf,Q1,qp,ab,Jb,kb,yw,v0,R0,Ss,T0,Pf],ix=[o_,Bs,h_,gf];R({$:M.default});var zg={debug:console.log,info:console.info,warning:console.warn,error:console.error},ox=function(a){tx(n,a);function n(t){t===void 0&&(t={});var e=a.call(this)||this;e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var r=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new T),e.set("dmode",r.dragMode);var i=r.el,l=r.log,d=l===!0?(0,u.keys)(zg):(0,u.isArray)(l)?l:[];return(0,u.bindAll)(e,"initBaseColorPicker"),i&&r.fromElement&&(r.components=i.innerHTML),e.attrsOrig=i?(0,u.toArray)(i.attributes).reduce(function(p,v){return p[v.nodeName]=v.nodeValue,p},{}):"",r.components&&!r.pageManager&&(r.pageManager={pages:[{component:r.components}]}),nx.forEach(function(p){return e.loadModule(p)}),ix.forEach(function(p){return e.loadStorableModule(p)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),d.forEach(function(p){return e.listenLog(p)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(p){var v=p.from,m=p.to;e.listenTo(e,v,function(){for(var E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];e.trigger.apply(e,rx([m],E,!1)),e.logWarning("The event '".concat(v,"' is deprecated, replace it with '").concat(m,"'"))})}),e}return n.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(n.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),n.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},n.prototype.getContainer=function(){return this.config.el},n.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),zg[t])},Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(t){var e=this.config;return(0,u.isUndefined)(t)?e:e[t]},n.prototype.loadOnStart=function(){var t=this,e=this.config,r=e.projectData,i=e.headless,l=this.Storage;this.toLoad.reverse().forEach(function(v){return v.onLoad()});var d=function(){t.modules.forEach(function(v){return v.postLoad&&v.postLoad(t)}),t.set("readyLoad",1)};i?(r&&this.loadData(r),d()):this._storageTimeout=setTimeout(function(){return Lh(t,void 0,void 0,function(){var v;return Dh(this,function(m){switch(m.label){case 0:return r?(this.loadData(r),[3,5]):[3,1];case 1:if(!(l!=null&&l.canAutoload()))return[3,5];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,this.load()];case 3:return m.sent(),[3,5];case 4:return v=m.sent(),this.logError(v),[3,5];case 5:return d(),[2]}})})});var p=new n({noticeOnUnload:!1,storageManager:!1,undoManager:!1});p.Pages.onLoad(),p.Canvas.postLoad(),this.set("shallow",p)},n.prototype.updateChanges=function(t,e,r){var i=this,l=this.Storage,d=this.getDirtyCount();r.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=d?function(){return!0}:null),l.isAutosave()&&d>=l.getStepsBeforeSave()&&this.store().catch(function(p){return i.logError(p)})},n.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},n.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},n.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},n.prototype.getEditor=function(){return this.get("Editor")},n.prototype.handleUpdates=function(t,e,r){var i=this;r===void 0&&(r={}),!(this.__skip||r.temporary||r.noCount||r.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var l=i.getDirtyCount()||0;r.unset;var d=ex(r,["unset"]);i.set("changesCount",l+1,d)},0))},n.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},n.prototype.componentHovered=function(t,e,r){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,r),e&&this.trigger("component:hovered",e,r)},n.prototype.getSelected=function(){return this.selected.lastComponent()},n.prototype.getSelectedAll=function(){return this.selected.allComponents()},n.prototype.setSelected=function(t,e){var r=this;e===void 0&&(e={});var i=e.event,l=i&&(i.ctrlKey||i.metaKey),d=(i||{}).shiftKey,p=((0,u.isArray)(t)?t:[t]).map(function(B){var J,ht;return((ht=(J=B==null?void 0:B.delegate)===null||J===void 0?void 0:J.select)===null||ht===void 0?void 0:ht.call(J,B))||B}).filter(Boolean),v=this.getSelectedAll(),m=this.getConfig().multipleSelection,E=(0,u.isArray)(t);(E||!t)&&this.removeSelected(v.filter(function(B){return!(0,u.contains)(p,B)})),p.forEach(function(B){if(B&&(r.trigger("component:select:before",B,e),!B.get("selectable")||e.abort))if(e.useValid){for(var J=B.parent();J&&!J.get("selectable");)J=J.parent();B=J}else return;if(l&&m)return r.toggleSelected(B);if(d&&m){r.clearSelection(r.Canvas.getWindow());var ht=B.collection,bt=B.index(),wt,Vt;if(r.getSelectedAll().forEach(function(Xt){var te=Xt.collection,ve=Xt.index();te===ht&&(ve<bt?wt=(0,u.isUndefined)(wt)?ve:Math.max(wt,ve):ve>bt&&(Vt=(0,u.isUndefined)(Vt)?ve:Math.min(Vt,ve)))}),!(0,u.isUndefined)(wt))for(;wt!==bt;)r.addSelected(ht.at(wt)),wt++;if(!(0,u.isUndefined)(Vt))for(;Vt!==bt;)r.addSelected(ht.at(Vt)),Vt--;return r.addSelected(B)}!E&&r.removeSelected(v.filter(function(Xt){return Xt!==B})),r.addSelected(B,e)})},n.prototype.addSelected=function(t,e){var r=this;e===void 0&&(e={});var i=(0,u.isArray)(t)?t:[t];i.forEach(function(l){var d=r.selected;if(!(!l||!l.get("selectable")||l.parents().some(function(v){return d.hasComponent(v)}))){e.forceChange&&r.removeSelected(l,e);var p=d.allComponents().filter(function(v){return(0,u.contains)(v.parents(),l)});p.forEach(function(v){return r.removeSelected(v,e)}),d.addComponent(l,e),r.trigger("component:select",l,e),r.Canvas.addSpot({type:ce.q.Select,component:l})}})},n.prototype.removeSelected=function(t,e){var r=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var i=(0,u.isArray)(t)?t:[t];i.forEach(function(l){return r.Canvas.removeSpots({type:ce.q.Select,component:l})})},n.prototype.toggleSelected=function(t,e){var r=this;e===void 0&&(e={});var i=(0,u.isArray)(t)?t:[t];i.forEach(function(l){r.selected.hasComponent(l)?r.removeSelected(l,e):r.addSelected(l,e)})},n.prototype.setHovered=function(t,e){var r=this;e===void 0&&(e={});var i=function(p,v){var m=r,E=m.config,B=m.Canvas,J=r.getHovered(),ht=r.getSelectedAll(),bt=ce.q.Hover,wt=ce.q.Spacing;r.set("componentHovered",p||null,v),J&&(B.removeSpots({type:bt,component:J}),B.removeSpots({type:wt,component:J})),p&&(B.addSpot({type:bt,component:p}),(!ht.includes(p)||E.showOffsetsSelected)&&B.addSpot({type:wt,component:p}))};if(!t)return i();var l="component:hover";if(e.forceChange&&i(),this.trigger("".concat(l,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var d=t.parent();d&&!d.get("hoverable");)d=d.parent();t=d}else return;e.abort||(i(t,e),this.trigger(l,t,e))},n.prototype.getHovered=function(){return this.get("componentHovered")},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},n.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var r=t.getComponents();return e.getCode(r,"json")}},n.prototype.setStyle=function(t,e){e===void 0&&(e={});var r=this.Css;return r.clear(e),r.getAll().add(t,e),this},n.prototype.addStyle=function(t,e){e===void 0&&(e={});var r=this.getStyle().add(t,e);return(0,u.isArray)(r)?r:[r]},n.prototype.getStyle=function(){return this.Css.getAll()},n.prototype.setState=function(t){return this.set("state",t),this},n.prototype.getState=function(){return this.get("state")||""},n.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,r=e.optsHtml,i=e.jsInHtml?this.getJs(t):"",l=t.component||this.Components.getComponent(),d=l?this.CodeManager.getCode(l,"html",Kn(Kn({},r),t)):"";return d+=i?"<script>".concat(i,"<\/script>"):"",d},n.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,r=e.optsCss,i=t.avoidProtected,l=(0,u.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,d=this.Css,p=t.component||this.Components.getComponent(),v=i?"":e.protectedCss,m=p&&this.CodeManager.getCode(p,"css",Kn(Kn({cssc:d,keepUnusedStyles:l},r),t));return p?t.json?m:v+m:""},n.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},n.prototype.store=function(t){return Lh(this,void 0,void 0,function(){var e;return Dh(this,function(r){switch(r.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return r.sent(),this.clearDirtyCount(),[2,e]}})})},n.prototype.load=function(t,e){return e===void 0&&(e={}),Lh(this,void 0,void 0,function(){var r;return Dh(this,function(i){switch(i.label){case 0:return[4,this.Storage.load(t)];case 1:return r=i.sent(),this.loadData(r),[4,(0,g.wait)()];case 2:return i.sent(),e.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,r]}})})},n.prototype.storeData=function(){var t={},e=this.getEditing();return e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(r){t=Kn(Kn({},t),r.store(1))}),JSON.parse(JSON.stringify(t))},n.prototype.loadData=function(t){return t===void 0&&(t={}),(0,g.isEmptyObj)(t)||(this.storables.forEach(function(e){return e.clear()}),this.storables.forEach(function(e){return e.load(t)})),t},n.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},n.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},n.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.get("Commands"),r=e.get(this.config.defaultCommand);!r||!this.defaultRunning||(r.stop(this,this,t),this.defaultRunning=!1)},n.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},n.prototype.clearSelection=function(t){var e,r=t||window;(e=r.getSelection())===null||e===void 0||e.removeAllRanges()},n.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),r=t.mediaCondition,i=t.devicePreviewMode,l=e&&e.get("widthMedia");return e&&l&&!i?"(".concat(r,": ").concat(l,")"):""},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},n.prototype.getCurrentFrame=function(){return this.get("currentFrame")},n.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},n.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},n.prototype.getDirtyCount=function(){return this.get("changesCount")},n.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},n.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},n.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},n.prototype.setDragMode=function(t){return this.set("dmode",t)},n.prototype.getDragMode=function(t){var e=(t==null?void 0:t.getDragMode())||this.get("dmode");return e||""},n.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this.get("I18n");return r==null?void 0:r.t.apply(r,t)},n.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},n.prototype.destroyAll=function(){var t=this,e=this,r=e.config,i=e.view,l=this.getEditor(),d=(r.grapesjs||{}).editors,p=d===void 0?[]:d,v=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),v==null||v.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(m){return m.destroy()}),i&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(m){return t[m]={}}),p.splice(p.indexOf(l),1),(0,g.hasWin)()&&(0,M.default)(r.el).empty().attr(this.attrsOrig)},n.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},n.prototype.setEditing=function(t){return this.set("editing",t),this},n.prototype.isEditing=function(){return!!this.get("editing")},n.prototype.log=function(t,e){e===void 0&&(e={});var r=e.ns,i=e.level,l=i===void 0?"debug":i;if(this.trigger("log",t,e),l&&this.trigger("log:".concat(l),t,e),r){var d="log-".concat(r);this.trigger(d,t,e),l&&this.trigger("".concat(d,":").concat(l),t,e)}},n.prototype.logInfo=function(t,e){this.log(t,Kn(Kn({},e),{level:"info"}))},n.prototype.logWarning=function(t,e){this.log(t,Kn(Kn({},e),{level:"warning"}))},n.prototype.logError=function(t,e){this.log(t,Kn(Kn({},e),{level:"error"}))},n.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var r=this.config,i=r.colorPicker,l=i===void 0?{}:i,d=r.el,p=r.stylePrefix;return(0,M.default)(t).spectrum(Kn(Kn({containerClassName:"".concat(p,"one-bg ").concat(p,"two-color"),appendTo:d||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:""},e),l))},n.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},n.prototype.data=function(t,e,r){var i="_gjs-data";if(t[i]||(t[i]={}),(0,u.isUndefined)(r))return t[i][e];t[i][e]=r},n}(b.Hn);const ax=ox;var sx=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},a(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lx=function(a){sx(n,a);function n(t){var e=a.call(this,{model:t})||this,r=t.Panels,i=t.UndoManager;return t.view=e,t.once("change:ready",function(){r.active(),r.disableButtons(),i.clear(),setTimeout(function(){t.trigger("load",t.Editor),t.clearDirtyCount()})}),e}return n.prototype.render=function(){var t=this,e=this,r=e.$el,i=e.model,l=i.Panels,d=i.Canvas,p=i.config,v=i.modules,m=p.stylePrefix,E=["".concat(m,"editor")];!p.customUI&&E.push("".concat(m,"one-bg ").concat(m,"two-color"));var B=(0,M.default)(p.el||"body ".concat(p.container));p.cssIcons&&(0,g.appendStyles)(p.cssIcons,{unique:!0,prepand:!0}),r.empty(),p.width&&B.css("width",p.width),p.height&&B.css("height",p.height),r.append(d.render()),r.append(l.render());var J=i.shallow,ht=J.Canvas.render();return ht.style.display="none",r.append(ht),r.attr("class",E.join(" ")),B.addClass("".concat(m,"editor-cont")).empty().append(r),v.forEach(function(bt){var wt;return(wt=bt.postRender)===null||wt===void 0?void 0:wt.call(bt,t)}),this},n}(b.G7);const ux=lx;var gc=function(){return gc=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},gc.apply(this,arguments)},Ug=function(a,n,t,e){function r(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function d(m){try{v(e.next(m))}catch(E){l(E)}}function p(m){try{v(e.throw(m))}catch(E){l(E)}}function v(m){m.done?i(m.value):r(m.value).then(d,p)}v((e=e.apply(a,n||[])).next())})},Wg=function(a,n){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,r,i,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(v){return function(m){return p([v,m])}}function p(v){if(e)throw new TypeError("Generator is already executing.");for(;l&&(l=0,v[0]&&(t=0)),t;)try{if(e=1,r&&(i=v[0]&2?r.return:v[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,v[1])).done)return i;switch(r=0,i&&(v=[v[0]&2,i.value]),v[0]){case 0:case 1:i=v;break;case 4:return t.label++,{value:v[1],done:!1};case 5:t.label++,r=v[1],v=[0];continue;case 7:v=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(v[0]===6||v[0]===2)){t=0;continue}if(v[0]===3&&(!i||v[1]>i[0]&&v[1]<i[3])){t.label=v[1];break}if(v[0]===6&&t.label<i[1]){t.label=i[1],i=v;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(v);break}i[2]&&t.ops.pop(),t.trys.pop();continue}v=n.call(a,t)}catch(m){v=[6,m],r=0}finally{e=i=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},cx=function(a,n,t){if(t||arguments.length===2)for(var e=0,r=n.length,i;e<r;e++)(i||!(e in n))&&(i||(i=Array.prototype.slice.call(n,0,e)),i[e]=n[e]);return a.concat(i||Array.prototype.slice.call(n))},fx=function(){function a(n,t){n===void 0&&(n={}),t===void 0&&(t={});var e;this.html=_,this.config=gc(gc(gc({},A),n),{pStylePrefix:(e=n.stylePrefix)!==null&&e!==void 0?e:A.stylePrefix}),this.em=new ax(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(a.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(n){return this.em.getConfig(n)},a.prototype.getHtml=function(n){return this.em.getHtml(n)},a.prototype.getCss=function(n){return this.em.getCss(n)},a.prototype.getJs=function(n){return this.em.getJs(n)},a.prototype.getComponents=function(){return this.Components.getComponents()},a.prototype.getWrapper=function(){return this.Components.getWrapper()},a.prototype.setComponents=function(n,t){return t===void 0&&(t={}),this.em.setComponents(n,t),this},a.prototype.addComponents=function(n,t){return this.getWrapper().append(n,t)},a.prototype.getStyle=function(){return this.em.Css.getAll()},a.prototype.setStyle=function(n,t){return t===void 0&&(t={}),this.em.setStyle(n,t),this},a.prototype.addStyle=function(n,t){return t===void 0&&(t={}),this.em.addStyle(n,t)},a.prototype.getSelected=function(){return this.em.getSelected()},a.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},a.prototype.getSelectedToStyle=function(){var n=this.em.getSelected();if(n)return this.StyleManager.getModelToStyle(n)},a.prototype.select=function(n,t){return this.em.setSelected(n,t),this},a.prototype.selectAdd=function(n){return this.em.addSelected(n),this},a.prototype.selectRemove=function(n){return this.em.removeSelected(n),this},a.prototype.selectToggle=function(n){return this.em.toggleSelected(n),this},a.prototype.getEditing=function(){return this.em.getEditing()},a.prototype.setDevice=function(n){return this.em.set("device",n),this},a.prototype.getDevice=function(){return this.em.get("device")},a.prototype.runCommand=function(n,t){return t===void 0&&(t={}),this.Commands.run(n,t)},a.prototype.stopCommand=function(n,t){return t===void 0&&(t={}),this.Commands.stop(n,t)},a.prototype.store=function(n){return Ug(this,void 0,void 0,function(){return Wg(this,function(t){switch(t.label){case 0:return[4,this.em.store(n)];case 1:return[2,t.sent()]}})})},a.prototype.load=function(n,t){return t===void 0&&(t={}),Ug(this,void 0,void 0,function(){return Wg(this,function(e){switch(e.label){case 0:return[4,this.em.load(n,t)];case 1:return[2,e.sent()]}})})},a.prototype.getProjectData=function(){return this.em.storeData()},a.prototype.loadProjectData=function(n){return this.em.loadData(n)},a.prototype.storeData=function(){return this.em.storeData()},a.prototype.loadData=function(n){return this.em.loadData(n)},a.prototype.getContainer=function(){return this.config.el},a.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},a.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},a.prototype.refresh=function(n){this.em.refreshCanvas(n)},a.prototype.setCustomRte=function(n){this.RichTextEditor.customRte=n},a.prototype.setCustomParserCss=function(n){return this.Parser.getConfig().parserCss=n,this},a.prototype.setDragMode=function(n){return this.em.setDragMode(n),this},a.prototype.log=function(n,t){return t===void 0&&(t={}),this.em.log(n,t),this},a.prototype.t=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(n=this.em).t.apply(n,t)},a.prototype.on=function(n,t){return this.em.on(n,t),this},a.prototype.once=function(n,t){return this.em.once(n,t),this},a.prototype.off=function(n,t){return this.em.off(n,t),this},a.prototype.trigger=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,cx([n],t,!0)),this},a.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},a.prototype.getEl=function(){var n;return(n=this.editorView)===null||n===void 0?void 0:n.el},a.prototype.getModel=function(){return this.em},a.prototype.render=function(){var n;return(n=this.editorView)===null||n===void 0||n.remove(),this.editorView=new ux(this.em),this.editorView.render().el},a.prototype.onReady=function(n){this.em.get("ready")?n(this):this.em.on("load",n)},a}();const dx=fx;var px=function(a,n){var t=n.get(a);if(!t){var e=(0,g.getGlobal)()[a];t=(e==null?void 0:e.default)||e}return t},Kg=function(a,n){return(0,u.isString)(a)?px(a,n):(a==null?void 0:a.default)||a},Gg=function(a,n){a.getModel().logWarning("Plugin ".concat(n," not found"),{context:"plugins",plugin:n})},hx=function(){function a(){this.plugins={}}return a.prototype.add=function(n,t){var e=this.get(n);return e||(this.plugins[n]=t,t)},a.prototype.get=function(n){return this.plugins[n]},a.prototype.getAll=function(){return this.plugins},a}();const vx=hx,gx=function(){var a=function(){for(var t,e=window.navigator.userAgent,r=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<r.length;i++){var l=r[i];if(t=l[1].exec(e),t)break}return!!t};if((0,g.hasWin)()&&a()){var n=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),n.apply(document.implementation,[t])}}};var bd=function(){return bd=Object.assign||function(a){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},bd.apply(this,arguments)};gx();var Ih=new vx,$g=[],Zg=function(a,n){var t=Kg(a,Ih);return function(e){t?t(e,n||{}):Gg(e,a)}},qg={$:M.default,editors:$g,plugins:Ih,usePlugin:Zg,version:"0.21.12",init:function(a){a===void 0&&(a={});var n=a.headless,t=a.container;if(!t&&!n)throw new Error("'container' is required");var e=bd(bd({autorender:!0,plugins:[],pluginsOpts:{}},a),{grapesjs:this,el:n?void 0:(0,u.isElement)(t)?t:document.querySelector(t)}),r=new dx(e,{$:M.default}),i=r.getModel();return e.plugins.forEach(function(l){var d=Kg(l,Ih),p=e.pluginsOpts[l]||{};d?d(r,p):Gg(r,l)}),i.loadOnStart(),e.autorender&&!n&&r.render(),$g.push(r),r}};const mx=qg})();var OO=Yy.ZP;const TO={appendTo:".blocks-container",custom:!0,name:"defalut",blocks:[{id:"section",label:"<b>Section</b>",content:`<section>
          <h3> Your title </h3>  
          <div> Your sup desc </div>
        </section>`},{id:"imgage-text-box",label:"imageText",content:{type:"image-text",props1:"value1-1",props2:"value2-2"}},{id:"text",label:"Text",attributes:{},content:'<div data-gjs-type="text">Insert your text here</div>'},{id:"image",label:"Image",select:!0,content:{type:"image"},activate:!0}]},EO=u=>{u.Components.addType("image-text",{model:{defaults:{tagName:"div",components:[{type:"image",attributes:{}},{tagName:"span",type:"text",attributes:{title:"foo"},components:[{type:"textnode",content:"Hello world!!!"}]}]}}})},PO=u=>{u.Panels.getButton("actionRightControlBtn","showEditborderBtn").set({command:"core:component-outline",active:!0})},kO={defaults:[{id:"panel-basic-actions-top",el:".panel-basic-actions-top",buttons:[{id:"styleManagerBtn",label:'<svg t="1720606022219" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12811" width="18" height="18"><path d="M517.376 699.904c25.6 0 46.72 19.008 50.048 43.648l0.448 6.848v144.64a50.56 50.56 0 0 1-100.608 6.912l-0.448-6.912v-144.64a50.56 50.56 0 0 1 50.56-50.56z m-13.248-231.872a50.56 50.56 0 0 1 44.16 9.28l5.056 4.544 377.792 377.92a50.56 50.56 0 0 1-65.984 75.712l-5.76-4.672-377.536-377.472a50.56 50.56 0 0 1 22.272-85.312z m-194.56 185.664a50.56 50.56 0 0 1 75.968 65.984l-4.8 5.76-102.4 102.336a50.56 50.56 0 0 1-65.664 4.864l-5.696-4.864-4.864-5.76a50.56 50.56 0 0 1 0-60.096l4.864-5.632 102.592-102.592z m585.472-186.88a50.56 50.56 0 0 1 6.912 100.608l-6.912 0.448h-144.64a50.56 50.56 0 0 1-6.848-100.608l6.848-0.448h144.64z m-621.44 0a50.56 50.56 0 0 1 6.848 100.608l-6.848 0.448h-144.64a50.56 50.56 0 0 1-6.912-100.608l6.912-0.448h144.64z m475.392-252.544a50.56 50.56 0 0 1 75.968 65.92l-4.8 5.76-102.272 102.4a50.56 50.56 0 0 1-76.352-65.856l4.864-5.632 102.592-102.592z m-512-13.312a50.56 50.56 0 0 1 44.16 9.216l4.8 4.352 102.4 102.336a50.496 50.496 0 0 1-65.856 76.288l-5.632-4.864-102.08-102.08a50.56 50.56 0 0 1 22.272-85.248z m280.32-122.56c25.6 0 46.72 19.008 50.112 43.648l0.448 6.912v144.64a50.56 50.56 0 0 1-100.608 6.848l-0.448-6.848v-144.64a50.56 50.56 0 0 1 50.56-50.56z" p-id="12812"></path></svg>',command:"styleManagerBtn",togglable:!1,active:!0},{id:"blockManagerBtn",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"></path>
      </svg>`,command:"blockManagerBtn",togglable:!1,active:!0},{id:"layerManagerBtn",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z"></path>
      </svg>`,command:"layerManagerBtn",togglable:!1,active:!0},{id:"traitManagerBtn",label:"T",command:"traitManagerBtn",togglable:!1,active:!0}]},{id:"deviceDesktopBtn",el:".panel-basic-actions",buttons:[{id:"deviceDesktopBtn-desktop",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z"></path>
      </svg>`,command:"deviceDesktopBtn-desktop",active:!0,togglable:!1},{id:"deviceDesktopBtn-mobile",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z"></path>
      </svg>`,command:"deviceDesktopBtn-mobile",active:!0,togglable:!1}]},{id:"actionRightControlBtn",el:".panel-action-right",buttons:[{id:"showEditborderBtn",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z"></path>
           </svg>`,active:!1,command:"showEditborderBtn",togglable:!0},{id:"showPreviewBtn",label:'<svg style="display: block; max-width:22px" viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>',active:!1,command:"showPreviewBtn",togglable:!0},{id:"screenModelBtn",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z"></path>
      </svg>`,active:!1,command:"screenModelBtn",togglable:!0},{id:"clearStorageBtn",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"></path>
      </svg>`,active:!1,command:"clearStorageBtn",togglable:!0},{id:"jsonModelBtn",label:`<svg style="display: block; max-width:22px" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z"></path>
      </svg>`,active:!1,command:"jsonModelBtn",togglable:!1}]}]},AO={appendTo:".layers-container"},MO={appendTo:".styles-container",sectors:[{name:"Flex",open:!1,properties:[{name:"Container",property:"display",type:"select",defaults:"block",list:[{value:"block",name:"block"},{value:"flex",name:"flex"},{value:"none",name:"none"},{value:"inline",name:"inline"},{value:"inlin-block",name:"inline-block"}]},{name:"Direction",property:"flex-direction",type:"select",defaults:"row",options:[{id:"row",label:"row"},{id:"row-reverse",label:"row reverse"},{id:"column",label:"column"},{id:"column-reverse",label:"column reverse"}]},{name:"Justify Content",property:"justify-content",type:"select",defaults:"flex-start",options:[{id:"flex-start",label:"flex-start"},{id:"flex-end",label:"flex-end"},{id:"space-between",label:"space-between"},{id:"space-around",label:"space-around"},{id:"center",label:"center"}]},{name:"Align Items",property:"align-items",type:"select",defaults:"center",options:[{id:"flex-start",label:"flex-start"},{id:"flex-end",label:"flex-end"},{id:"stretch",label:"stretch"},{id:"baseline",label:"baseline"},{id:"center",label:"center"}]},{name:"Order",property:"order",type:"integer",defaults:0,min:0},{name:"Flex Group",property:"flex",type:"composite",properties:[{name:"Grow",property:"flex-grow",type:"integer",defaults:0,min:0},{name:"Shrink",property:"flex-shrink",type:"integer",defaults:0,min:0},{name:"Basis",property:"flex-basis",type:"integer",units:["px","%","-"],unit:"-",defaults:"auto"}]},{name:"Align Self",property:"align-self",type:"select",defaults:"auto",options:[{id:"flex-start",label:"flex-start"},{id:"flex-end",label:"flex-end"},{id:"stretch",label:"stretch"},{id:"baseline",label:"baseline"},{id:"center",label:"center"}]}]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Font",open:!1,properties:["font-family","font-size","font-weight","letter-spacing",{extend:"color"},"line-height",{extend:"text-align",options:[{id:"left",label:"left"},{id:"center",label:"center"},{id:"right",label:"right"},{id:"justify",label:"justify"}]},{property:"text-decoration",type:"radio",default:"none",options:[{id:"none",label:"None",className:"fa fa-times"},{id:"underline",label:"underline",className:"fa fa-underline"},{id:"line-through",label:"Line-through",className:"fa fa-strikethrough"}]},"text-shadow"]},{name:"Decorations",open:!1,properties:["opacity","border-radius","border","box-shadow","background"]},{name:"Transition",open:!1,buildProps:["transition","perspective","transform"]}]},Xy=[{id:"Page 0",name:"first-page",styles:".my-el { color: red }",component:'<div class="my-el">Hello world!</div>'}],LO={pages:Xy},DO={devices:[{name:"Desktop",width:""},{name:"Mobile",width:"320px",widthMedia:"480px"}]},IO={appendTo:".traits-container"},jO={upload:"http://docs.joykeeps.site/api/v1/common/upload",uploadName:"file"},RO=u=>{const g=".editor-box";u.Commands.add("styleManagerBtn",{getRowEl(_){return _.getContainer().closest(g)},getLayersEl(_){return _.querySelector(".styles-container")},run(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display=""},stop(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display="none"}}),u.Commands.add("layerManagerBtn",{getRowEl(_){return _.getContainer().closest(g)},getLayersEl(_){return _.querySelector(".layers-container")},run(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display=""},stop(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display="none"}}),u.Commands.add("blockManagerBtn",{getRowEl(_){return _.getContainer().closest(g)},getLayersEl(_){return _.querySelector(".blocks-container")},run(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display=""},stop(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display="none"}}),u.Commands.add("traitManagerBtn",{getRowEl(_){return _.getContainer().closest(g)},getLayersEl(_){return _.querySelector(".traits-container")},run(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display=""},stop(_,w){const A=this.getLayersEl(this.getRowEl(_));A.style.display="none"}}),u.Commands.add("deviceDesktopBtn-desktop",{run(_,w){console.log("ele",_),_.setDevice("Desktop")},stop(_,w){}}),u.Commands.add("deviceDesktopBtn-mobile",{run(_,w){console.log("ele",_),_.setDevice("Mobile")},stop(_,w){}}),u.Commands.add("showEditborderBtn",{run(_,w){_.runCommand("core:component-outline")},stop(_,w){_.Commands.stop("core:component-outline")}}),u.Commands.add("showPreviewBtn",{run(_,w){_.runCommand("core:preview"),document.querySelector(".panel-box").style.display="none",document.querySelector(".pages-wrap").style.display="none"},stop(_,w){}}),u.Commands.add("screenModelBtn",{run(_,w){_.runCommand("core:fullscreen",{target:document.querySelector(".app-wrap")})},stop(_,w){_.Commands.stop("core:fullscreen")}}),u.Commands.add("clearStorageBtn",{run(_,w){confirm("Are you sure to clean the canvas?")&&(_.runCommand("core:canvas-clear"),setTimeout(function(){localStorage.clear()},0))},stop(_,w){_.Commands.stop("core:fullscreen")}}),u.Commands.add("jsonModelBtn",{run(_,w){_.runCommand("core:open-code",{})},stop(_,w){}}),u.on("command:stop:core:preview",_=>{u.Panels.getButton("actionRightControlBtn","showPreviewBtn").set({active:!1}),document.querySelector(".pages-wrap").style.display="",document.querySelector(".panel-box").style.display=""}),u.once("command:run:core:open-code",_=>{console.log("");const w=u.getConfig().stylePrefix,A=document.createElement("button");A.className=`${w}mdl-export-btn`,A.innerHTML="EXPORT TO ZIP",document.querySelector(`.${w}mdl-container .${w}export-dl`).appendChild(A),A.onclick=function(){u.runCommand("gjs-export-zip")}}),u.on("command:stop:core:open-code",_=>{u.Panels.getButton("actionRightControlBtn","jsonModelBtn").set({active:!1})}),u.on("command:core:open-assets",_=>{console.log(_,"options")})},FO=(u,g)=>{u.on("storage:load",function(_){console.log("Loaded ",_,_.assets);const w=u.AssetManager;g["storage:load"](_),w.render(_.assets),w.render()}),u.on("storage:store",function(_){console.log("Stored ",_)}),u.on("asset:open",()=>{console.log(" ")}),u.on("asset:upload:response",_=>{console.log("response",_);const w=u.AssetManager,P=u.getProjectData().assets||[];P.push({src:"http://docs.joykeeps.site/"+_.data.path,type:"image"}),w.render(P)}),u.on("style:custom",_=>{g["style:custom"](_)}),u.on("selector:custom",_=>{console.log("selector:custom",_)})};var Jy={exports:{}};/*! grapesjs-plugin-export - 1.0.12 */(function(u,g){(function(_,w){u.exports=w()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:lp,()=>(()=>{var _={162:function(j,M,R){var b,k,S;k=[],(S=typeof(b=function(){function x(q,D){return D===void 0?D={autoBom:!1}:typeof D!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),D={autoBom:!D}),D.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(q.type)?new Blob(["\uFEFF",q],{type:q.type}):q}function T(q,D,at){var W=new XMLHttpRequest;W.open("GET",q),W.responseType="blob",W.onload=function(){nt(W.response,D,at)},W.onerror=function(){console.error("could not download file")},W.send()}function L(q){var D=new XMLHttpRequest;D.open("HEAD",q,!1);try{D.send()}catch{}return 200<=D.status&&299>=D.status}function H(q){try{q.dispatchEvent(new MouseEvent("click"))}catch{var D=document.createEvent("MouseEvents");D.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),q.dispatchEvent(D)}}var tt=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof R.g=="object"&&R.g.global===R.g?R.g:void 0,lt=tt.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),nt=tt.saveAs||(typeof window!="object"||window!==tt?function(){}:"download"in HTMLAnchorElement.prototype&&!lt?function(q,D,at){var W=tt.URL||tt.webkitURL,st=document.createElement("a");D=D||q.name||"download",st.download=D,st.rel="noopener",typeof q=="string"?(st.href=q,st.origin===location.origin?H(st):L(st.href)?T(q,D,at):H(st,st.target="_blank")):(st.href=W.createObjectURL(q),setTimeout(function(){W.revokeObjectURL(st.href)},4e4),setTimeout(function(){H(st)},0))}:"msSaveOrOpenBlob"in navigator?function(q,D,at){if(D=D||q.name||"download",typeof q!="string")navigator.msSaveOrOpenBlob(x(q,at),D);else if(L(q))T(q,D,at);else{var W=document.createElement("a");W.href=q,W.target="_blank",setTimeout(function(){H(W)})}}:function(q,D,at,W){if((W=W||open("","_blank"))&&(W.document.title=W.document.body.innerText="downloading..."),typeof q=="string")return T(q,D,at);var st=q.type==="application/octet-stream",it=/constructor/i.test(tt.HTMLElement)||tt.safari,Q=/CriOS\/[\d]+/.test(navigator.userAgent);if((Q||st&&it||lt)&&typeof FileReader<"u"){var ut=new FileReader;ut.onloadend=function(){var pt=ut.result;pt=Q?pt:pt.replace(/^data:[^;]*;/,"data:attachment/file;"),W?W.location.href=pt:location=pt,W=null},ut.readAsDataURL(q)}else{var X=tt.URL||tt.webkitURL,et=X.createObjectURL(q);W?W.location=et:location.href=et,W=null,setTimeout(function(){X.revokeObjectURL(et)},4e4)}});tt.saveAs=nt.saveAs=nt,j.exports=nt})=="function"?b.apply(M,k):b)===void 0||(j.exports=S)},733:(j,M,R)=>{j.exports=function b(k,S,x){function T(tt,lt){if(!S[tt]){if(!k[tt]){if(L)return L(tt,!0);var nt=new Error("Cannot find module '"+tt+"'");throw nt.code="MODULE_NOT_FOUND",nt}var q=S[tt]={exports:{}};k[tt][0].call(q.exports,function(D){return T(k[tt][1][D]||D)},q,q.exports,b,k,S,x)}return S[tt].exports}for(var L=void 0,H=0;H<x.length;H++)T(x[H]);return T}({1:[function(b,k,S){var x=b("./utils"),T=b("./support"),L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";S.encode=function(H){for(var tt,lt,nt,q,D,at,W,st=[],it=0,Q=H.length,ut=Q,X=x.getTypeOf(H)!=="string";it<H.length;)ut=Q-it,nt=X?(tt=H[it++],lt=it<Q?H[it++]:0,it<Q?H[it++]:0):(tt=H.charCodeAt(it++),lt=it<Q?H.charCodeAt(it++):0,it<Q?H.charCodeAt(it++):0),q=tt>>2,D=(3&tt)<<4|lt>>4,at=1<ut?(15&lt)<<2|nt>>6:64,W=2<ut?63&nt:64,st.push(L.charAt(q)+L.charAt(D)+L.charAt(at)+L.charAt(W));return st.join("")},S.decode=function(H){var tt,lt,nt,q,D,at,W=0,st=0,it="data:";if(H.substr(0,it.length)===it)throw new Error("Invalid base64 input, it looks like a data url.");var Q,ut=3*(H=H.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(H.charAt(H.length-1)===L.charAt(64)&&ut--,H.charAt(H.length-2)===L.charAt(64)&&ut--,ut%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Q=T.uint8array?new Uint8Array(0|ut):new Array(0|ut);W<H.length;)tt=L.indexOf(H.charAt(W++))<<2|(q=L.indexOf(H.charAt(W++)))>>4,lt=(15&q)<<4|(D=L.indexOf(H.charAt(W++)))>>2,nt=(3&D)<<6|(at=L.indexOf(H.charAt(W++))),Q[st++]=tt,D!==64&&(Q[st++]=lt),at!==64&&(Q[st++]=nt);return Q}},{"./support":30,"./utils":32}],2:[function(b,k,S){var x=b("./external"),T=b("./stream/DataWorker"),L=b("./stream/Crc32Probe"),H=b("./stream/DataLengthProbe");function tt(lt,nt,q,D,at){this.compressedSize=lt,this.uncompressedSize=nt,this.crc32=q,this.compression=D,this.compressedContent=at}tt.prototype={getContentWorker:function(){var lt=new T(x.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new H("data_length")),nt=this;return lt.on("end",function(){if(this.streamInfo.data_length!==nt.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),lt},getCompressedWorker:function(){return new T(x.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},tt.createWorkerFrom=function(lt,nt,q){return lt.pipe(new L).pipe(new H("uncompressedSize")).pipe(nt.compressWorker(q)).pipe(new H("compressedSize")).withStreamInfo("compression",nt)},k.exports=tt},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(b,k,S){var x=b("./stream/GenericWorker");S.STORE={magic:"\0\0",compressWorker:function(){return new x("STORE compression")},uncompressWorker:function(){return new x("STORE decompression")}},S.DEFLATE=b("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(b,k,S){var x=b("./utils"),T=function(){for(var L,H=[],tt=0;tt<256;tt++){L=tt;for(var lt=0;lt<8;lt++)L=1&L?3988292384^L>>>1:L>>>1;H[tt]=L}return H}();k.exports=function(L,H){return L!==void 0&&L.length?x.getTypeOf(L)!=="string"?function(tt,lt,nt,q){var D=T,at=q+nt;tt^=-1;for(var W=q;W<at;W++)tt=tt>>>8^D[255&(tt^lt[W])];return-1^tt}(0|H,L,L.length,0):function(tt,lt,nt,q){var D=T,at=q+nt;tt^=-1;for(var W=q;W<at;W++)tt=tt>>>8^D[255&(tt^lt.charCodeAt(W))];return-1^tt}(0|H,L,L.length,0):0}},{"./utils":32}],5:[function(b,k,S){S.base64=!1,S.binary=!1,S.dir=!1,S.createFolders=!0,S.date=null,S.compression=null,S.compressionOptions=null,S.comment=null,S.unixPermissions=null,S.dosPermissions=null},{}],6:[function(b,k,S){var x=null;x=typeof Promise<"u"?Promise:b("lie"),k.exports={Promise:x}},{lie:37}],7:[function(b,k,S){var x=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",T=b("pako"),L=b("./utils"),H=b("./stream/GenericWorker"),tt=x?"uint8array":"array";function lt(nt,q){H.call(this,"FlateWorker/"+nt),this._pako=null,this._pakoAction=nt,this._pakoOptions=q,this.meta={}}S.magic="\b\0",L.inherits(lt,H),lt.prototype.processChunk=function(nt){this.meta=nt.meta,this._pako===null&&this._createPako(),this._pako.push(L.transformTo(tt,nt.data),!1)},lt.prototype.flush=function(){H.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},lt.prototype.cleanUp=function(){H.prototype.cleanUp.call(this),this._pako=null},lt.prototype._createPako=function(){this._pako=new T[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var nt=this;this._pako.onData=function(q){nt.push({data:q,meta:nt.meta})}},S.compressWorker=function(nt){return new lt("Deflate",nt)},S.uncompressWorker=function(){return new lt("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(b,k,S){function x(D,at){var W,st="";for(W=0;W<at;W++)st+=String.fromCharCode(255&D),D>>>=8;return st}function T(D,at,W,st,it,Q){var ut,X,et=D.file,pt=D.compression,$=Q!==tt.utf8encode,mt=L.transformTo("string",Q(et.name)),N=L.transformTo("string",tt.utf8encode(et.name)),kt=et.comment,Mt=L.transformTo("string",Q(kt)),gt=L.transformTo("string",tt.utf8encode(kt)),Kt=N.length!==et.name.length,F=gt.length!==kt.length,Lt="",le="",Nt="",ge=et.dir,Ct=et.date,zt={crc32:0,compressedSize:0,uncompressedSize:0};at&&!W||(zt.crc32=D.crc32,zt.compressedSize=D.compressedSize,zt.uncompressedSize=D.uncompressedSize);var Pt=0;at&&(Pt|=8),$||!Kt&&!F||(Pt|=2048);var It=0,oe=0;ge&&(It|=16),it==="UNIX"?(oe=798,It|=function(re,Tt){var Rt=re;return re||(Rt=Tt?16893:33204),(65535&Rt)<<16}(et.unixPermissions,ge)):(oe=20,It|=function(re){return 63&(re||0)}(et.dosPermissions)),ut=Ct.getUTCHours(),ut<<=6,ut|=Ct.getUTCMinutes(),ut<<=5,ut|=Ct.getUTCSeconds()/2,X=Ct.getUTCFullYear()-1980,X<<=4,X|=Ct.getUTCMonth()+1,X<<=5,X|=Ct.getUTCDate(),Kt&&(le=x(1,1)+x(lt(mt),4)+N,Lt+="up"+x(le.length,2)+le),F&&(Nt=x(1,1)+x(lt(Mt),4)+gt,Lt+="uc"+x(Nt.length,2)+Nt);var Qt="";return Qt+=`
\0`,Qt+=x(Pt,2),Qt+=pt.magic,Qt+=x(ut,2),Qt+=x(X,2),Qt+=x(zt.crc32,4),Qt+=x(zt.compressedSize,4),Qt+=x(zt.uncompressedSize,4),Qt+=x(mt.length,2),Qt+=x(Lt.length,2),{fileRecord:nt.LOCAL_FILE_HEADER+Qt+mt+Lt,dirRecord:nt.CENTRAL_FILE_HEADER+x(oe,2)+Qt+x(Mt.length,2)+"\0\0\0\0"+x(It,4)+x(st,4)+mt+Lt+Mt}}var L=b("../utils"),H=b("../stream/GenericWorker"),tt=b("../utf8"),lt=b("../crc32"),nt=b("../signature");function q(D,at,W,st){H.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=at,this.zipPlatform=W,this.encodeFileName=st,this.streamFiles=D,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}L.inherits(q,H),q.prototype.push=function(D){var at=D.meta.percent||0,W=this.entriesCount,st=this._sources.length;this.accumulate?this.contentBuffer.push(D):(this.bytesWritten+=D.data.length,H.prototype.push.call(this,{data:D.data,meta:{currentFile:this.currentFile,percent:W?(at+100*(W-st-1))/W:100}}))},q.prototype.openedSource=function(D){this.currentSourceOffset=this.bytesWritten,this.currentFile=D.file.name;var at=this.streamFiles&&!D.file.dir;if(at){var W=T(D,at,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:W.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(D){this.accumulate=!1;var at=this.streamFiles&&!D.file.dir,W=T(D,at,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(W.dirRecord),at)this.push({data:function(st){return nt.DATA_DESCRIPTOR+x(st.crc32,4)+x(st.compressedSize,4)+x(st.uncompressedSize,4)}(D),meta:{percent:100}});else for(this.push({data:W.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var D=this.bytesWritten,at=0;at<this.dirRecords.length;at++)this.push({data:this.dirRecords[at],meta:{percent:100}});var W=this.bytesWritten-D,st=function(it,Q,ut,X,et){var pt=L.transformTo("string",et(X));return nt.CENTRAL_DIRECTORY_END+"\0\0\0\0"+x(it,2)+x(it,2)+x(Q,4)+x(ut,4)+x(pt.length,2)+pt}(this.dirRecords.length,W,D,this.zipComment,this.encodeFileName);this.push({data:st,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(D){this._sources.push(D);var at=this;return D.on("data",function(W){at.processChunk(W)}),D.on("end",function(){at.closedSource(at.previous.streamInfo),at._sources.length?at.prepareNextSource():at.end()}),D.on("error",function(W){at.error(W)}),this},q.prototype.resume=function(){return!!H.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(D){var at=this._sources;if(!H.prototype.error.call(this,D))return!1;for(var W=0;W<at.length;W++)try{at[W].error(D)}catch{}return!0},q.prototype.lock=function(){H.prototype.lock.call(this);for(var D=this._sources,at=0;at<D.length;at++)D[at].lock()},k.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(b,k,S){var x=b("../compressions"),T=b("./ZipFileWorker");S.generateWorker=function(L,H,tt){var lt=new T(H.streamFiles,tt,H.platform,H.encodeFileName),nt=0;try{L.forEach(function(q,D){nt++;var at=function(Q,ut){var X=Q||ut,et=x[X];if(!et)throw new Error(X+" is not a valid compression method !");return et}(D.options.compression,H.compression),W=D.options.compressionOptions||H.compressionOptions||{},st=D.dir,it=D.date;D._compressWorker(at,W).withStreamInfo("file",{name:q,dir:st,date:it,comment:D.comment||"",unixPermissions:D.unixPermissions,dosPermissions:D.dosPermissions}).pipe(lt)}),lt.entriesCount=nt}catch(q){lt.error(q)}return lt}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(b,k,S){function x(){if(!(this instanceof x))return new x;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var T=new x;for(var L in this)typeof this[L]!="function"&&(T[L]=this[L]);return T}}(x.prototype=b("./object")).loadAsync=b("./load"),x.support=b("./support"),x.defaults=b("./defaults"),x.version="3.10.1",x.loadAsync=function(T,L){return new x().loadAsync(T,L)},x.external=b("./external"),k.exports=x},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(b,k,S){var x=b("./utils"),T=b("./external"),L=b("./utf8"),H=b("./zipEntries"),tt=b("./stream/Crc32Probe"),lt=b("./nodejsUtils");function nt(q){return new T.Promise(function(D,at){var W=q.decompressed.getContentWorker().pipe(new tt);W.on("error",function(st){at(st)}).on("end",function(){W.streamInfo.crc32!==q.decompressed.crc32?at(new Error("Corrupted zip : CRC32 mismatch")):D()}).resume()})}k.exports=function(q,D){var at=this;return D=x.extend(D||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:L.utf8decode}),lt.isNode&&lt.isStream(q)?T.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):x.prepareContent("the loaded zip file",q,!0,D.optimizedBinaryString,D.base64).then(function(W){var st=new H(D);return st.load(W),st}).then(function(W){var st=[T.Promise.resolve(W)],it=W.files;if(D.checkCRC32)for(var Q=0;Q<it.length;Q++)st.push(nt(it[Q]));return T.Promise.all(st)}).then(function(W){for(var st=W.shift(),it=st.files,Q=0;Q<it.length;Q++){var ut=it[Q],X=ut.fileNameStr,et=x.resolve(ut.fileNameStr);at.file(et,ut.decompressed,{binary:!0,optimizedBinaryString:!0,date:ut.date,dir:ut.dir,comment:ut.fileCommentStr.length?ut.fileCommentStr:null,unixPermissions:ut.unixPermissions,dosPermissions:ut.dosPermissions,createFolders:D.createFolders}),ut.dir||(at.file(et).unsafeOriginalName=X)}return st.zipComment.length&&(at.comment=st.zipComment),at})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(b,k,S){var x=b("../utils"),T=b("../stream/GenericWorker");function L(H,tt){T.call(this,"Nodejs stream input adapter for "+H),this._upstreamEnded=!1,this._bindStream(tt)}x.inherits(L,T),L.prototype._bindStream=function(H){var tt=this;(this._stream=H).pause(),H.on("data",function(lt){tt.push({data:lt,meta:{percent:0}})}).on("error",function(lt){tt.isPaused?this.generatedError=lt:tt.error(lt)}).on("end",function(){tt.isPaused?tt._upstreamEnded=!0:tt.end()})},L.prototype.pause=function(){return!!T.prototype.pause.call(this)&&(this._stream.pause(),!0)},L.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},k.exports=L},{"../stream/GenericWorker":28,"../utils":32}],13:[function(b,k,S){var x=b("readable-stream").Readable;function T(L,H,tt){x.call(this,H),this._helper=L;var lt=this;L.on("data",function(nt,q){lt.push(nt)||lt._helper.pause(),tt&&tt(q)}).on("error",function(nt){lt.emit("error",nt)}).on("end",function(){lt.push(null)})}b("../utils").inherits(T,x),T.prototype._read=function(){this._helper.resume()},k.exports=T},{"../utils":32,"readable-stream":16}],14:[function(b,k,S){k.exports={isNode:typeof Buffer<"u",newBufferFrom:function(x,T){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(x,T);if(typeof x=="number")throw new Error('The "data" argument must not be a number');return new Buffer(x,T)},allocBuffer:function(x){if(Buffer.alloc)return Buffer.alloc(x);var T=new Buffer(x);return T.fill(0),T},isBuffer:function(x){return Buffer.isBuffer(x)},isStream:function(x){return x&&typeof x.on=="function"&&typeof x.pause=="function"&&typeof x.resume=="function"}}},{}],15:[function(b,k,S){function x(et,pt,$){var mt,N=L.getTypeOf(pt),kt=L.extend($||{},lt);kt.date=kt.date||new Date,kt.compression!==null&&(kt.compression=kt.compression.toUpperCase()),typeof kt.unixPermissions=="string"&&(kt.unixPermissions=parseInt(kt.unixPermissions,8)),kt.unixPermissions&&16384&kt.unixPermissions&&(kt.dir=!0),kt.dosPermissions&&16&kt.dosPermissions&&(kt.dir=!0),kt.dir&&(et=it(et)),kt.createFolders&&(mt=st(et))&&Q.call(this,mt,!0);var Mt=N==="string"&&kt.binary===!1&&kt.base64===!1;$&&$.binary!==void 0||(kt.binary=!Mt),(pt instanceof nt&&pt.uncompressedSize===0||kt.dir||!pt||pt.length===0)&&(kt.base64=!1,kt.binary=!0,pt="",kt.compression="STORE",N="string");var gt=null;gt=pt instanceof nt||pt instanceof H?pt:at.isNode&&at.isStream(pt)?new W(et,pt):L.prepareContent(et,pt,kt.binary,kt.optimizedBinaryString,kt.base64);var Kt=new q(et,gt,kt);this.files[et]=Kt}var T=b("./utf8"),L=b("./utils"),H=b("./stream/GenericWorker"),tt=b("./stream/StreamHelper"),lt=b("./defaults"),nt=b("./compressedObject"),q=b("./zipObject"),D=b("./generate"),at=b("./nodejsUtils"),W=b("./nodejs/NodejsStreamInputAdapter"),st=function(et){et.slice(-1)==="/"&&(et=et.substring(0,et.length-1));var pt=et.lastIndexOf("/");return 0<pt?et.substring(0,pt):""},it=function(et){return et.slice(-1)!=="/"&&(et+="/"),et},Q=function(et,pt){return pt=pt!==void 0?pt:lt.createFolders,et=it(et),this.files[et]||x.call(this,et,null,{dir:!0,createFolders:pt}),this.files[et]};function ut(et){return Object.prototype.toString.call(et)==="[object RegExp]"}var X={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(et){var pt,$,mt;for(pt in this.files)mt=this.files[pt],($=pt.slice(this.root.length,pt.length))&&pt.slice(0,this.root.length)===this.root&&et($,mt)},filter:function(et){var pt=[];return this.forEach(function($,mt){et($,mt)&&pt.push(mt)}),pt},file:function(et,pt,$){if(arguments.length!==1)return et=this.root+et,x.call(this,et,pt,$),this;if(ut(et)){var mt=et;return this.filter(function(kt,Mt){return!Mt.dir&&mt.test(kt)})}var N=this.files[this.root+et];return N&&!N.dir?N:null},folder:function(et){if(!et)return this;if(ut(et))return this.filter(function(N,kt){return kt.dir&&et.test(N)});var pt=this.root+et,$=Q.call(this,pt),mt=this.clone();return mt.root=$.name,mt},remove:function(et){et=this.root+et;var pt=this.files[et];if(pt||(et.slice(-1)!=="/"&&(et+="/"),pt=this.files[et]),pt&&!pt.dir)delete this.files[et];else for(var $=this.filter(function(N,kt){return kt.name.slice(0,et.length)===et}),mt=0;mt<$.length;mt++)delete this.files[$[mt].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(et){var pt,$={};try{if(($=L.extend(et||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:T.utf8encode})).type=$.type.toLowerCase(),$.compression=$.compression.toUpperCase(),$.type==="binarystring"&&($.type="string"),!$.type)throw new Error("No output type specified.");L.checkSupport($.type),$.platform!=="darwin"&&$.platform!=="freebsd"&&$.platform!=="linux"&&$.platform!=="sunos"||($.platform="UNIX"),$.platform==="win32"&&($.platform="DOS");var mt=$.comment||this.comment||"";pt=D.generateWorker(this,$,mt)}catch(N){(pt=new H("error")).error(N)}return new tt(pt,$.type||"string",$.mimeType)},generateAsync:function(et,pt){return this.generateInternalStream(et).accumulate(pt)},generateNodeStream:function(et,pt){return(et=et||{}).type||(et.type="nodebuffer"),this.generateInternalStream(et).toNodejsStream(pt)}};k.exports=X},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(b,k,S){k.exports=b("stream")},{stream:void 0}],17:[function(b,k,S){var x=b("./DataReader");function T(L){x.call(this,L);for(var H=0;H<this.data.length;H++)L[H]=255&L[H]}b("../utils").inherits(T,x),T.prototype.byteAt=function(L){return this.data[this.zero+L]},T.prototype.lastIndexOfSignature=function(L){for(var H=L.charCodeAt(0),tt=L.charCodeAt(1),lt=L.charCodeAt(2),nt=L.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===H&&this.data[q+1]===tt&&this.data[q+2]===lt&&this.data[q+3]===nt)return q-this.zero;return-1},T.prototype.readAndCheckSignature=function(L){var H=L.charCodeAt(0),tt=L.charCodeAt(1),lt=L.charCodeAt(2),nt=L.charCodeAt(3),q=this.readData(4);return H===q[0]&&tt===q[1]&&lt===q[2]&&nt===q[3]},T.prototype.readData=function(L){if(this.checkOffset(L),L===0)return[];var H=this.data.slice(this.zero+this.index,this.zero+this.index+L);return this.index+=L,H},k.exports=T},{"../utils":32,"./DataReader":18}],18:[function(b,k,S){var x=b("../utils");function T(L){this.data=L,this.length=L.length,this.index=0,this.zero=0}T.prototype={checkOffset:function(L){this.checkIndex(this.index+L)},checkIndex:function(L){if(this.length<this.zero+L||L<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+L+"). Corrupted zip ?")},setIndex:function(L){this.checkIndex(L),this.index=L},skip:function(L){this.setIndex(this.index+L)},byteAt:function(){},readInt:function(L){var H,tt=0;for(this.checkOffset(L),H=this.index+L-1;H>=this.index;H--)tt=(tt<<8)+this.byteAt(H);return this.index+=L,tt},readString:function(L){return x.transformTo("string",this.readData(L))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var L=this.readInt(4);return new Date(Date.UTC(1980+(L>>25&127),(L>>21&15)-1,L>>16&31,L>>11&31,L>>5&63,(31&L)<<1))}},k.exports=T},{"../utils":32}],19:[function(b,k,S){var x=b("./Uint8ArrayReader");function T(L){x.call(this,L)}b("../utils").inherits(T,x),T.prototype.readData=function(L){this.checkOffset(L);var H=this.data.slice(this.zero+this.index,this.zero+this.index+L);return this.index+=L,H},k.exports=T},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(b,k,S){var x=b("./DataReader");function T(L){x.call(this,L)}b("../utils").inherits(T,x),T.prototype.byteAt=function(L){return this.data.charCodeAt(this.zero+L)},T.prototype.lastIndexOfSignature=function(L){return this.data.lastIndexOf(L)-this.zero},T.prototype.readAndCheckSignature=function(L){return L===this.readData(4)},T.prototype.readData=function(L){this.checkOffset(L);var H=this.data.slice(this.zero+this.index,this.zero+this.index+L);return this.index+=L,H},k.exports=T},{"../utils":32,"./DataReader":18}],21:[function(b,k,S){var x=b("./ArrayReader");function T(L){x.call(this,L)}b("../utils").inherits(T,x),T.prototype.readData=function(L){if(this.checkOffset(L),L===0)return new Uint8Array(0);var H=this.data.subarray(this.zero+this.index,this.zero+this.index+L);return this.index+=L,H},k.exports=T},{"../utils":32,"./ArrayReader":17}],22:[function(b,k,S){var x=b("../utils"),T=b("../support"),L=b("./ArrayReader"),H=b("./StringReader"),tt=b("./NodeBufferReader"),lt=b("./Uint8ArrayReader");k.exports=function(nt){var q=x.getTypeOf(nt);return x.checkSupport(q),q!=="string"||T.uint8array?q==="nodebuffer"?new tt(nt):T.uint8array?new lt(x.transformTo("uint8array",nt)):new L(x.transformTo("array",nt)):new H(nt)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(b,k,S){S.LOCAL_FILE_HEADER="PK",S.CENTRAL_FILE_HEADER="PK",S.CENTRAL_DIRECTORY_END="PK",S.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",S.ZIP64_CENTRAL_DIRECTORY_END="PK",S.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(b,k,S){var x=b("./GenericWorker"),T=b("../utils");function L(H){x.call(this,"ConvertWorker to "+H),this.destType=H}T.inherits(L,x),L.prototype.processChunk=function(H){this.push({data:T.transformTo(this.destType,H.data),meta:H.meta})},k.exports=L},{"../utils":32,"./GenericWorker":28}],25:[function(b,k,S){var x=b("./GenericWorker"),T=b("../crc32");function L(){x.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}b("../utils").inherits(L,x),L.prototype.processChunk=function(H){this.streamInfo.crc32=T(H.data,this.streamInfo.crc32||0),this.push(H)},k.exports=L},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(b,k,S){var x=b("../utils"),T=b("./GenericWorker");function L(H){T.call(this,"DataLengthProbe for "+H),this.propName=H,this.withStreamInfo(H,0)}x.inherits(L,T),L.prototype.processChunk=function(H){if(H){var tt=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=tt+H.data.length}T.prototype.processChunk.call(this,H)},k.exports=L},{"../utils":32,"./GenericWorker":28}],27:[function(b,k,S){var x=b("../utils"),T=b("./GenericWorker");function L(H){T.call(this,"DataWorker");var tt=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,H.then(function(lt){tt.dataIsReady=!0,tt.data=lt,tt.max=lt&&lt.length||0,tt.type=x.getTypeOf(lt),tt.isPaused||tt._tickAndRepeat()},function(lt){tt.error(lt)})}x.inherits(L,T),L.prototype.cleanUp=function(){T.prototype.cleanUp.call(this),this.data=null},L.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,x.delay(this._tickAndRepeat,[],this)),!0)},L.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(x.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},L.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var H=null,tt=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":H=this.data.substring(this.index,tt);break;case"uint8array":H=this.data.subarray(this.index,tt);break;case"array":case"nodebuffer":H=this.data.slice(this.index,tt)}return this.index=tt,this.push({data:H,meta:{percent:this.max?this.index/this.max*100:0}})},k.exports=L},{"../utils":32,"./GenericWorker":28}],28:[function(b,k,S){function x(T){this.name=T||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}x.prototype={push:function(T){this.emit("data",T)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(T){this.emit("error",T)}return!0},error:function(T){return!this.isFinished&&(this.isPaused?this.generatedError=T:(this.isFinished=!0,this.emit("error",T),this.previous&&this.previous.error(T),this.cleanUp()),!0)},on:function(T,L){return this._listeners[T].push(L),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(T,L){if(this._listeners[T])for(var H=0;H<this._listeners[T].length;H++)this._listeners[T][H].call(this,L)},pipe:function(T){return T.registerPrevious(this)},registerPrevious:function(T){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=T.streamInfo,this.mergeStreamInfo(),this.previous=T;var L=this;return T.on("data",function(H){L.processChunk(H)}),T.on("end",function(){L.end()}),T.on("error",function(H){L.error(H)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var T=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),T=!0),this.previous&&this.previous.resume(),!T},flush:function(){},processChunk:function(T){this.push(T)},withStreamInfo:function(T,L){return this.extraStreamInfo[T]=L,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var T in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,T)&&(this.streamInfo[T]=this.extraStreamInfo[T])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var T="Worker "+this.name;return this.previous?this.previous+" -> "+T:T}},k.exports=x},{}],29:[function(b,k,S){var x=b("../utils"),T=b("./ConvertWorker"),L=b("./GenericWorker"),H=b("../base64"),tt=b("../support"),lt=b("../external"),nt=null;if(tt.nodestream)try{nt=b("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(at,W){return new lt.Promise(function(st,it){var Q=[],ut=at._internalType,X=at._outputType,et=at._mimeType;at.on("data",function(pt,$){Q.push(pt),W&&W($)}).on("error",function(pt){Q=[],it(pt)}).on("end",function(){try{var pt=function($,mt,N){switch($){case"blob":return x.newBlob(x.transformTo("arraybuffer",mt),N);case"base64":return H.encode(mt);default:return x.transformTo($,mt)}}(X,function($,mt){var N,kt=0,Mt=null,gt=0;for(N=0;N<mt.length;N++)gt+=mt[N].length;switch($){case"string":return mt.join("");case"array":return Array.prototype.concat.apply([],mt);case"uint8array":for(Mt=new Uint8Array(gt),N=0;N<mt.length;N++)Mt.set(mt[N],kt),kt+=mt[N].length;return Mt;case"nodebuffer":return Buffer.concat(mt);default:throw new Error("concat : unsupported type '"+$+"'")}}(ut,Q),et);st(pt)}catch($){it($)}Q=[]}).resume()})}function D(at,W,st){var it=W;switch(W){case"blob":case"arraybuffer":it="uint8array";break;case"base64":it="string"}try{this._internalType=it,this._outputType=W,this._mimeType=st,x.checkSupport(it),this._worker=at.pipe(new T(it)),at.lock()}catch(Q){this._worker=new L("error"),this._worker.error(Q)}}D.prototype={accumulate:function(at){return q(this,at)},on:function(at,W){var st=this;return at==="data"?this._worker.on(at,function(it){W.call(st,it.data,it.meta)}):this._worker.on(at,function(){x.delay(W,arguments,st)}),this},resume:function(){return x.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(at){if(x.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new nt(this,{objectMode:this._outputType!=="nodebuffer"},at)}},k.exports=D},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(b,k,S){if(S.base64=!0,S.array=!0,S.string=!0,S.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",S.nodebuffer=typeof Buffer<"u",S.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")S.blob=!1;else{var x=new ArrayBuffer(0);try{S.blob=new Blob([x],{type:"application/zip"}).size===0}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);T.append(x),S.blob=T.getBlob("application/zip").size===0}catch{S.blob=!1}}}try{S.nodestream=!!b("readable-stream").Readable}catch{S.nodestream=!1}},{"readable-stream":16}],31:[function(b,k,S){for(var x=b("./utils"),T=b("./support"),L=b("./nodejsUtils"),H=b("./stream/GenericWorker"),tt=new Array(256),lt=0;lt<256;lt++)tt[lt]=252<=lt?6:248<=lt?5:240<=lt?4:224<=lt?3:192<=lt?2:1;function nt(){H.call(this,"utf-8 decode"),this.leftOver=null}function q(){H.call(this,"utf-8 encode")}tt[254]=tt[254]=1,S.utf8encode=function(D){return T.nodebuffer?L.newBufferFrom(D,"utf-8"):function(at){var W,st,it,Q,ut,X=at.length,et=0;for(Q=0;Q<X;Q++)(64512&(st=at.charCodeAt(Q)))==55296&&Q+1<X&&(64512&(it=at.charCodeAt(Q+1)))==56320&&(st=65536+(st-55296<<10)+(it-56320),Q++),et+=st<128?1:st<2048?2:st<65536?3:4;for(W=T.uint8array?new Uint8Array(et):new Array(et),Q=ut=0;ut<et;Q++)(64512&(st=at.charCodeAt(Q)))==55296&&Q+1<X&&(64512&(it=at.charCodeAt(Q+1)))==56320&&(st=65536+(st-55296<<10)+(it-56320),Q++),st<128?W[ut++]=st:(st<2048?W[ut++]=192|st>>>6:(st<65536?W[ut++]=224|st>>>12:(W[ut++]=240|st>>>18,W[ut++]=128|st>>>12&63),W[ut++]=128|st>>>6&63),W[ut++]=128|63&st);return W}(D)},S.utf8decode=function(D){return T.nodebuffer?x.transformTo("nodebuffer",D).toString("utf-8"):function(at){var W,st,it,Q,ut=at.length,X=new Array(2*ut);for(W=st=0;W<ut;)if((it=at[W++])<128)X[st++]=it;else if(4<(Q=tt[it]))X[st++]=65533,W+=Q-1;else{for(it&=Q===2?31:Q===3?15:7;1<Q&&W<ut;)it=it<<6|63&at[W++],Q--;1<Q?X[st++]=65533:it<65536?X[st++]=it:(it-=65536,X[st++]=55296|it>>10&1023,X[st++]=56320|1023&it)}return X.length!==st&&(X.subarray?X=X.subarray(0,st):X.length=st),x.applyFromCharCode(X)}(D=x.transformTo(T.uint8array?"uint8array":"array",D))},x.inherits(nt,H),nt.prototype.processChunk=function(D){var at=x.transformTo(T.uint8array?"uint8array":"array",D.data);if(this.leftOver&&this.leftOver.length){if(T.uint8array){var W=at;(at=new Uint8Array(W.length+this.leftOver.length)).set(this.leftOver,0),at.set(W,this.leftOver.length)}else at=this.leftOver.concat(at);this.leftOver=null}var st=function(Q,ut){var X;for((ut=ut||Q.length)>Q.length&&(ut=Q.length),X=ut-1;0<=X&&(192&Q[X])==128;)X--;return X<0||X===0?ut:X+tt[Q[X]]>ut?X:ut}(at),it=at;st!==at.length&&(T.uint8array?(it=at.subarray(0,st),this.leftOver=at.subarray(st,at.length)):(it=at.slice(0,st),this.leftOver=at.slice(st,at.length))),this.push({data:S.utf8decode(it),meta:D.meta})},nt.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:S.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},S.Utf8DecodeWorker=nt,x.inherits(q,H),q.prototype.processChunk=function(D){this.push({data:S.utf8encode(D.data),meta:D.meta})},S.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(b,k,S){var x=b("./support"),T=b("./base64"),L=b("./nodejsUtils"),H=b("./external");function tt(W){return W}function lt(W,st){for(var it=0;it<W.length;++it)st[it]=255&W.charCodeAt(it);return st}b("setimmediate"),S.newBlob=function(W,st){S.checkSupport("blob");try{return new Blob([W],{type:st})}catch{try{var it=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return it.append(W),it.getBlob(st)}catch{throw new Error("Bug : can't construct the Blob.")}}};var nt={stringifyByChunk:function(W,st,it){var Q=[],ut=0,X=W.length;if(X<=it)return String.fromCharCode.apply(null,W);for(;ut<X;)st==="array"||st==="nodebuffer"?Q.push(String.fromCharCode.apply(null,W.slice(ut,Math.min(ut+it,X)))):Q.push(String.fromCharCode.apply(null,W.subarray(ut,Math.min(ut+it,X)))),ut+=it;return Q.join("")},stringifyByChar:function(W){for(var st="",it=0;it<W.length;it++)st+=String.fromCharCode(W[it]);return st},applyCanBeUsed:{uint8array:function(){try{return x.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return x.nodebuffer&&String.fromCharCode.apply(null,L.allocBuffer(1)).length===1}catch{return!1}}()}};function q(W){var st=65536,it=S.getTypeOf(W),Q=!0;if(it==="uint8array"?Q=nt.applyCanBeUsed.uint8array:it==="nodebuffer"&&(Q=nt.applyCanBeUsed.nodebuffer),Q)for(;1<st;)try{return nt.stringifyByChunk(W,it,st)}catch{st=Math.floor(st/2)}return nt.stringifyByChar(W)}function D(W,st){for(var it=0;it<W.length;it++)st[it]=W[it];return st}S.applyFromCharCode=q;var at={};at.string={string:tt,array:function(W){return lt(W,new Array(W.length))},arraybuffer:function(W){return at.string.uint8array(W).buffer},uint8array:function(W){return lt(W,new Uint8Array(W.length))},nodebuffer:function(W){return lt(W,L.allocBuffer(W.length))}},at.array={string:q,array:tt,arraybuffer:function(W){return new Uint8Array(W).buffer},uint8array:function(W){return new Uint8Array(W)},nodebuffer:function(W){return L.newBufferFrom(W)}},at.arraybuffer={string:function(W){return q(new Uint8Array(W))},array:function(W){return D(new Uint8Array(W),new Array(W.byteLength))},arraybuffer:tt,uint8array:function(W){return new Uint8Array(W)},nodebuffer:function(W){return L.newBufferFrom(new Uint8Array(W))}},at.uint8array={string:q,array:function(W){return D(W,new Array(W.length))},arraybuffer:function(W){return W.buffer},uint8array:tt,nodebuffer:function(W){return L.newBufferFrom(W)}},at.nodebuffer={string:q,array:function(W){return D(W,new Array(W.length))},arraybuffer:function(W){return at.nodebuffer.uint8array(W).buffer},uint8array:function(W){return D(W,new Uint8Array(W.length))},nodebuffer:tt},S.transformTo=function(W,st){if(st=st||"",!W)return st;S.checkSupport(W);var it=S.getTypeOf(st);return at[it][W](st)},S.resolve=function(W){for(var st=W.split("/"),it=[],Q=0;Q<st.length;Q++){var ut=st[Q];ut==="."||ut===""&&Q!==0&&Q!==st.length-1||(ut===".."?it.pop():it.push(ut))}return it.join("/")},S.getTypeOf=function(W){return typeof W=="string"?"string":Object.prototype.toString.call(W)==="[object Array]"?"array":x.nodebuffer&&L.isBuffer(W)?"nodebuffer":x.uint8array&&W instanceof Uint8Array?"uint8array":x.arraybuffer&&W instanceof ArrayBuffer?"arraybuffer":void 0},S.checkSupport=function(W){if(!x[W.toLowerCase()])throw new Error(W+" is not supported by this platform")},S.MAX_VALUE_16BITS=65535,S.MAX_VALUE_32BITS=-1,S.pretty=function(W){var st,it,Q="";for(it=0;it<(W||"").length;it++)Q+="\\x"+((st=W.charCodeAt(it))<16?"0":"")+st.toString(16).toUpperCase();return Q},S.delay=function(W,st,it){setImmediate(function(){W.apply(it||null,st||[])})},S.inherits=function(W,st){function it(){}it.prototype=st.prototype,W.prototype=new it},S.extend=function(){var W,st,it={};for(W=0;W<arguments.length;W++)for(st in arguments[W])Object.prototype.hasOwnProperty.call(arguments[W],st)&&it[st]===void 0&&(it[st]=arguments[W][st]);return it},S.prepareContent=function(W,st,it,Q,ut){return H.Promise.resolve(st).then(function(X){return x.blob&&(X instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(X))!==-1)&&typeof FileReader<"u"?new H.Promise(function(et,pt){var $=new FileReader;$.onload=function(mt){et(mt.target.result)},$.onerror=function(mt){pt(mt.target.error)},$.readAsArrayBuffer(X)}):X}).then(function(X){var et=S.getTypeOf(X);return et?(et==="arraybuffer"?X=S.transformTo("uint8array",X):et==="string"&&(ut?X=T.decode(X):it&&Q!==!0&&(X=function(pt){return lt(pt,x.uint8array?new Uint8Array(pt.length):new Array(pt.length))}(X))),X):H.Promise.reject(new Error("Can't read the data of '"+W+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(b,k,S){var x=b("./reader/readerFor"),T=b("./utils"),L=b("./signature"),H=b("./zipEntry"),tt=b("./support");function lt(nt){this.files=[],this.loadOptions=nt}lt.prototype={checkSignature:function(nt){if(!this.reader.readAndCheckSignature(nt)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+T.pretty(q)+", expected "+T.pretty(nt)+")")}},isSignature:function(nt,q){var D=this.reader.index;this.reader.setIndex(nt);var at=this.reader.readString(4)===q;return this.reader.setIndex(D),at},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var nt=this.reader.readData(this.zipCommentLength),q=tt.uint8array?"uint8array":"array",D=T.transformTo(q,nt);this.zipComment=this.loadOptions.decodeFileName(D)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var nt,q,D,at=this.zip64EndOfCentralSize-44;0<at;)nt=this.reader.readInt(2),q=this.reader.readInt(4),D=this.reader.readData(q),this.zip64ExtensibleData[nt]={id:nt,length:q,value:D}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var nt,q;for(nt=0;nt<this.files.length;nt++)q=this.files[nt],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(L.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var nt;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(L.CENTRAL_FILE_HEADER);)(nt=new H({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(nt);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var nt=this.reader.lastIndexOfSignature(L.CENTRAL_DIRECTORY_END);if(nt<0)throw this.isSignature(0,L.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(nt);var q=nt;if(this.checkSignature(L.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===T.MAX_VALUE_16BITS||this.diskWithCentralDirStart===T.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===T.MAX_VALUE_16BITS||this.centralDirRecords===T.MAX_VALUE_16BITS||this.centralDirSize===T.MAX_VALUE_32BITS||this.centralDirOffset===T.MAX_VALUE_32BITS){if(this.zip64=!0,(nt=this.reader.lastIndexOfSignature(L.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(nt),this.checkSignature(L.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,L.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(L.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(L.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var D=this.centralDirOffset+this.centralDirSize;this.zip64&&(D+=20,D+=12+this.zip64EndOfCentralSize);var at=q-D;if(0<at)this.isSignature(q,L.CENTRAL_FILE_HEADER)||(this.reader.zero=at);else if(at<0)throw new Error("Corrupted zip: missing "+Math.abs(at)+" bytes.")},prepareReader:function(nt){this.reader=x(nt)},load:function(nt){this.prepareReader(nt),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},k.exports=lt},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(b,k,S){var x=b("./reader/readerFor"),T=b("./utils"),L=b("./compressedObject"),H=b("./crc32"),tt=b("./utf8"),lt=b("./compressions"),nt=b("./support");function q(D,at){this.options=D,this.loadOptions=at}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(D){var at,W;if(D.skip(22),this.fileNameLength=D.readInt(2),W=D.readInt(2),this.fileName=D.readData(this.fileNameLength),D.skip(W),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((at=function(st){for(var it in lt)if(Object.prototype.hasOwnProperty.call(lt,it)&&lt[it].magic===st)return lt[it];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+T.pretty(this.compressionMethod)+" unknown (inner file : "+T.transformTo("string",this.fileName)+")");this.decompressed=new L(this.compressedSize,this.uncompressedSize,this.crc32,at,D.readData(this.compressedSize))},readCentralPart:function(D){this.versionMadeBy=D.readInt(2),D.skip(2),this.bitFlag=D.readInt(2),this.compressionMethod=D.readString(2),this.date=D.readDate(),this.crc32=D.readInt(4),this.compressedSize=D.readInt(4),this.uncompressedSize=D.readInt(4);var at=D.readInt(2);if(this.extraFieldsLength=D.readInt(2),this.fileCommentLength=D.readInt(2),this.diskNumberStart=D.readInt(2),this.internalFileAttributes=D.readInt(2),this.externalFileAttributes=D.readInt(4),this.localHeaderOffset=D.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");D.skip(at),this.readExtraFields(D),this.parseZIP64ExtraField(D),this.fileComment=D.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var D=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),D==0&&(this.dosPermissions=63&this.externalFileAttributes),D==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var D=x(this.extraFields[1].value);this.uncompressedSize===T.MAX_VALUE_32BITS&&(this.uncompressedSize=D.readInt(8)),this.compressedSize===T.MAX_VALUE_32BITS&&(this.compressedSize=D.readInt(8)),this.localHeaderOffset===T.MAX_VALUE_32BITS&&(this.localHeaderOffset=D.readInt(8)),this.diskNumberStart===T.MAX_VALUE_32BITS&&(this.diskNumberStart=D.readInt(4))}},readExtraFields:function(D){var at,W,st,it=D.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});D.index+4<it;)at=D.readInt(2),W=D.readInt(2),st=D.readData(W),this.extraFields[at]={id:at,length:W,value:st};D.setIndex(it)},handleUTF8:function(){var D=nt.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=tt.utf8decode(this.fileName),this.fileCommentStr=tt.utf8decode(this.fileComment);else{var at=this.findExtraFieldUnicodePath();if(at!==null)this.fileNameStr=at;else{var W=T.transformTo(D,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(W)}var st=this.findExtraFieldUnicodeComment();if(st!==null)this.fileCommentStr=st;else{var it=T.transformTo(D,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(it)}}},findExtraFieldUnicodePath:function(){var D=this.extraFields[28789];if(D){var at=x(D.value);return at.readInt(1)!==1||H(this.fileName)!==at.readInt(4)?null:tt.utf8decode(at.readData(D.length-5))}return null},findExtraFieldUnicodeComment:function(){var D=this.extraFields[25461];if(D){var at=x(D.value);return at.readInt(1)!==1||H(this.fileComment)!==at.readInt(4)?null:tt.utf8decode(at.readData(D.length-5))}return null}},k.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(b,k,S){function x(at,W,st){this.name=at,this.dir=st.dir,this.date=st.date,this.comment=st.comment,this.unixPermissions=st.unixPermissions,this.dosPermissions=st.dosPermissions,this._data=W,this._dataBinary=st.binary,this.options={compression:st.compression,compressionOptions:st.compressionOptions}}var T=b("./stream/StreamHelper"),L=b("./stream/DataWorker"),H=b("./utf8"),tt=b("./compressedObject"),lt=b("./stream/GenericWorker");x.prototype={internalStream:function(at){var W=null,st="string";try{if(!at)throw new Error("No output type specified.");var it=(st=at.toLowerCase())==="string"||st==="text";st!=="binarystring"&&st!=="text"||(st="string"),W=this._decompressWorker();var Q=!this._dataBinary;Q&&!it&&(W=W.pipe(new H.Utf8EncodeWorker)),!Q&&it&&(W=W.pipe(new H.Utf8DecodeWorker))}catch(ut){(W=new lt("error")).error(ut)}return new T(W,st,"")},async:function(at,W){return this.internalStream(at).accumulate(W)},nodeStream:function(at,W){return this.internalStream(at||"nodebuffer").toNodejsStream(W)},_compressWorker:function(at,W){if(this._data instanceof tt&&this._data.compression.magic===at.magic)return this._data.getCompressedWorker();var st=this._decompressWorker();return this._dataBinary||(st=st.pipe(new H.Utf8EncodeWorker)),tt.createWorkerFrom(st,at,W)},_decompressWorker:function(){return this._data instanceof tt?this._data.getContentWorker():this._data instanceof lt?this._data:new L(this._data)}};for(var nt=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},D=0;D<nt.length;D++)x.prototype[nt[D]]=q;k.exports=x},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(b,k,S){(function(x){var T,L,H=x.MutationObserver||x.WebKitMutationObserver;if(H){var tt=0,lt=new H(at),nt=x.document.createTextNode("");lt.observe(nt,{characterData:!0}),T=function(){nt.data=tt=++tt%2}}else if(x.setImmediate||x.MessageChannel===void 0)T="document"in x&&"onreadystatechange"in x.document.createElement("script")?function(){var W=x.document.createElement("script");W.onreadystatechange=function(){at(),W.onreadystatechange=null,W.parentNode.removeChild(W),W=null},x.document.documentElement.appendChild(W)}:function(){setTimeout(at,0)};else{var q=new x.MessageChannel;q.port1.onmessage=at,T=function(){q.port2.postMessage(0)}}var D=[];function at(){var W,st;L=!0;for(var it=D.length;it;){for(st=D,D=[],W=-1;++W<it;)st[W]();it=D.length}L=!1}k.exports=function(W){D.push(W)!==1||L||T()}}).call(this,R.g!==void 0?R.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(b,k,S){var x=b("immediate");function T(){}var L={},H=["REJECTED"],tt=["FULFILLED"],lt=["PENDING"];function nt(it){if(typeof it!="function")throw new TypeError("resolver must be a function");this.state=lt,this.queue=[],this.outcome=void 0,it!==T&&W(this,it)}function q(it,Q,ut){this.promise=it,typeof Q=="function"&&(this.onFulfilled=Q,this.callFulfilled=this.otherCallFulfilled),typeof ut=="function"&&(this.onRejected=ut,this.callRejected=this.otherCallRejected)}function D(it,Q,ut){x(function(){var X;try{X=Q(ut)}catch(et){return L.reject(it,et)}X===it?L.reject(it,new TypeError("Cannot resolve promise with itself")):L.resolve(it,X)})}function at(it){var Q=it&&it.then;if(it&&(typeof it=="object"||typeof it=="function")&&typeof Q=="function")return function(){Q.apply(it,arguments)}}function W(it,Q){var ut=!1;function X($){ut||(ut=!0,L.reject(it,$))}function et($){ut||(ut=!0,L.resolve(it,$))}var pt=st(function(){Q(et,X)});pt.status==="error"&&X(pt.value)}function st(it,Q){var ut={};try{ut.value=it(Q),ut.status="success"}catch(X){ut.status="error",ut.value=X}return ut}(k.exports=nt).prototype.finally=function(it){if(typeof it!="function")return this;var Q=this.constructor;return this.then(function(ut){return Q.resolve(it()).then(function(){return ut})},function(ut){return Q.resolve(it()).then(function(){throw ut})})},nt.prototype.catch=function(it){return this.then(null,it)},nt.prototype.then=function(it,Q){if(typeof it!="function"&&this.state===tt||typeof Q!="function"&&this.state===H)return this;var ut=new this.constructor(T);return this.state!==lt?D(ut,this.state===tt?it:Q,this.outcome):this.queue.push(new q(ut,it,Q)),ut},q.prototype.callFulfilled=function(it){L.resolve(this.promise,it)},q.prototype.otherCallFulfilled=function(it){D(this.promise,this.onFulfilled,it)},q.prototype.callRejected=function(it){L.reject(this.promise,it)},q.prototype.otherCallRejected=function(it){D(this.promise,this.onRejected,it)},L.resolve=function(it,Q){var ut=st(at,Q);if(ut.status==="error")return L.reject(it,ut.value);var X=ut.value;if(X)W(it,X);else{it.state=tt,it.outcome=Q;for(var et=-1,pt=it.queue.length;++et<pt;)it.queue[et].callFulfilled(Q)}return it},L.reject=function(it,Q){it.state=H,it.outcome=Q;for(var ut=-1,X=it.queue.length;++ut<X;)it.queue[ut].callRejected(Q);return it},nt.resolve=function(it){return it instanceof this?it:L.resolve(new this(T),it)},nt.reject=function(it){var Q=new this(T);return L.reject(Q,it)},nt.all=function(it){var Q=this;if(Object.prototype.toString.call(it)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ut=it.length,X=!1;if(!ut)return this.resolve([]);for(var et=new Array(ut),pt=0,$=-1,mt=new this(T);++$<ut;)N(it[$],$);return mt;function N(kt,Mt){Q.resolve(kt).then(function(gt){et[Mt]=gt,++pt!==ut||X||(X=!0,L.resolve(mt,et))},function(gt){X||(X=!0,L.reject(mt,gt))})}},nt.race=function(it){var Q=this;if(Object.prototype.toString.call(it)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ut=it.length,X=!1;if(!ut)return this.resolve([]);for(var et,pt=-1,$=new this(T);++pt<ut;)et=it[pt],Q.resolve(et).then(function(mt){X||(X=!0,L.resolve($,mt))},function(mt){X||(X=!0,L.reject($,mt))});return $}},{immediate:36}],38:[function(b,k,S){var x={};(0,b("./lib/utils/common").assign)(x,b("./lib/deflate"),b("./lib/inflate"),b("./lib/zlib/constants")),k.exports=x},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(b,k,S){var x=b("./zlib/deflate"),T=b("./utils/common"),L=b("./utils/strings"),H=b("./zlib/messages"),tt=b("./zlib/zstream"),lt=Object.prototype.toString,nt=0,q=-1,D=0,at=8;function W(it){if(!(this instanceof W))return new W(it);this.options=T.assign({level:q,method:at,chunkSize:16384,windowBits:15,memLevel:8,strategy:D,to:""},it||{});var Q=this.options;Q.raw&&0<Q.windowBits?Q.windowBits=-Q.windowBits:Q.gzip&&0<Q.windowBits&&Q.windowBits<16&&(Q.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tt,this.strm.avail_out=0;var ut=x.deflateInit2(this.strm,Q.level,Q.method,Q.windowBits,Q.memLevel,Q.strategy);if(ut!==nt)throw new Error(H[ut]);if(Q.header&&x.deflateSetHeader(this.strm,Q.header),Q.dictionary){var X;if(X=typeof Q.dictionary=="string"?L.string2buf(Q.dictionary):lt.call(Q.dictionary)==="[object ArrayBuffer]"?new Uint8Array(Q.dictionary):Q.dictionary,(ut=x.deflateSetDictionary(this.strm,X))!==nt)throw new Error(H[ut]);this._dict_set=!0}}function st(it,Q){var ut=new W(Q);if(ut.push(it,!0),ut.err)throw ut.msg||H[ut.err];return ut.result}W.prototype.push=function(it,Q){var ut,X,et=this.strm,pt=this.options.chunkSize;if(this.ended)return!1;X=Q===~~Q?Q:Q===!0?4:0,typeof it=="string"?et.input=L.string2buf(it):lt.call(it)==="[object ArrayBuffer]"?et.input=new Uint8Array(it):et.input=it,et.next_in=0,et.avail_in=et.input.length;do{if(et.avail_out===0&&(et.output=new T.Buf8(pt),et.next_out=0,et.avail_out=pt),(ut=x.deflate(et,X))!==1&&ut!==nt)return this.onEnd(ut),!(this.ended=!0);et.avail_out!==0&&(et.avail_in!==0||X!==4&&X!==2)||(this.options.to==="string"?this.onData(L.buf2binstring(T.shrinkBuf(et.output,et.next_out))):this.onData(T.shrinkBuf(et.output,et.next_out)))}while((0<et.avail_in||et.avail_out===0)&&ut!==1);return X===4?(ut=x.deflateEnd(this.strm),this.onEnd(ut),this.ended=!0,ut===nt):X!==2||(this.onEnd(nt),!(et.avail_out=0))},W.prototype.onData=function(it){this.chunks.push(it)},W.prototype.onEnd=function(it){it===nt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=it,this.msg=this.strm.msg},S.Deflate=W,S.deflate=st,S.deflateRaw=function(it,Q){return(Q=Q||{}).raw=!0,st(it,Q)},S.gzip=function(it,Q){return(Q=Q||{}).gzip=!0,st(it,Q)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(b,k,S){var x=b("./zlib/inflate"),T=b("./utils/common"),L=b("./utils/strings"),H=b("./zlib/constants"),tt=b("./zlib/messages"),lt=b("./zlib/zstream"),nt=b("./zlib/gzheader"),q=Object.prototype.toString;function D(W){if(!(this instanceof D))return new D(W);this.options=T.assign({chunkSize:16384,windowBits:0,to:""},W||{});var st=this.options;st.raw&&0<=st.windowBits&&st.windowBits<16&&(st.windowBits=-st.windowBits,st.windowBits===0&&(st.windowBits=-15)),!(0<=st.windowBits&&st.windowBits<16)||W&&W.windowBits||(st.windowBits+=32),15<st.windowBits&&st.windowBits<48&&!(15&st.windowBits)&&(st.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var it=x.inflateInit2(this.strm,st.windowBits);if(it!==H.Z_OK)throw new Error(tt[it]);this.header=new nt,x.inflateGetHeader(this.strm,this.header)}function at(W,st){var it=new D(st);if(it.push(W,!0),it.err)throw it.msg||tt[it.err];return it.result}D.prototype.push=function(W,st){var it,Q,ut,X,et,pt,$=this.strm,mt=this.options.chunkSize,N=this.options.dictionary,kt=!1;if(this.ended)return!1;Q=st===~~st?st:st===!0?H.Z_FINISH:H.Z_NO_FLUSH,typeof W=="string"?$.input=L.binstring2buf(W):q.call(W)==="[object ArrayBuffer]"?$.input=new Uint8Array(W):$.input=W,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new T.Buf8(mt),$.next_out=0,$.avail_out=mt),(it=x.inflate($,H.Z_NO_FLUSH))===H.Z_NEED_DICT&&N&&(pt=typeof N=="string"?L.string2buf(N):q.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,it=x.inflateSetDictionary(this.strm,pt)),it===H.Z_BUF_ERROR&&kt===!0&&(it=H.Z_OK,kt=!1),it!==H.Z_STREAM_END&&it!==H.Z_OK)return this.onEnd(it),!(this.ended=!0);$.next_out&&($.avail_out!==0&&it!==H.Z_STREAM_END&&($.avail_in!==0||Q!==H.Z_FINISH&&Q!==H.Z_SYNC_FLUSH)||(this.options.to==="string"?(ut=L.utf8border($.output,$.next_out),X=$.next_out-ut,et=L.buf2string($.output,ut),$.next_out=X,$.avail_out=mt-X,X&&T.arraySet($.output,$.output,ut,X,0),this.onData(et)):this.onData(T.shrinkBuf($.output,$.next_out)))),$.avail_in===0&&$.avail_out===0&&(kt=!0)}while((0<$.avail_in||$.avail_out===0)&&it!==H.Z_STREAM_END);return it===H.Z_STREAM_END&&(Q=H.Z_FINISH),Q===H.Z_FINISH?(it=x.inflateEnd(this.strm),this.onEnd(it),this.ended=!0,it===H.Z_OK):Q!==H.Z_SYNC_FLUSH||(this.onEnd(H.Z_OK),!($.avail_out=0))},D.prototype.onData=function(W){this.chunks.push(W)},D.prototype.onEnd=function(W){W===H.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=W,this.msg=this.strm.msg},S.Inflate=D,S.inflate=at,S.inflateRaw=function(W,st){return(st=st||{}).raw=!0,at(W,st)},S.ungzip=at},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(b,k,S){var x=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";S.assign=function(H){for(var tt=Array.prototype.slice.call(arguments,1);tt.length;){var lt=tt.shift();if(lt){if(typeof lt!="object")throw new TypeError(lt+"must be non-object");for(var nt in lt)lt.hasOwnProperty(nt)&&(H[nt]=lt[nt])}}return H},S.shrinkBuf=function(H,tt){return H.length===tt?H:H.subarray?H.subarray(0,tt):(H.length=tt,H)};var T={arraySet:function(H,tt,lt,nt,q){if(tt.subarray&&H.subarray)H.set(tt.subarray(lt,lt+nt),q);else for(var D=0;D<nt;D++)H[q+D]=tt[lt+D]},flattenChunks:function(H){var tt,lt,nt,q,D,at;for(tt=nt=0,lt=H.length;tt<lt;tt++)nt+=H[tt].length;for(at=new Uint8Array(nt),tt=q=0,lt=H.length;tt<lt;tt++)D=H[tt],at.set(D,q),q+=D.length;return at}},L={arraySet:function(H,tt,lt,nt,q){for(var D=0;D<nt;D++)H[q+D]=tt[lt+D]},flattenChunks:function(H){return[].concat.apply([],H)}};S.setTyped=function(H){H?(S.Buf8=Uint8Array,S.Buf16=Uint16Array,S.Buf32=Int32Array,S.assign(S,T)):(S.Buf8=Array,S.Buf16=Array,S.Buf32=Array,S.assign(S,L))},S.setTyped(x)},{}],42:[function(b,k,S){var x=b("./common"),T=!0,L=!0;try{String.fromCharCode.apply(null,[0])}catch{T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{L=!1}for(var H=new x.Buf8(256),tt=0;tt<256;tt++)H[tt]=252<=tt?6:248<=tt?5:240<=tt?4:224<=tt?3:192<=tt?2:1;function lt(nt,q){if(q<65537&&(nt.subarray&&L||!nt.subarray&&T))return String.fromCharCode.apply(null,x.shrinkBuf(nt,q));for(var D="",at=0;at<q;at++)D+=String.fromCharCode(nt[at]);return D}H[254]=H[254]=1,S.string2buf=function(nt){var q,D,at,W,st,it=nt.length,Q=0;for(W=0;W<it;W++)(64512&(D=nt.charCodeAt(W)))==55296&&W+1<it&&(64512&(at=nt.charCodeAt(W+1)))==56320&&(D=65536+(D-55296<<10)+(at-56320),W++),Q+=D<128?1:D<2048?2:D<65536?3:4;for(q=new x.Buf8(Q),W=st=0;st<Q;W++)(64512&(D=nt.charCodeAt(W)))==55296&&W+1<it&&(64512&(at=nt.charCodeAt(W+1)))==56320&&(D=65536+(D-55296<<10)+(at-56320),W++),D<128?q[st++]=D:(D<2048?q[st++]=192|D>>>6:(D<65536?q[st++]=224|D>>>12:(q[st++]=240|D>>>18,q[st++]=128|D>>>12&63),q[st++]=128|D>>>6&63),q[st++]=128|63&D);return q},S.buf2binstring=function(nt){return lt(nt,nt.length)},S.binstring2buf=function(nt){for(var q=new x.Buf8(nt.length),D=0,at=q.length;D<at;D++)q[D]=nt.charCodeAt(D);return q},S.buf2string=function(nt,q){var D,at,W,st,it=q||nt.length,Q=new Array(2*it);for(D=at=0;D<it;)if((W=nt[D++])<128)Q[at++]=W;else if(4<(st=H[W]))Q[at++]=65533,D+=st-1;else{for(W&=st===2?31:st===3?15:7;1<st&&D<it;)W=W<<6|63&nt[D++],st--;1<st?Q[at++]=65533:W<65536?Q[at++]=W:(W-=65536,Q[at++]=55296|W>>10&1023,Q[at++]=56320|1023&W)}return lt(Q,at)},S.utf8border=function(nt,q){var D;for((q=q||nt.length)>nt.length&&(q=nt.length),D=q-1;0<=D&&(192&nt[D])==128;)D--;return D<0||D===0?q:D+H[nt[D]]>q?D:q}},{"./common":41}],43:[function(b,k,S){k.exports=function(x,T,L,H){for(var tt=65535&x|0,lt=x>>>16&65535|0,nt=0;L!==0;){for(L-=nt=2e3<L?2e3:L;lt=lt+(tt=tt+T[H++]|0)|0,--nt;);tt%=65521,lt%=65521}return tt|lt<<16|0}},{}],44:[function(b,k,S){k.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(b,k,S){var x=function(){for(var T,L=[],H=0;H<256;H++){T=H;for(var tt=0;tt<8;tt++)T=1&T?3988292384^T>>>1:T>>>1;L[H]=T}return L}();k.exports=function(T,L,H,tt){var lt=x,nt=tt+H;T^=-1;for(var q=tt;q<nt;q++)T=T>>>8^lt[255&(T^L[q])];return-1^T}},{}],46:[function(b,k,S){var x,T=b("../utils/common"),L=b("./trees"),H=b("./adler32"),tt=b("./crc32"),lt=b("./messages"),nt=0,q=4,D=0,at=-2,W=-1,st=4,it=2,Q=8,ut=9,X=286,et=30,pt=19,$=2*X+1,mt=15,N=3,kt=258,Mt=kt+N+1,gt=42,Kt=113,F=1,Lt=2,le=3,Nt=4;function ge(C,ft){return C.msg=lt[ft],ft}function Ct(C){return(C<<1)-(4<C?9:0)}function zt(C){for(var ft=C.length;0<=--ft;)C[ft]=0}function Pt(C){var ft=C.state,Z=ft.pending;Z>C.avail_out&&(Z=C.avail_out),Z!==0&&(T.arraySet(C.output,ft.pending_buf,ft.pending_out,Z,C.next_out),C.next_out+=Z,ft.pending_out+=Z,C.total_out+=Z,C.avail_out-=Z,ft.pending-=Z,ft.pending===0&&(ft.pending_out=0))}function It(C,ft){L._tr_flush_block(C,0<=C.block_start?C.block_start:-1,C.strstart-C.block_start,ft),C.block_start=C.strstart,Pt(C.strm)}function oe(C,ft){C.pending_buf[C.pending++]=ft}function Qt(C,ft){C.pending_buf[C.pending++]=ft>>>8&255,C.pending_buf[C.pending++]=255&ft}function re(C,ft){var Z,Y,z=C.max_chain_length,Ot=C.strstart,Zt=C.prev_length,Jt=C.nice_match,Ft=C.strstart>C.w_size-Mt?C.strstart-(C.w_size-Mt):0,ae=C.window,ne=C.w_mask,ce=C.prev,he=C.strstart+kt,Me=ae[Ot+Zt-1],Fe=ae[Ot+Zt];C.prev_length>=C.good_match&&(z>>=2),Jt>C.lookahead&&(Jt=C.lookahead);do if(ae[(Z=ft)+Zt]===Fe&&ae[Z+Zt-1]===Me&&ae[Z]===ae[Ot]&&ae[++Z]===ae[Ot+1]){Ot+=2,Z++;do;while(ae[++Ot]===ae[++Z]&&ae[++Ot]===ae[++Z]&&ae[++Ot]===ae[++Z]&&ae[++Ot]===ae[++Z]&&ae[++Ot]===ae[++Z]&&ae[++Ot]===ae[++Z]&&ae[++Ot]===ae[++Z]&&ae[++Ot]===ae[++Z]&&Ot<he);if(Y=kt-(he-Ot),Ot=he-kt,Zt<Y){if(C.match_start=ft,Jt<=(Zt=Y))break;Me=ae[Ot+Zt-1],Fe=ae[Ot+Zt]}}while((ft=ce[ft&ne])>Ft&&--z!=0);return Zt<=C.lookahead?Zt:C.lookahead}function Tt(C){var ft,Z,Y,z,Ot,Zt,Jt,Ft,ae,ne,ce=C.w_size;do{if(z=C.window_size-C.lookahead-C.strstart,C.strstart>=ce+(ce-Mt)){for(T.arraySet(C.window,C.window,ce,ce,0),C.match_start-=ce,C.strstart-=ce,C.block_start-=ce,ft=Z=C.hash_size;Y=C.head[--ft],C.head[ft]=ce<=Y?Y-ce:0,--Z;);for(ft=Z=ce;Y=C.prev[--ft],C.prev[ft]=ce<=Y?Y-ce:0,--Z;);z+=ce}if(C.strm.avail_in===0)break;if(Zt=C.strm,Jt=C.window,Ft=C.strstart+C.lookahead,ne=void 0,(ae=z)<(ne=Zt.avail_in)&&(ne=ae),Z=ne===0?0:(Zt.avail_in-=ne,T.arraySet(Jt,Zt.input,Zt.next_in,ne,Ft),Zt.state.wrap===1?Zt.adler=H(Zt.adler,Jt,ne,Ft):Zt.state.wrap===2&&(Zt.adler=tt(Zt.adler,Jt,ne,Ft)),Zt.next_in+=ne,Zt.total_in+=ne,ne),C.lookahead+=Z,C.lookahead+C.insert>=N)for(Ot=C.strstart-C.insert,C.ins_h=C.window[Ot],C.ins_h=(C.ins_h<<C.hash_shift^C.window[Ot+1])&C.hash_mask;C.insert&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[Ot+N-1])&C.hash_mask,C.prev[Ot&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=Ot,Ot++,C.insert--,!(C.lookahead+C.insert<N)););}while(C.lookahead<Mt&&C.strm.avail_in!==0)}function Rt(C,ft){for(var Z,Y;;){if(C.lookahead<Mt){if(Tt(C),C.lookahead<Mt&&ft===nt)return F;if(C.lookahead===0)break}if(Z=0,C.lookahead>=N&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+N-1])&C.hash_mask,Z=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),Z!==0&&C.strstart-Z<=C.w_size-Mt&&(C.match_length=re(C,Z)),C.match_length>=N)if(Y=L._tr_tally(C,C.strstart-C.match_start,C.match_length-N),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=N){for(C.match_length--;C.strstart++,C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+N-1])&C.hash_mask,Z=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart,--C.match_length!=0;);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+1])&C.hash_mask;else Y=L._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(Y&&(It(C,!1),C.strm.avail_out===0))return F}return C.insert=C.strstart<N-1?C.strstart:N-1,ft===q?(It(C,!0),C.strm.avail_out===0?le:Nt):C.last_lit&&(It(C,!1),C.strm.avail_out===0)?F:Lt}function Yt(C,ft){for(var Z,Y,z;;){if(C.lookahead<Mt){if(Tt(C),C.lookahead<Mt&&ft===nt)return F;if(C.lookahead===0)break}if(Z=0,C.lookahead>=N&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+N-1])&C.hash_mask,Z=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=N-1,Z!==0&&C.prev_length<C.max_lazy_match&&C.strstart-Z<=C.w_size-Mt&&(C.match_length=re(C,Z),C.match_length<=5&&(C.strategy===1||C.match_length===N&&4096<C.strstart-C.match_start)&&(C.match_length=N-1)),C.prev_length>=N&&C.match_length<=C.prev_length){for(z=C.strstart+C.lookahead-N,Y=L._tr_tally(C,C.strstart-1-C.prev_match,C.prev_length-N),C.lookahead-=C.prev_length-1,C.prev_length-=2;++C.strstart<=z&&(C.ins_h=(C.ins_h<<C.hash_shift^C.window[C.strstart+N-1])&C.hash_mask,Z=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),--C.prev_length!=0;);if(C.match_available=0,C.match_length=N-1,C.strstart++,Y&&(It(C,!1),C.strm.avail_out===0))return F}else if(C.match_available){if((Y=L._tr_tally(C,0,C.window[C.strstart-1]))&&It(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return F}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(Y=L._tr_tally(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<N-1?C.strstart:N-1,ft===q?(It(C,!0),C.strm.avail_out===0?le:Nt):C.last_lit&&(It(C,!1),C.strm.avail_out===0)?F:Lt}function ee(C,ft,Z,Y,z){this.good_length=C,this.max_lazy=ft,this.nice_length=Z,this.max_chain=Y,this.func=z}function Bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(2*$),this.dyn_dtree=new T.Buf16(2*(2*et+1)),this.bl_tree=new T.Buf16(2*(2*pt+1)),zt(this.dyn_ltree),zt(this.dyn_dtree),zt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(mt+1),this.heap=new T.Buf16(2*X+1),zt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(2*X+1),zt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(C){var ft;return C&&C.state?(C.total_in=C.total_out=0,C.data_type=it,(ft=C.state).pending=0,ft.pending_out=0,ft.wrap<0&&(ft.wrap=-ft.wrap),ft.status=ft.wrap?gt:Kt,C.adler=ft.wrap===2?0:1,ft.last_flush=nt,L._tr_init(ft),D):ge(C,at)}function ot(C){var ft=V(C);return ft===D&&function(Z){Z.window_size=2*Z.w_size,zt(Z.head),Z.max_lazy_match=x[Z.level].max_lazy,Z.good_match=x[Z.level].good_length,Z.nice_match=x[Z.level].nice_length,Z.max_chain_length=x[Z.level].max_chain,Z.strstart=0,Z.block_start=0,Z.lookahead=0,Z.insert=0,Z.match_length=Z.prev_length=N-1,Z.match_available=0,Z.ins_h=0}(C.state),ft}function dt(C,ft,Z,Y,z,Ot){if(!C)return at;var Zt=1;if(ft===W&&(ft=6),Y<0?(Zt=0,Y=-Y):15<Y&&(Zt=2,Y-=16),z<1||ut<z||Z!==Q||Y<8||15<Y||ft<0||9<ft||Ot<0||st<Ot)return ge(C,at);Y===8&&(Y=9);var Jt=new Bt;return(C.state=Jt).strm=C,Jt.wrap=Zt,Jt.gzhead=null,Jt.w_bits=Y,Jt.w_size=1<<Jt.w_bits,Jt.w_mask=Jt.w_size-1,Jt.hash_bits=z+7,Jt.hash_size=1<<Jt.hash_bits,Jt.hash_mask=Jt.hash_size-1,Jt.hash_shift=~~((Jt.hash_bits+N-1)/N),Jt.window=new T.Buf8(2*Jt.w_size),Jt.head=new T.Buf16(Jt.hash_size),Jt.prev=new T.Buf16(Jt.w_size),Jt.lit_bufsize=1<<z+6,Jt.pending_buf_size=4*Jt.lit_bufsize,Jt.pending_buf=new T.Buf8(Jt.pending_buf_size),Jt.d_buf=1*Jt.lit_bufsize,Jt.l_buf=3*Jt.lit_bufsize,Jt.level=ft,Jt.strategy=Ot,Jt.method=Z,ot(C)}x=[new ee(0,0,0,0,function(C,ft){var Z=65535;for(Z>C.pending_buf_size-5&&(Z=C.pending_buf_size-5);;){if(C.lookahead<=1){if(Tt(C),C.lookahead===0&&ft===nt)return F;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var Y=C.block_start+Z;if((C.strstart===0||C.strstart>=Y)&&(C.lookahead=C.strstart-Y,C.strstart=Y,It(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-Mt&&(It(C,!1),C.strm.avail_out===0))return F}return C.insert=0,ft===q?(It(C,!0),C.strm.avail_out===0?le:Nt):(C.strstart>C.block_start&&(It(C,!1),C.strm.avail_out),F)}),new ee(4,4,8,4,Rt),new ee(4,5,16,8,Rt),new ee(4,6,32,32,Rt),new ee(4,4,16,16,Yt),new ee(8,16,32,32,Yt),new ee(8,16,128,128,Yt),new ee(8,32,128,256,Yt),new ee(32,128,258,1024,Yt),new ee(32,258,258,4096,Yt)],S.deflateInit=function(C,ft){return dt(C,ft,Q,15,8,0)},S.deflateInit2=dt,S.deflateReset=ot,S.deflateResetKeep=V,S.deflateSetHeader=function(C,ft){return C&&C.state?C.state.wrap!==2?at:(C.state.gzhead=ft,D):at},S.deflate=function(C,ft){var Z,Y,z,Ot;if(!C||!C.state||5<ft||ft<0)return C?ge(C,at):at;if(Y=C.state,!C.output||!C.input&&C.avail_in!==0||Y.status===666&&ft!==q)return ge(C,C.avail_out===0?-5:at);if(Y.strm=C,Z=Y.last_flush,Y.last_flush=ft,Y.status===gt)if(Y.wrap===2)C.adler=0,oe(Y,31),oe(Y,139),oe(Y,8),Y.gzhead?(oe(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),oe(Y,255&Y.gzhead.time),oe(Y,Y.gzhead.time>>8&255),oe(Y,Y.gzhead.time>>16&255),oe(Y,Y.gzhead.time>>24&255),oe(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),oe(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(oe(Y,255&Y.gzhead.extra.length),oe(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(C.adler=tt(C.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(oe(Y,0),oe(Y,0),oe(Y,0),oe(Y,0),oe(Y,0),oe(Y,Y.level===9?2:2<=Y.strategy||Y.level<2?4:0),oe(Y,3),Y.status=Kt);else{var Zt=Q+(Y.w_bits-8<<4)<<8;Zt|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:Y.level===6?2:3)<<6,Y.strstart!==0&&(Zt|=32),Zt+=31-Zt%31,Y.status=Kt,Qt(Y,Zt),Y.strstart!==0&&(Qt(Y,C.adler>>>16),Qt(Y,65535&C.adler)),C.adler=1}if(Y.status===69)if(Y.gzhead.extra){for(z=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>z&&(C.adler=tt(C.adler,Y.pending_buf,Y.pending-z,z)),Pt(C),z=Y.pending,Y.pending!==Y.pending_buf_size));)oe(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>z&&(C.adler=tt(C.adler,Y.pending_buf,Y.pending-z,z)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(Y.status===73)if(Y.gzhead.name){z=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>z&&(C.adler=tt(C.adler,Y.pending_buf,Y.pending-z,z)),Pt(C),z=Y.pending,Y.pending===Y.pending_buf_size)){Ot=1;break}Ot=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,oe(Y,Ot)}while(Ot!==0);Y.gzhead.hcrc&&Y.pending>z&&(C.adler=tt(C.adler,Y.pending_buf,Y.pending-z,z)),Ot===0&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(Y.status===91)if(Y.gzhead.comment){z=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>z&&(C.adler=tt(C.adler,Y.pending_buf,Y.pending-z,z)),Pt(C),z=Y.pending,Y.pending===Y.pending_buf_size)){Ot=1;break}Ot=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,oe(Y,Ot)}while(Ot!==0);Y.gzhead.hcrc&&Y.pending>z&&(C.adler=tt(C.adler,Y.pending_buf,Y.pending-z,z)),Ot===0&&(Y.status=103)}else Y.status=103;if(Y.status===103&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&Pt(C),Y.pending+2<=Y.pending_buf_size&&(oe(Y,255&C.adler),oe(Y,C.adler>>8&255),C.adler=0,Y.status=Kt)):Y.status=Kt),Y.pending!==0){if(Pt(C),C.avail_out===0)return Y.last_flush=-1,D}else if(C.avail_in===0&&Ct(ft)<=Ct(Z)&&ft!==q)return ge(C,-5);if(Y.status===666&&C.avail_in!==0)return ge(C,-5);if(C.avail_in!==0||Y.lookahead!==0||ft!==nt&&Y.status!==666){var Jt=Y.strategy===2?function(Ft,ae){for(var ne;;){if(Ft.lookahead===0&&(Tt(Ft),Ft.lookahead===0)){if(ae===nt)return F;break}if(Ft.match_length=0,ne=L._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++,ne&&(It(Ft,!1),Ft.strm.avail_out===0))return F}return Ft.insert=0,ae===q?(It(Ft,!0),Ft.strm.avail_out===0?le:Nt):Ft.last_lit&&(It(Ft,!1),Ft.strm.avail_out===0)?F:Lt}(Y,ft):Y.strategy===3?function(Ft,ae){for(var ne,ce,he,Me,Fe=Ft.window;;){if(Ft.lookahead<=kt){if(Tt(Ft),Ft.lookahead<=kt&&ae===nt)return F;if(Ft.lookahead===0)break}if(Ft.match_length=0,Ft.lookahead>=N&&0<Ft.strstart&&(ce=Fe[he=Ft.strstart-1])===Fe[++he]&&ce===Fe[++he]&&ce===Fe[++he]){Me=Ft.strstart+kt;do;while(ce===Fe[++he]&&ce===Fe[++he]&&ce===Fe[++he]&&ce===Fe[++he]&&ce===Fe[++he]&&ce===Fe[++he]&&ce===Fe[++he]&&ce===Fe[++he]&&he<Me);Ft.match_length=kt-(Me-he),Ft.match_length>Ft.lookahead&&(Ft.match_length=Ft.lookahead)}if(Ft.match_length>=N?(ne=L._tr_tally(Ft,1,Ft.match_length-N),Ft.lookahead-=Ft.match_length,Ft.strstart+=Ft.match_length,Ft.match_length=0):(ne=L._tr_tally(Ft,0,Ft.window[Ft.strstart]),Ft.lookahead--,Ft.strstart++),ne&&(It(Ft,!1),Ft.strm.avail_out===0))return F}return Ft.insert=0,ae===q?(It(Ft,!0),Ft.strm.avail_out===0?le:Nt):Ft.last_lit&&(It(Ft,!1),Ft.strm.avail_out===0)?F:Lt}(Y,ft):x[Y.level].func(Y,ft);if(Jt!==le&&Jt!==Nt||(Y.status=666),Jt===F||Jt===le)return C.avail_out===0&&(Y.last_flush=-1),D;if(Jt===Lt&&(ft===1?L._tr_align(Y):ft!==5&&(L._tr_stored_block(Y,0,0,!1),ft===3&&(zt(Y.head),Y.lookahead===0&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),Pt(C),C.avail_out===0))return Y.last_flush=-1,D}return ft!==q?D:Y.wrap<=0?1:(Y.wrap===2?(oe(Y,255&C.adler),oe(Y,C.adler>>8&255),oe(Y,C.adler>>16&255),oe(Y,C.adler>>24&255),oe(Y,255&C.total_in),oe(Y,C.total_in>>8&255),oe(Y,C.total_in>>16&255),oe(Y,C.total_in>>24&255)):(Qt(Y,C.adler>>>16),Qt(Y,65535&C.adler)),Pt(C),0<Y.wrap&&(Y.wrap=-Y.wrap),Y.pending!==0?D:1)},S.deflateEnd=function(C){var ft;return C&&C.state?(ft=C.state.status)!==gt&&ft!==69&&ft!==73&&ft!==91&&ft!==103&&ft!==Kt&&ft!==666?ge(C,at):(C.state=null,ft===Kt?ge(C,-3):D):at},S.deflateSetDictionary=function(C,ft){var Z,Y,z,Ot,Zt,Jt,Ft,ae,ne=ft.length;if(!C||!C.state||(Ot=(Z=C.state).wrap)===2||Ot===1&&Z.status!==gt||Z.lookahead)return at;for(Ot===1&&(C.adler=H(C.adler,ft,ne,0)),Z.wrap=0,ne>=Z.w_size&&(Ot===0&&(zt(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0),ae=new T.Buf8(Z.w_size),T.arraySet(ae,ft,ne-Z.w_size,Z.w_size,0),ft=ae,ne=Z.w_size),Zt=C.avail_in,Jt=C.next_in,Ft=C.input,C.avail_in=ne,C.next_in=0,C.input=ft,Tt(Z);Z.lookahead>=N;){for(Y=Z.strstart,z=Z.lookahead-(N-1);Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[Y+N-1])&Z.hash_mask,Z.prev[Y&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=Y,Y++,--z;);Z.strstart=Y,Z.lookahead=N-1,Tt(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=N-1,Z.match_available=0,C.next_in=Jt,C.input=Ft,C.avail_in=Zt,Z.wrap=Ot,D},S.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(b,k,S){k.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(b,k,S){k.exports=function(x,T){var L,H,tt,lt,nt,q,D,at,W,st,it,Q,ut,X,et,pt,$,mt,N,kt,Mt,gt,Kt,F,Lt;L=x.state,H=x.next_in,F=x.input,tt=H+(x.avail_in-5),lt=x.next_out,Lt=x.output,nt=lt-(T-x.avail_out),q=lt+(x.avail_out-257),D=L.dmax,at=L.wsize,W=L.whave,st=L.wnext,it=L.window,Q=L.hold,ut=L.bits,X=L.lencode,et=L.distcode,pt=(1<<L.lenbits)-1,$=(1<<L.distbits)-1;t:do{ut<15&&(Q+=F[H++]<<ut,ut+=8,Q+=F[H++]<<ut,ut+=8),mt=X[Q&pt];e:for(;;){if(Q>>>=N=mt>>>24,ut-=N,(N=mt>>>16&255)==0)Lt[lt++]=65535&mt;else{if(!(16&N)){if(!(64&N)){mt=X[(65535&mt)+(Q&(1<<N)-1)];continue e}if(32&N){L.mode=12;break t}x.msg="invalid literal/length code",L.mode=30;break t}kt=65535&mt,(N&=15)&&(ut<N&&(Q+=F[H++]<<ut,ut+=8),kt+=Q&(1<<N)-1,Q>>>=N,ut-=N),ut<15&&(Q+=F[H++]<<ut,ut+=8,Q+=F[H++]<<ut,ut+=8),mt=et[Q&$];r:for(;;){if(Q>>>=N=mt>>>24,ut-=N,!(16&(N=mt>>>16&255))){if(!(64&N)){mt=et[(65535&mt)+(Q&(1<<N)-1)];continue r}x.msg="invalid distance code",L.mode=30;break t}if(Mt=65535&mt,ut<(N&=15)&&(Q+=F[H++]<<ut,(ut+=8)<N&&(Q+=F[H++]<<ut,ut+=8)),D<(Mt+=Q&(1<<N)-1)){x.msg="invalid distance too far back",L.mode=30;break t}if(Q>>>=N,ut-=N,(N=lt-nt)<Mt){if(W<(N=Mt-N)&&L.sane){x.msg="invalid distance too far back",L.mode=30;break t}if(Kt=it,(gt=0)===st){if(gt+=at-N,N<kt){for(kt-=N;Lt[lt++]=it[gt++],--N;);gt=lt-Mt,Kt=Lt}}else if(st<N){if(gt+=at+st-N,(N-=st)<kt){for(kt-=N;Lt[lt++]=it[gt++],--N;);if(gt=0,st<kt){for(kt-=N=st;Lt[lt++]=it[gt++],--N;);gt=lt-Mt,Kt=Lt}}}else if(gt+=st-N,N<kt){for(kt-=N;Lt[lt++]=it[gt++],--N;);gt=lt-Mt,Kt=Lt}for(;2<kt;)Lt[lt++]=Kt[gt++],Lt[lt++]=Kt[gt++],Lt[lt++]=Kt[gt++],kt-=3;kt&&(Lt[lt++]=Kt[gt++],1<kt&&(Lt[lt++]=Kt[gt++]))}else{for(gt=lt-Mt;Lt[lt++]=Lt[gt++],Lt[lt++]=Lt[gt++],Lt[lt++]=Lt[gt++],2<(kt-=3););kt&&(Lt[lt++]=Lt[gt++],1<kt&&(Lt[lt++]=Lt[gt++]))}break}}break}}while(H<tt&&lt<q);H-=kt=ut>>3,Q&=(1<<(ut-=kt<<3))-1,x.next_in=H,x.next_out=lt,x.avail_in=H<tt?tt-H+5:5-(H-tt),x.avail_out=lt<q?q-lt+257:257-(lt-q),L.hold=Q,L.bits=ut}},{}],49:[function(b,k,S){var x=b("../utils/common"),T=b("./adler32"),L=b("./crc32"),H=b("./inffast"),tt=b("./inftrees"),lt=1,nt=2,q=0,D=-2,at=1,W=852,st=592;function it(gt){return(gt>>>24&255)+(gt>>>8&65280)+((65280&gt)<<8)+((255&gt)<<24)}function Q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new x.Buf16(320),this.work=new x.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ut(gt){var Kt;return gt&&gt.state?(Kt=gt.state,gt.total_in=gt.total_out=Kt.total=0,gt.msg="",Kt.wrap&&(gt.adler=1&Kt.wrap),Kt.mode=at,Kt.last=0,Kt.havedict=0,Kt.dmax=32768,Kt.head=null,Kt.hold=0,Kt.bits=0,Kt.lencode=Kt.lendyn=new x.Buf32(W),Kt.distcode=Kt.distdyn=new x.Buf32(st),Kt.sane=1,Kt.back=-1,q):D}function X(gt){var Kt;return gt&&gt.state?((Kt=gt.state).wsize=0,Kt.whave=0,Kt.wnext=0,ut(gt)):D}function et(gt,Kt){var F,Lt;return gt&&gt.state?(Lt=gt.state,Kt<0?(F=0,Kt=-Kt):(F=1+(Kt>>4),Kt<48&&(Kt&=15)),Kt&&(Kt<8||15<Kt)?D:(Lt.window!==null&&Lt.wbits!==Kt&&(Lt.window=null),Lt.wrap=F,Lt.wbits=Kt,X(gt))):D}function pt(gt,Kt){var F,Lt;return gt?(Lt=new Q,(gt.state=Lt).window=null,(F=et(gt,Kt))!==q&&(gt.state=null),F):D}var $,mt,N=!0;function kt(gt){if(N){var Kt;for($=new x.Buf32(512),mt=new x.Buf32(32),Kt=0;Kt<144;)gt.lens[Kt++]=8;for(;Kt<256;)gt.lens[Kt++]=9;for(;Kt<280;)gt.lens[Kt++]=7;for(;Kt<288;)gt.lens[Kt++]=8;for(tt(lt,gt.lens,0,288,$,0,gt.work,{bits:9}),Kt=0;Kt<32;)gt.lens[Kt++]=5;tt(nt,gt.lens,0,32,mt,0,gt.work,{bits:5}),N=!1}gt.lencode=$,gt.lenbits=9,gt.distcode=mt,gt.distbits=5}function Mt(gt,Kt,F,Lt){var le,Nt=gt.state;return Nt.window===null&&(Nt.wsize=1<<Nt.wbits,Nt.wnext=0,Nt.whave=0,Nt.window=new x.Buf8(Nt.wsize)),Lt>=Nt.wsize?(x.arraySet(Nt.window,Kt,F-Nt.wsize,Nt.wsize,0),Nt.wnext=0,Nt.whave=Nt.wsize):(Lt<(le=Nt.wsize-Nt.wnext)&&(le=Lt),x.arraySet(Nt.window,Kt,F-Lt,le,Nt.wnext),(Lt-=le)?(x.arraySet(Nt.window,Kt,F-Lt,Lt,0),Nt.wnext=Lt,Nt.whave=Nt.wsize):(Nt.wnext+=le,Nt.wnext===Nt.wsize&&(Nt.wnext=0),Nt.whave<Nt.wsize&&(Nt.whave+=le))),0}S.inflateReset=X,S.inflateReset2=et,S.inflateResetKeep=ut,S.inflateInit=function(gt){return pt(gt,15)},S.inflateInit2=pt,S.inflate=function(gt,Kt){var F,Lt,le,Nt,ge,Ct,zt,Pt,It,oe,Qt,re,Tt,Rt,Yt,ee,Bt,V,ot,dt,C,ft,Z,Y,z=0,Ot=new x.Buf8(4),Zt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!gt||!gt.state||!gt.output||!gt.input&&gt.avail_in!==0)return D;(F=gt.state).mode===12&&(F.mode=13),ge=gt.next_out,le=gt.output,zt=gt.avail_out,Nt=gt.next_in,Lt=gt.input,Ct=gt.avail_in,Pt=F.hold,It=F.bits,oe=Ct,Qt=zt,ft=q;t:for(;;)switch(F.mode){case at:if(F.wrap===0){F.mode=13;break}for(;It<16;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(2&F.wrap&&Pt===35615){Ot[F.check=0]=255&Pt,Ot[1]=Pt>>>8&255,F.check=L(F.check,Ot,2,0),It=Pt=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&Pt)<<8)+(Pt>>8))%31){gt.msg="incorrect header check",F.mode=30;break}if((15&Pt)!=8){gt.msg="unknown compression method",F.mode=30;break}if(It-=4,C=8+(15&(Pt>>>=4)),F.wbits===0)F.wbits=C;else if(C>F.wbits){gt.msg="invalid window size",F.mode=30;break}F.dmax=1<<C,gt.adler=F.check=1,F.mode=512&Pt?10:12,It=Pt=0;break;case 2:for(;It<16;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(F.flags=Pt,(255&F.flags)!=8){gt.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){gt.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=Pt>>8&1),512&F.flags&&(Ot[0]=255&Pt,Ot[1]=Pt>>>8&255,F.check=L(F.check,Ot,2,0)),It=Pt=0,F.mode=3;case 3:for(;It<32;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}F.head&&(F.head.time=Pt),512&F.flags&&(Ot[0]=255&Pt,Ot[1]=Pt>>>8&255,Ot[2]=Pt>>>16&255,Ot[3]=Pt>>>24&255,F.check=L(F.check,Ot,4,0)),It=Pt=0,F.mode=4;case 4:for(;It<16;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}F.head&&(F.head.xflags=255&Pt,F.head.os=Pt>>8),512&F.flags&&(Ot[0]=255&Pt,Ot[1]=Pt>>>8&255,F.check=L(F.check,Ot,2,0)),It=Pt=0,F.mode=5;case 5:if(1024&F.flags){for(;It<16;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}F.length=Pt,F.head&&(F.head.extra_len=Pt),512&F.flags&&(Ot[0]=255&Pt,Ot[1]=Pt>>>8&255,F.check=L(F.check,Ot,2,0)),It=Pt=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(Ct<(re=F.length)&&(re=Ct),re&&(F.head&&(C=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),x.arraySet(F.head.extra,Lt,Nt,re,C)),512&F.flags&&(F.check=L(F.check,Lt,re,Nt)),Ct-=re,Nt+=re,F.length-=re),F.length))break t;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(Ct===0)break t;for(re=0;C=Lt[Nt+re++],F.head&&C&&F.length<65536&&(F.head.name+=String.fromCharCode(C)),C&&re<Ct;);if(512&F.flags&&(F.check=L(F.check,Lt,re,Nt)),Ct-=re,Nt+=re,C)break t}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(Ct===0)break t;for(re=0;C=Lt[Nt+re++],F.head&&C&&F.length<65536&&(F.head.comment+=String.fromCharCode(C)),C&&re<Ct;);if(512&F.flags&&(F.check=L(F.check,Lt,re,Nt)),Ct-=re,Nt+=re,C)break t}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;It<16;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(Pt!==(65535&F.check)){gt.msg="header crc mismatch",F.mode=30;break}It=Pt=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),gt.adler=F.check=0,F.mode=12;break;case 10:for(;It<32;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}gt.adler=F.check=it(Pt),It=Pt=0,F.mode=11;case 11:if(F.havedict===0)return gt.next_out=ge,gt.avail_out=zt,gt.next_in=Nt,gt.avail_in=Ct,F.hold=Pt,F.bits=It,2;gt.adler=F.check=1,F.mode=12;case 12:if(Kt===5||Kt===6)break t;case 13:if(F.last){Pt>>>=7&It,It-=7&It,F.mode=27;break}for(;It<3;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}switch(F.last=1&Pt,It-=1,3&(Pt>>>=1)){case 0:F.mode=14;break;case 1:if(kt(F),F.mode=20,Kt!==6)break;Pt>>>=2,It-=2;break t;case 2:F.mode=17;break;case 3:gt.msg="invalid block type",F.mode=30}Pt>>>=2,It-=2;break;case 14:for(Pt>>>=7&It,It-=7&It;It<32;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if((65535&Pt)!=(Pt>>>16^65535)){gt.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&Pt,It=Pt=0,F.mode=15,Kt===6)break t;case 15:F.mode=16;case 16:if(re=F.length){if(Ct<re&&(re=Ct),zt<re&&(re=zt),re===0)break t;x.arraySet(le,Lt,Nt,re,ge),Ct-=re,Nt+=re,zt-=re,ge+=re,F.length-=re;break}F.mode=12;break;case 17:for(;It<14;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(F.nlen=257+(31&Pt),Pt>>>=5,It-=5,F.ndist=1+(31&Pt),Pt>>>=5,It-=5,F.ncode=4+(15&Pt),Pt>>>=4,It-=4,286<F.nlen||30<F.ndist){gt.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;It<3;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}F.lens[Zt[F.have++]]=7&Pt,Pt>>>=3,It-=3}for(;F.have<19;)F.lens[Zt[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,Z={bits:F.lenbits},ft=tt(0,F.lens,0,19,F.lencode,0,F.work,Z),F.lenbits=Z.bits,ft){gt.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;ee=(z=F.lencode[Pt&(1<<F.lenbits)-1])>>>16&255,Bt=65535&z,!((Yt=z>>>24)<=It);){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(Bt<16)Pt>>>=Yt,It-=Yt,F.lens[F.have++]=Bt;else{if(Bt===16){for(Y=Yt+2;It<Y;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(Pt>>>=Yt,It-=Yt,F.have===0){gt.msg="invalid bit length repeat",F.mode=30;break}C=F.lens[F.have-1],re=3+(3&Pt),Pt>>>=2,It-=2}else if(Bt===17){for(Y=Yt+3;It<Y;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}It-=Yt,C=0,re=3+(7&(Pt>>>=Yt)),Pt>>>=3,It-=3}else{for(Y=Yt+7;It<Y;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}It-=Yt,C=0,re=11+(127&(Pt>>>=Yt)),Pt>>>=7,It-=7}if(F.have+re>F.nlen+F.ndist){gt.msg="invalid bit length repeat",F.mode=30;break}for(;re--;)F.lens[F.have++]=C}}if(F.mode===30)break;if(F.lens[256]===0){gt.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,Z={bits:F.lenbits},ft=tt(lt,F.lens,0,F.nlen,F.lencode,0,F.work,Z),F.lenbits=Z.bits,ft){gt.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,Z={bits:F.distbits},ft=tt(nt,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,Z),F.distbits=Z.bits,ft){gt.msg="invalid distances set",F.mode=30;break}if(F.mode=20,Kt===6)break t;case 20:F.mode=21;case 21:if(6<=Ct&&258<=zt){gt.next_out=ge,gt.avail_out=zt,gt.next_in=Nt,gt.avail_in=Ct,F.hold=Pt,F.bits=It,H(gt,Qt),ge=gt.next_out,le=gt.output,zt=gt.avail_out,Nt=gt.next_in,Lt=gt.input,Ct=gt.avail_in,Pt=F.hold,It=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;ee=(z=F.lencode[Pt&(1<<F.lenbits)-1])>>>16&255,Bt=65535&z,!((Yt=z>>>24)<=It);){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(ee&&!(240&ee)){for(V=Yt,ot=ee,dt=Bt;ee=(z=F.lencode[dt+((Pt&(1<<V+ot)-1)>>V)])>>>16&255,Bt=65535&z,!(V+(Yt=z>>>24)<=It);){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}Pt>>>=V,It-=V,F.back+=V}if(Pt>>>=Yt,It-=Yt,F.back+=Yt,F.length=Bt,ee===0){F.mode=26;break}if(32&ee){F.back=-1,F.mode=12;break}if(64&ee){gt.msg="invalid literal/length code",F.mode=30;break}F.extra=15&ee,F.mode=22;case 22:if(F.extra){for(Y=F.extra;It<Y;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}F.length+=Pt&(1<<F.extra)-1,Pt>>>=F.extra,It-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;ee=(z=F.distcode[Pt&(1<<F.distbits)-1])>>>16&255,Bt=65535&z,!((Yt=z>>>24)<=It);){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(!(240&ee)){for(V=Yt,ot=ee,dt=Bt;ee=(z=F.distcode[dt+((Pt&(1<<V+ot)-1)>>V)])>>>16&255,Bt=65535&z,!(V+(Yt=z>>>24)<=It);){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}Pt>>>=V,It-=V,F.back+=V}if(Pt>>>=Yt,It-=Yt,F.back+=Yt,64&ee){gt.msg="invalid distance code",F.mode=30;break}F.offset=Bt,F.extra=15&ee,F.mode=24;case 24:if(F.extra){for(Y=F.extra;It<Y;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}F.offset+=Pt&(1<<F.extra)-1,Pt>>>=F.extra,It-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){gt.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(zt===0)break t;if(re=Qt-zt,F.offset>re){if((re=F.offset-re)>F.whave&&F.sane){gt.msg="invalid distance too far back",F.mode=30;break}Tt=re>F.wnext?(re-=F.wnext,F.wsize-re):F.wnext-re,re>F.length&&(re=F.length),Rt=F.window}else Rt=le,Tt=ge-F.offset,re=F.length;for(zt<re&&(re=zt),zt-=re,F.length-=re;le[ge++]=Rt[Tt++],--re;);F.length===0&&(F.mode=21);break;case 26:if(zt===0)break t;le[ge++]=F.length,zt--,F.mode=21;break;case 27:if(F.wrap){for(;It<32;){if(Ct===0)break t;Ct--,Pt|=Lt[Nt++]<<It,It+=8}if(Qt-=zt,gt.total_out+=Qt,F.total+=Qt,Qt&&(gt.adler=F.check=F.flags?L(F.check,le,Qt,ge-Qt):T(F.check,le,Qt,ge-Qt)),Qt=zt,(F.flags?Pt:it(Pt))!==F.check){gt.msg="incorrect data check",F.mode=30;break}It=Pt=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;It<32;){if(Ct===0)break t;Ct--,Pt+=Lt[Nt++]<<It,It+=8}if(Pt!==(4294967295&F.total)){gt.msg="incorrect length check",F.mode=30;break}It=Pt=0}F.mode=29;case 29:ft=1;break t;case 30:ft=-3;break t;case 31:return-4;default:return D}return gt.next_out=ge,gt.avail_out=zt,gt.next_in=Nt,gt.avail_in=Ct,F.hold=Pt,F.bits=It,(F.wsize||Qt!==gt.avail_out&&F.mode<30&&(F.mode<27||Kt!==4))&&Mt(gt,gt.output,gt.next_out,Qt-gt.avail_out)?(F.mode=31,-4):(oe-=gt.avail_in,Qt-=gt.avail_out,gt.total_in+=oe,gt.total_out+=Qt,F.total+=Qt,F.wrap&&Qt&&(gt.adler=F.check=F.flags?L(F.check,le,Qt,gt.next_out-Qt):T(F.check,le,Qt,gt.next_out-Qt)),gt.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(oe==0&&Qt===0||Kt===4)&&ft===q&&(ft=-5),ft)},S.inflateEnd=function(gt){if(!gt||!gt.state)return D;var Kt=gt.state;return Kt.window&&(Kt.window=null),gt.state=null,q},S.inflateGetHeader=function(gt,Kt){var F;return gt&&gt.state&&2&(F=gt.state).wrap?((F.head=Kt).done=!1,q):D},S.inflateSetDictionary=function(gt,Kt){var F,Lt=Kt.length;return gt&&gt.state?(F=gt.state).wrap!==0&&F.mode!==11?D:F.mode===11&&T(1,Kt,Lt,0)!==F.check?-3:Mt(gt,Kt,Lt,Lt)?(F.mode=31,-4):(F.havedict=1,q):D},S.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(b,k,S){var x=b("../utils/common"),T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],L=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],tt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];k.exports=function(lt,nt,q,D,at,W,st,it){var Q,ut,X,et,pt,$,mt,N,kt,Mt=it.bits,gt=0,Kt=0,F=0,Lt=0,le=0,Nt=0,ge=0,Ct=0,zt=0,Pt=0,It=null,oe=0,Qt=new x.Buf16(16),re=new x.Buf16(16),Tt=null,Rt=0;for(gt=0;gt<=15;gt++)Qt[gt]=0;for(Kt=0;Kt<D;Kt++)Qt[nt[q+Kt]]++;for(le=Mt,Lt=15;1<=Lt&&Qt[Lt]===0;Lt--);if(Lt<le&&(le=Lt),Lt===0)return at[W++]=20971520,at[W++]=20971520,it.bits=1,0;for(F=1;F<Lt&&Qt[F]===0;F++);for(le<F&&(le=F),gt=Ct=1;gt<=15;gt++)if(Ct<<=1,(Ct-=Qt[gt])<0)return-1;if(0<Ct&&(lt===0||Lt!==1))return-1;for(re[1]=0,gt=1;gt<15;gt++)re[gt+1]=re[gt]+Qt[gt];for(Kt=0;Kt<D;Kt++)nt[q+Kt]!==0&&(st[re[nt[q+Kt]]++]=Kt);if($=lt===0?(It=Tt=st,19):lt===1?(It=T,oe-=257,Tt=L,Rt-=257,256):(It=H,Tt=tt,-1),gt=F,pt=W,ge=Kt=Pt=0,X=-1,et=(zt=1<<(Nt=le))-1,lt===1&&852<zt||lt===2&&592<zt)return 1;for(;;){for(mt=gt-ge,kt=st[Kt]<$?(N=0,st[Kt]):st[Kt]>$?(N=Tt[Rt+st[Kt]],It[oe+st[Kt]]):(N=96,0),Q=1<<gt-ge,F=ut=1<<Nt;at[pt+(Pt>>ge)+(ut-=Q)]=mt<<24|N<<16|kt|0,ut!==0;);for(Q=1<<gt-1;Pt&Q;)Q>>=1;if(Q!==0?(Pt&=Q-1,Pt+=Q):Pt=0,Kt++,--Qt[gt]==0){if(gt===Lt)break;gt=nt[q+st[Kt]]}if(le<gt&&(Pt&et)!==X){for(ge===0&&(ge=le),pt+=F,Ct=1<<(Nt=gt-ge);Nt+ge<Lt&&!((Ct-=Qt[Nt+ge])<=0);)Nt++,Ct<<=1;if(zt+=1<<Nt,lt===1&&852<zt||lt===2&&592<zt)return 1;at[X=Pt&et]=le<<24|Nt<<16|pt-W|0}}return Pt!==0&&(at[pt+Pt]=gt-ge<<24|4194304|0),it.bits=le,0}},{"../utils/common":41}],51:[function(b,k,S){k.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(b,k,S){var x=b("../utils/common"),T=0,L=1;function H(z){for(var Ot=z.length;0<=--Ot;)z[Ot]=0}var tt=0,lt=29,nt=256,q=nt+1+lt,D=30,at=19,W=2*q+1,st=15,it=16,Q=7,ut=256,X=16,et=17,pt=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],mt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],kt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Mt=new Array(2*(q+2));H(Mt);var gt=new Array(2*D);H(gt);var Kt=new Array(512);H(Kt);var F=new Array(256);H(F);var Lt=new Array(lt);H(Lt);var le,Nt,ge,Ct=new Array(D);function zt(z,Ot,Zt,Jt,Ft){this.static_tree=z,this.extra_bits=Ot,this.extra_base=Zt,this.elems=Jt,this.max_length=Ft,this.has_stree=z&&z.length}function Pt(z,Ot){this.dyn_tree=z,this.max_code=0,this.stat_desc=Ot}function It(z){return z<256?Kt[z]:Kt[256+(z>>>7)]}function oe(z,Ot){z.pending_buf[z.pending++]=255&Ot,z.pending_buf[z.pending++]=Ot>>>8&255}function Qt(z,Ot,Zt){z.bi_valid>it-Zt?(z.bi_buf|=Ot<<z.bi_valid&65535,oe(z,z.bi_buf),z.bi_buf=Ot>>it-z.bi_valid,z.bi_valid+=Zt-it):(z.bi_buf|=Ot<<z.bi_valid&65535,z.bi_valid+=Zt)}function re(z,Ot,Zt){Qt(z,Zt[2*Ot],Zt[2*Ot+1])}function Tt(z,Ot){for(var Zt=0;Zt|=1&z,z>>>=1,Zt<<=1,0<--Ot;);return Zt>>>1}function Rt(z,Ot,Zt){var Jt,Ft,ae=new Array(st+1),ne=0;for(Jt=1;Jt<=st;Jt++)ae[Jt]=ne=ne+Zt[Jt-1]<<1;for(Ft=0;Ft<=Ot;Ft++){var ce=z[2*Ft+1];ce!==0&&(z[2*Ft]=Tt(ae[ce]++,ce))}}function Yt(z){var Ot;for(Ot=0;Ot<q;Ot++)z.dyn_ltree[2*Ot]=0;for(Ot=0;Ot<D;Ot++)z.dyn_dtree[2*Ot]=0;for(Ot=0;Ot<at;Ot++)z.bl_tree[2*Ot]=0;z.dyn_ltree[2*ut]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function ee(z){8<z.bi_valid?oe(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function Bt(z,Ot,Zt,Jt){var Ft=2*Ot,ae=2*Zt;return z[Ft]<z[ae]||z[Ft]===z[ae]&&Jt[Ot]<=Jt[Zt]}function V(z,Ot,Zt){for(var Jt=z.heap[Zt],Ft=Zt<<1;Ft<=z.heap_len&&(Ft<z.heap_len&&Bt(Ot,z.heap[Ft+1],z.heap[Ft],z.depth)&&Ft++,!Bt(Ot,Jt,z.heap[Ft],z.depth));)z.heap[Zt]=z.heap[Ft],Zt=Ft,Ft<<=1;z.heap[Zt]=Jt}function ot(z,Ot,Zt){var Jt,Ft,ae,ne,ce=0;if(z.last_lit!==0)for(;Jt=z.pending_buf[z.d_buf+2*ce]<<8|z.pending_buf[z.d_buf+2*ce+1],Ft=z.pending_buf[z.l_buf+ce],ce++,Jt===0?re(z,Ft,Ot):(re(z,(ae=F[Ft])+nt+1,Ot),(ne=$[ae])!==0&&Qt(z,Ft-=Lt[ae],ne),re(z,ae=It(--Jt),Zt),(ne=mt[ae])!==0&&Qt(z,Jt-=Ct[ae],ne)),ce<z.last_lit;);re(z,ut,Ot)}function dt(z,Ot){var Zt,Jt,Ft,ae=Ot.dyn_tree,ne=Ot.stat_desc.static_tree,ce=Ot.stat_desc.has_stree,he=Ot.stat_desc.elems,Me=-1;for(z.heap_len=0,z.heap_max=W,Zt=0;Zt<he;Zt++)ae[2*Zt]!==0?(z.heap[++z.heap_len]=Me=Zt,z.depth[Zt]=0):ae[2*Zt+1]=0;for(;z.heap_len<2;)ae[2*(Ft=z.heap[++z.heap_len]=Me<2?++Me:0)]=1,z.depth[Ft]=0,z.opt_len--,ce&&(z.static_len-=ne[2*Ft+1]);for(Ot.max_code=Me,Zt=z.heap_len>>1;1<=Zt;Zt--)V(z,ae,Zt);for(Ft=he;Zt=z.heap[1],z.heap[1]=z.heap[z.heap_len--],V(z,ae,1),Jt=z.heap[1],z.heap[--z.heap_max]=Zt,z.heap[--z.heap_max]=Jt,ae[2*Ft]=ae[2*Zt]+ae[2*Jt],z.depth[Ft]=(z.depth[Zt]>=z.depth[Jt]?z.depth[Zt]:z.depth[Jt])+1,ae[2*Zt+1]=ae[2*Jt+1]=Ft,z.heap[1]=Ft++,V(z,ae,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],function(Fe,we){var ar,Ie,sr,Ke,dr,pe,Rr=we.dyn_tree,vt=we.max_code,jt=we.stat_desc.static_tree,Ut=we.stat_desc.has_stree,fe=we.stat_desc.extra_bits,Oe=we.stat_desc.extra_base,Ve=we.stat_desc.max_length,Xe=0;for(Ke=0;Ke<=st;Ke++)Fe.bl_count[Ke]=0;for(Rr[2*Fe.heap[Fe.heap_max]+1]=0,ar=Fe.heap_max+1;ar<W;ar++)Ve<(Ke=Rr[2*Rr[2*(Ie=Fe.heap[ar])+1]+1]+1)&&(Ke=Ve,Xe++),Rr[2*Ie+1]=Ke,vt<Ie||(Fe.bl_count[Ke]++,dr=0,Oe<=Ie&&(dr=fe[Ie-Oe]),pe=Rr[2*Ie],Fe.opt_len+=pe*(Ke+dr),Ut&&(Fe.static_len+=pe*(jt[2*Ie+1]+dr)));if(Xe!==0){do{for(Ke=Ve-1;Fe.bl_count[Ke]===0;)Ke--;Fe.bl_count[Ke]--,Fe.bl_count[Ke+1]+=2,Fe.bl_count[Ve]--,Xe-=2}while(0<Xe);for(Ke=Ve;Ke!==0;Ke--)for(Ie=Fe.bl_count[Ke];Ie!==0;)vt<(sr=Fe.heap[--ar])||(Rr[2*sr+1]!==Ke&&(Fe.opt_len+=(Ke-Rr[2*sr+1])*Rr[2*sr],Rr[2*sr+1]=Ke),Ie--)}}(z,Ot),Rt(ae,Me,z.bl_count)}function C(z,Ot,Zt){var Jt,Ft,ae=-1,ne=Ot[1],ce=0,he=7,Me=4;for(ne===0&&(he=138,Me=3),Ot[2*(Zt+1)+1]=65535,Jt=0;Jt<=Zt;Jt++)Ft=ne,ne=Ot[2*(Jt+1)+1],++ce<he&&Ft===ne||(ce<Me?z.bl_tree[2*Ft]+=ce:Ft!==0?(Ft!==ae&&z.bl_tree[2*Ft]++,z.bl_tree[2*X]++):ce<=10?z.bl_tree[2*et]++:z.bl_tree[2*pt]++,ae=Ft,Me=(ce=0)===ne?(he=138,3):Ft===ne?(he=6,3):(he=7,4))}function ft(z,Ot,Zt){var Jt,Ft,ae=-1,ne=Ot[1],ce=0,he=7,Me=4;for(ne===0&&(he=138,Me=3),Jt=0;Jt<=Zt;Jt++)if(Ft=ne,ne=Ot[2*(Jt+1)+1],!(++ce<he&&Ft===ne)){if(ce<Me)for(;re(z,Ft,z.bl_tree),--ce!=0;);else Ft!==0?(Ft!==ae&&(re(z,Ft,z.bl_tree),ce--),re(z,X,z.bl_tree),Qt(z,ce-3,2)):ce<=10?(re(z,et,z.bl_tree),Qt(z,ce-3,3)):(re(z,pt,z.bl_tree),Qt(z,ce-11,7));ae=Ft,Me=(ce=0)===ne?(he=138,3):Ft===ne?(he=6,3):(he=7,4)}}H(Ct);var Z=!1;function Y(z,Ot,Zt,Jt){Qt(z,(tt<<1)+(Jt?1:0),3),function(Ft,ae,ne,ce){ee(Ft),oe(Ft,ne),oe(Ft,~ne),x.arraySet(Ft.pending_buf,Ft.window,ae,ne,Ft.pending),Ft.pending+=ne}(z,Ot,Zt)}S._tr_init=function(z){Z||(function(){var Ot,Zt,Jt,Ft,ae,ne=new Array(st+1);for(Ft=Jt=0;Ft<lt-1;Ft++)for(Lt[Ft]=Jt,Ot=0;Ot<1<<$[Ft];Ot++)F[Jt++]=Ft;for(F[Jt-1]=Ft,Ft=ae=0;Ft<16;Ft++)for(Ct[Ft]=ae,Ot=0;Ot<1<<mt[Ft];Ot++)Kt[ae++]=Ft;for(ae>>=7;Ft<D;Ft++)for(Ct[Ft]=ae<<7,Ot=0;Ot<1<<mt[Ft]-7;Ot++)Kt[256+ae++]=Ft;for(Zt=0;Zt<=st;Zt++)ne[Zt]=0;for(Ot=0;Ot<=143;)Mt[2*Ot+1]=8,Ot++,ne[8]++;for(;Ot<=255;)Mt[2*Ot+1]=9,Ot++,ne[9]++;for(;Ot<=279;)Mt[2*Ot+1]=7,Ot++,ne[7]++;for(;Ot<=287;)Mt[2*Ot+1]=8,Ot++,ne[8]++;for(Rt(Mt,q+1,ne),Ot=0;Ot<D;Ot++)gt[2*Ot+1]=5,gt[2*Ot]=Tt(Ot,5);le=new zt(Mt,$,nt+1,q,st),Nt=new zt(gt,mt,0,D,st),ge=new zt(new Array(0),N,0,at,Q)}(),Z=!0),z.l_desc=new Pt(z.dyn_ltree,le),z.d_desc=new Pt(z.dyn_dtree,Nt),z.bl_desc=new Pt(z.bl_tree,ge),z.bi_buf=0,z.bi_valid=0,Yt(z)},S._tr_stored_block=Y,S._tr_flush_block=function(z,Ot,Zt,Jt){var Ft,ae,ne=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=function(ce){var he,Me=4093624447;for(he=0;he<=31;he++,Me>>>=1)if(1&Me&&ce.dyn_ltree[2*he]!==0)return T;if(ce.dyn_ltree[18]!==0||ce.dyn_ltree[20]!==0||ce.dyn_ltree[26]!==0)return L;for(he=32;he<nt;he++)if(ce.dyn_ltree[2*he]!==0)return L;return T}(z)),dt(z,z.l_desc),dt(z,z.d_desc),ne=function(ce){var he;for(C(ce,ce.dyn_ltree,ce.l_desc.max_code),C(ce,ce.dyn_dtree,ce.d_desc.max_code),dt(ce,ce.bl_desc),he=at-1;3<=he&&ce.bl_tree[2*kt[he]+1]===0;he--);return ce.opt_len+=3*(he+1)+5+5+4,he}(z),Ft=z.opt_len+3+7>>>3,(ae=z.static_len+3+7>>>3)<=Ft&&(Ft=ae)):Ft=ae=Zt+5,Zt+4<=Ft&&Ot!==-1?Y(z,Ot,Zt,Jt):z.strategy===4||ae===Ft?(Qt(z,2+(Jt?1:0),3),ot(z,Mt,gt)):(Qt(z,4+(Jt?1:0),3),function(ce,he,Me,Fe){var we;for(Qt(ce,he-257,5),Qt(ce,Me-1,5),Qt(ce,Fe-4,4),we=0;we<Fe;we++)Qt(ce,ce.bl_tree[2*kt[we]+1],3);ft(ce,ce.dyn_ltree,he-1),ft(ce,ce.dyn_dtree,Me-1)}(z,z.l_desc.max_code+1,z.d_desc.max_code+1,ne+1),ot(z,z.dyn_ltree,z.dyn_dtree)),Yt(z),Jt&&ee(z)},S._tr_tally=function(z,Ot,Zt){return z.pending_buf[z.d_buf+2*z.last_lit]=Ot>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&Ot,z.pending_buf[z.l_buf+z.last_lit]=255&Zt,z.last_lit++,Ot===0?z.dyn_ltree[2*Zt]++:(z.matches++,Ot--,z.dyn_ltree[2*(F[Zt]+nt+1)]++,z.dyn_dtree[2*It(Ot)]++),z.last_lit===z.lit_bufsize-1},S._tr_align=function(z){Qt(z,2,3),re(z,ut,Mt),function(Ot){Ot.bi_valid===16?(oe(Ot,Ot.bi_buf),Ot.bi_buf=0,Ot.bi_valid=0):8<=Ot.bi_valid&&(Ot.pending_buf[Ot.pending++]=255&Ot.bi_buf,Ot.bi_buf>>=8,Ot.bi_valid-=8)}(z)}},{"../utils/common":41}],53:[function(b,k,S){k.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(b,k,S){(function(x){(function(T,L){if(!T.setImmediate){var H,tt,lt,nt,q=1,D={},at=!1,W=T.document,st=Object.getPrototypeOf&&Object.getPrototypeOf(T);st=st&&st.setTimeout?st:T,H={}.toString.call(T.process)==="[object process]"?function(X){process.nextTick(function(){Q(X)})}:function(){if(T.postMessage&&!T.importScripts){var X=!0,et=T.onmessage;return T.onmessage=function(){X=!1},T.postMessage("","*"),T.onmessage=et,X}}()?(nt="setImmediate$"+Math.random()+"$",T.addEventListener?T.addEventListener("message",ut,!1):T.attachEvent("onmessage",ut),function(X){T.postMessage(nt+X,"*")}):T.MessageChannel?((lt=new MessageChannel).port1.onmessage=function(X){Q(X.data)},function(X){lt.port2.postMessage(X)}):W&&"onreadystatechange"in W.createElement("script")?(tt=W.documentElement,function(X){var et=W.createElement("script");et.onreadystatechange=function(){Q(X),et.onreadystatechange=null,tt.removeChild(et),et=null},tt.appendChild(et)}):function(X){setTimeout(Q,0,X)},st.setImmediate=function(X){typeof X!="function"&&(X=new Function(""+X));for(var et=new Array(arguments.length-1),pt=0;pt<et.length;pt++)et[pt]=arguments[pt+1];var $={callback:X,args:et};return D[q]=$,H(q),q++},st.clearImmediate=it}function it(X){delete D[X]}function Q(X){if(at)setTimeout(Q,0,X);else{var et=D[X];if(et){at=!0;try{(function(pt){var $=pt.callback,mt=pt.args;switch(mt.length){case 0:$();break;case 1:$(mt[0]);break;case 2:$(mt[0],mt[1]);break;case 3:$(mt[0],mt[1],mt[2]);break;default:$.apply(L,mt)}})(et)}finally{it(X),at=!1}}}}function ut(X){X.source===T&&typeof X.data=="string"&&X.data.indexOf(nt)===0&&Q(+X.data.slice(nt.length))}})(typeof self>"u"?x===void 0?this:x:self)}).call(this,R.g!==void 0?R.g:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}},w={};function A(j){var M=w[j];if(M!==void 0)return M.exports;var R=w[j]={exports:{}};return _[j].call(R.exports,R,R.exports,A),R.exports}A.n=j=>{var M=j&&j.__esModule?()=>j.default:()=>j;return A.d(M,{a:M}),M},A.d=(j,M)=>{for(var R in M)A.o(M,R)&&!A.o(j,R)&&Object.defineProperty(j,R,{enumerable:!0,get:M[R]})},A.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),A.o=(j,M)=>Object.prototype.hasOwnProperty.call(j,M),A.r=j=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(j,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(j,"__esModule",{value:!0})};var P={};return(()=>{A.r(P),A.d(P,{default:()=>T});var j=A(162),M=A.n(j),R=A(733),b=A.n(R),k=function(){return k=Object.assign||function(L){for(var H,tt=1,lt=arguments.length;tt<lt;tt++)for(var nt in H=arguments[tt])Object.prototype.hasOwnProperty.call(H,nt)&&(L[nt]=H[nt]);return L},k.apply(this,arguments)},S=function(L,H,tt,lt){return new(tt||(tt=Promise))(function(nt,q){function D(st){try{W(lt.next(st))}catch(it){q(it)}}function at(st){try{W(lt.throw(st))}catch(it){q(it)}}function W(st){var it;st.done?nt(st.value):(it=st.value,it instanceof tt?it:new tt(function(Q){Q(it)})).then(D,at)}W((lt=lt.apply(L,H||[])).next())})},x=function(L,H){var tt,lt,nt,q,D={label:0,sent:function(){if(1&nt[0])throw nt[1];return nt[1]},trys:[],ops:[]};return q={next:at(0),throw:at(1),return:at(2)},typeof Symbol=="function"&&(q[Symbol.iterator]=function(){return this}),q;function at(W){return function(st){return function(it){if(tt)throw new TypeError("Generator is already executing.");for(;q&&(q=0,it[0]&&(D=0)),D;)try{if(tt=1,lt&&(nt=2&it[0]?lt.return:it[0]?lt.throw||((nt=lt.return)&&nt.call(lt),0):lt.next)&&!(nt=nt.call(lt,it[1])).done)return nt;switch(lt=0,nt&&(it=[2&it[0],nt.value]),it[0]){case 0:case 1:nt=it;break;case 4:return D.label++,{value:it[1],done:!1};case 5:D.label++,lt=it[1],it=[0];continue;case 7:it=D.ops.pop(),D.trys.pop();continue;default:if(nt=D.trys,!((nt=nt.length>0&&nt[nt.length-1])||it[0]!==6&&it[0]!==2)){D=0;continue}if(it[0]===3&&(!nt||it[1]>nt[0]&&it[1]<nt[3])){D.label=it[1];break}if(it[0]===6&&D.label<nt[1]){D.label=nt[1],nt=it;break}if(nt&&D.label<nt[2]){D.label=nt[2],D.ops.push(it);break}nt[2]&&D.ops.pop(),D.trys.pop();continue}it=H.call(L,D)}catch(Q){it=[6,Q],lt=0}finally{tt=nt=0}if(5&it[0])throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}([W,st])}}};const T=function(L,H){H===void 0&&(H={});var tt=L.getConfig("stylePrefix"),lt="gjs-export-zip",nt=k({addExportBtn:!0,btnLabel:"Export to ZIP",filenamePfx:"grapesjs_template",filename:void 0,done:function(){},onError:console.error,root:{css:{"style.css":function(q){return q.getCss()}},"index.html":function(q){return`<!doctype html>
        <html lang="en">
          <head>
            <meta charset="utf-8">
            <link rel="stylesheet" href="./css/style.css">
          </head>
          <body>`.concat(q.getHtml(),`</body>
        </html>`)}},isBinary:void 0},H);L.Commands.add(lt,{run:function(q,D,at){var W=this;at===void 0&&(at={});var st=new(b()),it=at.onError||nt.onError,Q=at.root||nt.root;this.createDirectory(st,Q).then(function(){return S(W,void 0,void 0,function(){var ut,X,et,pt,$;return x(this,function(mt){switch(mt.label){case 0:return[4,st.generateAsync({type:"blob"})];case 1:return ut=mt.sent(),X=at.filename||nt.filename,et=at.done||nt.done,pt=at.filenamePfx||nt.filenamePfx,$=X?X(q):"".concat(pt,"_").concat(Date.now(),".zip"),M().saveAs(ut,$),et==null||et(),[2]}})})}).catch(it)},createFile:function(q,D,at){var W={},st=D.split(".")[1];(nt.isBinary?nt.isBinary(at,D):!(st&&["html","css"].indexOf(st)>=0||/^[\x00-\x7F]*$/.test(at)))&&(W.binary=!0),L.log("Create file",{ns:"plugin-export",name:D,content:at,opts:W}),q.file(D,at,W)},createDirectory:function(q,D){return S(this,void 0,void 0,function(){var at,W,st,it,Q,ut,X,et,pt,$;return x(this,function(mt){switch(mt.label){case 0:return typeof D!="function"?[3,2]:[4,D(L)];case 1:return at=mt.sent(),[3,3];case 2:at=D,mt.label=3;case 3:for(it in st=[],W=D=at)st.push(it);Q=0,mt.label=4;case 4:return Q<st.length?(it=st[Q])in W?(ut=it,D.hasOwnProperty(ut)?typeof(X=D[ut])!="function"?[3,6]:[4,X(L)]:[3,10]):[3,10]:[3,11];case 5:return et=mt.sent(),[3,7];case 6:et=X,mt.label=7;case 7:return(pt=typeof(X=et))!="string"?[3,8]:(this.createFile(q,ut,X),[3,10]);case 8:return pt!=="object"?[3,10]:($=q.folder(ut),[4,this.createDirectory($,X)]);case 9:mt.sent(),mt.label=10;case 10:return Q++,[3,4];case 11:return[2]}})})}}),L.onReady(function(){if(nt.addExportBtn){var q=document.createElement("button");q.innerHTML=nt.btnLabel,q.className="".concat(tt,"btn-prim"),q.type="button",L.on("run:export-template",function(){var D=L.Modal.getContentEl();D==null||D.appendChild(q),q.onclick=function(){return L.runCommand(lt)}})}})}})(),P})())})(Jy);var NO=Jy.exports;const VO=up(NO);var Qy={exports:{}};/*! grapesjs-custom-code - 1.0.2 */(function(u,g){(function(_,w){u.exports=w()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:lp,()=>(()=>{var _={d:(x,T)=>{for(var L in T)_.o(T,L)&&!_.o(x,L)&&Object.defineProperty(x,L,{enumerable:!0,get:T[L]})},o:(x,T)=>Object.prototype.hasOwnProperty.call(x,T),r:x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})}},w={};_.r(w),_.d(w,{default:()=>S});var A="custom-code-plugin__code",P="custom-code",j="custom-code:open-modal",M=function(){return M=Object.assign||function(x){for(var T,L=1,H=arguments.length;L<H;L++)for(var tt in T=arguments[L])Object.prototype.hasOwnProperty.call(T,tt)&&(x[tt]=T[tt]);return x},M.apply(this,arguments)},R=function(){return R=Object.assign||function(x){for(var T,L=1,H=arguments.length;L<H;L++)for(var tt in T=arguments[L])Object.prototype.hasOwnProperty.call(T,tt)&&(x[tt]=T[tt]);return x},R.apply(this,arguments)},b=function(){return b=Object.assign||function(x){for(var T,L=1,H=arguments.length;L<H;L++)for(var tt in T=arguments[L])Object.prototype.hasOwnProperty.call(T,tt)&&(x[tt]=T[tt]);return x},b.apply(this,arguments)},k=function(){return k=Object.assign||function(x){for(var T,L=1,H=arguments.length;L<H;L++)for(var tt in T=arguments[L])Object.prototype.hasOwnProperty.call(T,tt)&&(x[tt]=T[tt]);return x},k.apply(this,arguments)};const S=function(x,T){T===void 0&&(T={});var L=k({blockCustomCode:{},propsCustomCode:{},toolbarBtnCustomCode:{},placeholderScript:`<div style="pointer-events: none; padding: 10px;">
      <svg viewBox="0 0 24 24" style="height: 30px; vertical-align: middle;">
        <path d="M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z"></path>
        </svg>
      Custom code with <i>&lt;script&gt;</i> can't be rendered on the canvas
    </div>`,modalTitle:"Insert your code",codeViewOptions:{},buttonLabel:"Save",commandCustomCode:{}},T);(function(H,tt){tt===void 0&&(tt={});var lt,nt=H.Components,q=tt.toolbarBtnCustomCode;nt.addType("script",{view:{onRender:function(){var D=this.model,at=this.el;D.closestType(P)&&(at.innerHTML="")}}}),nt.addType(P,{model:{defaults:b({name:"Custom Code",editable:!0,components:{tagName:"span",components:{type:"textnode",content:"Insert here your custom code"}}},tt.propsCustomCode),init:function(){this.on("change:".concat(A),this.onCustomCodeChange);var D=this.get(A);!this.components().length&&this.components(D);var at=this.get("toolbar"),W="custom-code";q&&!at.filter(function(st){return st.id===W}).length&&at.unshift(b({id:W,command:j,label:`<svg viewBox="0 0 24 24">
              <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
            </svg>`},q))},onCustomCodeChange:function(){this.components(this.get(A))}},view:{events:{dblclick:"onActive"},init:function(){this.listenTo(this.model.components(),"add remove reset",this.onComponentsChange),this.onComponentsChange()},onComponentsChange:function(){var D=this;lt&&clearInterval(lt),lt=setTimeout(function(){var at=D,W=at.model,st=at.el,it=!0;(W.get(A)||"").indexOf("<script")>=0&&tt.placeholderScript&&(st.innerHTML=tt.placeholderScript,it=!1),W.set({droppable:it})},0)},onActive:function(){var D=this.model;this.em.get("Commands").run(j,{target:D})}}})})(x,L),function(H,tt){var lt=(tt===void 0?{}:tt).blockCustomCode,nt=H.Blocks;lt&&nt.add(P,M({label:"Custom Code",media:`
      <svg viewBox="0 0 24 24">
        <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
      </svg>
    `,category:"Extra",activate:!0,select:!0,content:{type:P}},lt))}(x,L),function(H,tt){tt===void 0&&(tt={});var lt=tt.modalTitle,nt=tt.codeViewOptions,q=tt.commandCustomCode,D=function(at,W){W instanceof HTMLElement?at.appendChild(W):W&&at.insertAdjacentHTML("beforeend",W)};H.Commands.add(j,R({keyCustomCode:A,target:null,codeViewer:null,run:function(at,W,st){st===void 0&&(st={});var it=st.target||at.getSelected();this.target=it,it!=null&&it.get("editable")&&this.showCustomCode(it,st)},stop:function(at){at.Modal.close()},showCustomCode:function(at,W){var st=W.title||lt,it=at.get(A)||"",Q=this.getContent();H.Modal.open({title:st,content:Q}).onceClose(function(){return H.stopCommand(j)}),this.getCodeViewer().setContent(it)},getPreContent:function(){},getPostContent:function(){},getContent:function(){var at=this.getCodeViewer(),W=document.createElement("div"),st=H.getConfig("stylePrefix");return W.className="".concat(st,"custom-code"),D(W,this.getPreContent()),W.appendChild(at.getElement()),D(W,this.getPostContent()),D(W,this.getContentActions()),at.refresh(),setTimeout(function(){return at.focus()},0),W},getContentActions:function(){var at=this,W=document.createElement("button");W.setAttribute("type","button");var st=H.getConfig("stylePrefix");return W.innerHTML=tt.buttonLabel,W.className="".concat(st,"btn-prim ").concat(st,"btn-import__custom-code"),W.onclick=function(){return at.handleSave()},W},handleSave:function(){var at=this.target,W=this.getCodeViewer().getContent();at==null||at.set(A,W),H.Modal.close()},getCodeViewer:function(){return this.codeViewer||(this.codeViewer=H.CodeManager.createViewer(R({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},nt))),this.codeViewer}},q))}(x,L)};return w})())})(Qy);var BO=Qy.exports;const HO=up(BO);var t0={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */(function(u,g){(function(_,w){u.exports=w()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:lp,()=>(()=>{var _={d:(tt,lt)=>{for(var nt in lt)_.o(lt,nt)&&!_.o(tt,nt)&&Object.defineProperty(tt,nt,{enumerable:!0,get:lt[nt]})},o:(tt,lt)=>Object.prototype.hasOwnProperty.call(tt,lt),r:tt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(tt,"__esModule",{value:!0})}},w={};_.r(w),_.d(w,{default:()=>H});var A="form",P="input",j="textarea",M="select",R="checkbox",b="radio",k="button",S="label",x="option",T=function(){return T=Object.assign||function(tt){for(var lt,nt=1,q=arguments.length;nt<q;nt++)for(var D in lt=arguments[nt])Object.prototype.hasOwnProperty.call(lt,D)&&(tt[D]=lt[D]);return tt},T.apply(this,arguments)},L=function(){return L=Object.assign||function(tt){for(var lt,nt=1,q=arguments.length;nt<q;nt++)for(var D in lt=arguments[nt])Object.prototype.hasOwnProperty.call(lt,D)&&(tt[D]=lt[D]);return tt},L.apply(this,arguments)};const H=function(tt,lt){lt===void 0&&(lt={});var nt=L({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},lt);(function(q){var D=q.Components,at={name:"name"},W={name:"placeholder"},st={type:"checkbox",name:"required"},it=function(ut,X){return{type:x,content:X,attributes:{value:ut}}},Q=function(ut){q.Commands.isActive("preview")||ut.preventDefault()};D.addType(A,{isComponent:function(ut){return ut.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(ut){return ut.preventDefault()}}}}),D.addType(P,{isComponent:function(ut){return ut.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[at,W,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},st]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),D.addType(j,{extend:P,isComponent:function(ut){return ut.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[at,W,st]}}}),D.addType(x,{isComponent:function(ut){return ut.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),D.addType(M,{isComponent:function(ut){return ut.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[it("opt1","Option 1"),it("opt2","Option 2")],traits:[at,{name:"options",type:"select-options"},st]}},view:{events:{mousedown:Q}}}),D.addType(R,{extend:P,isComponent:function(ut){return ut.tagName=="INPUT"&&ut.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},at,{name:"value"},st,{type:"checkbox",name:"checked"}]}},view:{events:{click:Q},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var ut;this.el.checked=!!(!((ut=this.model.get("attributes"))===null||ut===void 0)&&ut.checked)}}}),D.addType(b,{extend:R,isComponent:function(ut){return ut.tagName=="INPUT"&&ut.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),D.addType(k,{extend:P,isComponent:function(ut){return ut.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var ut=this.components(),X=ut.length===1&&ut.models[0],et=X&&X.is("textnode")&&X.get("content")||"",pt=et||this.get("text");this.set("text",pt),this.on("change:text",this.__onTextChange),pt!==et&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:Q}}}),D.addType(S,{extend:"text",isComponent:function(ut){return ut.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(tt),function(q){q.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var D,at=this.model,W=this.target,st=at.get("value").trim().split(`
`),it=[],Q=0;Q<st.length;Q++){var ut=st[Q].split("::");it.push({type:x,components:ut[1]||ut[0],attributes:{value:ut[0]}})}W.components().reset(it),(D=W.view)===null||D===void 0||D.render()},getInputEl:function(){if(!this.$input){for(var D=[],at=this.target.components(),W=0;W<at.length;W++){var st=at.models[W],it=st.get("attributes"),Q=(it==null?void 0:it.value)||"",ut=st.components().models[0],X=ut&&ut.get("content")||"";D.push("".concat(Q,"::").concat(X))}var et=document.createElement("textarea");et.value=D.join(`
`),this.$input=et}return this.$input}})}(tt),function(q,D){var at=D,W=q.BlockManager,st=function(it,Q){var ut;((ut=at.blocks)===null||ut===void 0?void 0:ut.indexOf(it))>=0&&W.add(it,T(T(T({},Q),{category:at.category,select:!0}),D.block(it)))};st(A,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:A,components:[{components:[{type:S,components:"Name"},{type:P}]},{components:[{type:S,components:"Email"},{type:P,attributes:{type:"email"}}]},{components:[{type:S,components:"Gender"},{type:R,attributes:{value:"M"}},{type:S,components:"M"},{type:R,attributes:{value:"F"}},{type:S,components:"F"}]},{components:[{type:S,components:"Message"},{type:j}]},{components:[{type:k}]}]}}),st(P,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:P}}),st(j,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:j}}),st(M,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:M}}),st(k,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:k}}),st(S,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:S}}),st(R,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:R}}),st(b,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:b}})}(tt,nt)};return w})())})(t0);var zO=t0.exports;const UO=up(zO);var e0={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */(function(u,g){(function(_,w){u.exports=w()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:lp,()=>(()=>{var _={d:(M,R)=>{for(var b in R)_.o(R,b)&&!_.o(M,b)&&Object.defineProperty(M,b,{enumerable:!0,get:R[b]})},o:(M,R)=>Object.prototype.hasOwnProperty.call(M,R),r:M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})}},w={};_.r(w),_.d(w,{default:()=>j});var A=function(){return A=Object.assign||function(M){for(var R,b=1,k=arguments.length;b<k;b++)for(var S in R=arguments[b])Object.prototype.hasOwnProperty.call(R,S)&&(M[S]=R[S]);return M},A.apply(this,arguments)},P=function(){return P=Object.assign||function(M){for(var R,b=1,k=arguments.length;b<k;b++)for(var S in R=arguments[b])Object.prototype.hasOwnProperty.call(R,S)&&(M[S]=R[S]);return M},P.apply(this,arguments)};const j=function(M,R){R===void 0&&(R={}),function(b,k){var S=b.BlockManager,x=k.category,T=k.blocks,L=k.stylePrefix,H=k.flexGrid,tt=k.rowHeight,lt=k.addBasicStyle,nt="".concat(L,"row"),q="".concat(L,"cell"),D=H?`
    .`.concat(nt,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(nt,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(nt,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(L,"cell, .").concat(L,"cell30, .").concat(L,`cell70 {
        width: 100%;
        display: block;
      }
    }`),at=H?`
    .`.concat(q,` {
      min-height: `).concat(tt,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(q,` {
      width: 8%;
      display: table-cell;
      height: `).concat(tt,`px;
    }`),W=`
  .`.concat(L,`cell30 {
    width: 30%;
  }`),st=`
  .`.concat(L,`cell70 {
    width: 70%;
  }`),it=1,Q={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:it},ut=A(A({},Q),{cr:1,bc:0,currentUnit:1,minDim:it,step:.2});H&&(ut.keyWidth="flex-basis");var X={class:nt,"data-gjs-droppable":".".concat(q),"data-gjs-resizable":Q,"data-gjs-name":"Row"},et={class:q,"data-gjs-draggable":".".concat(nt),"data-gjs-resizable":ut,"data-gjs-name":"Cell"};H&&(et["data-gjs-unstylable"]=["width"],et["data-gjs-stylable-require"]=["flex-basis"]);var pt=[".".concat(nt),".".concat(q)];b.on("selector:add",function(gt){return pt.indexOf(gt.getFullName())>=0&&gt.set("private",1)});var $=function(gt){var Kt=[];for(var F in gt){var Lt=gt[F];Lt=Lt instanceof Array||Lt instanceof Object?JSON.stringify(Lt):Lt,Kt.push("".concat(F,"=").concat("'".concat(Lt,"'")))}return Kt.length?" ".concat(Kt.join(" ")):""},mt=function(gt){return T.indexOf(gt)>=0},N=$(X),kt=$(et),Mt={category:x,select:!0};mt("column1")&&S.add("column1",A(A({},Mt),{label:k.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(N,`>
        <div `).concat(kt,`></div>
      </div>
      `).concat(lt?`<style>
          `.concat(D,`
          `).concat(at,`
        </style>`):"")})),mt("column2")&&S.add("column2",A(A({},Mt),{label:k.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(N,`>
        <div `).concat(kt,`></div>
        <div `).concat(kt,`></div>
      </div>
      `).concat(lt?`<style>
          `.concat(D,`
          `).concat(at,`
        </style>`):"")})),mt("column3")&&S.add("column3",A(A({},Mt),{label:k.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(N,`>
        <div `).concat(kt,`></div>
        <div `).concat(kt,`></div>
        <div `).concat(kt,`></div>
      </div>
      `).concat(lt?`<style>
          `.concat(D,`
          `).concat(at,`
        </style>`):"")})),mt("column3-7")&&S.add("column3-7",A(A({},Mt),{label:k.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(N,`>
        <div `).concat(kt," style='").concat(H?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(kt," style='").concat(H?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(lt?`<style>
          `.concat(D,`
          `).concat(at,`
          `).concat(W,`
          `).concat(st,`
        </style>`):"")})),mt("text")&&S.add("text",A(A({},Mt),{activate:!0,label:k.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),mt("link")&&S.add("link",A(A({},Mt),{label:k.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),mt("image")&&S.add("image",A(A({},Mt),{activate:!0,label:k.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),mt("video")&&S.add("video",A(A({},Mt),{label:k.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),mt("map")&&S.add("map",A(A({},Mt),{label:k.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))}(M,P({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},R))};return w})())})(e0);var WO=e0.exports;const KO=up(WO);/**
* @vue/compiler-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const GO=(u,g)=>{const _=u.__vccOpts||u;for(const[w,A]of g)_[w]=A;return _},r0=u=>(zC("data-v-9c439c95"),u=u(),UC(),u),$O={class:"grap-box"},ZO={class:"editor-box"},qO={class:"pages-wrap"},YO={class:"pages"},XO=["onClick"],JO=["onClick"],QO=$y('<div class="editor-canvas" data-v-9c439c95><div class="panel-top" data-v-9c439c95><div class="panel-basic-actions" data-v-9c439c95></div><div class="panel-action-right" data-v-9c439c95></div></div><div id="gjs" data-v-9c439c95></div></div>',1),tT={class:"panel-box"},eT={class:"selectors-wrp"},rT={class:"selectors-head"},nT=r0(()=>Qr("div",{class:"selectors-title"},"Classes",-1)),iT={class:"selectors-states"},oT=["value"],aT=r0(()=>Qr("option",{value:""},"- State -",-1)),sT={class:"selector-add-box"},lT={class:"selectors"},uT={class:"selector-name"},cT=["onClick"],fT={class:"selectors-targets"},dT=$y('<div class="layers-container" data-v-9c439c95></div><div class="styles-container" data-v-9c439c95></div><div class="traits-container" data-v-9c439c95></div><div class="blocks-container" data-v-9c439c95></div><div class="panel-basic-actions-top" data-v-9c439c95></div>',5),pT={__name:"grapeView",props:{msg:String},setup(u){let g=null;const _=fl(""),w=fl(Xy),A=fl([]),P=fl([]),j=fl([]),M=fl(null),R=fl("");Ty(async()=>{await wy(),g=OO.init({container:"#gjs",width:"100%",height:"100%",storageManager:!1,panels:kO,blockManager:TO,deviceManager:DO,assetManager:jO,layerManager:AO,styleManager:MO,traitManager:IO,pageManager:LO,plugins:[EO,KO,VO,UO,HO],pluginsOpts:{"grapesjs-plugin-export":{}}});const tt=lt=>{const nt=g.Selectors;console.log(g,"sm"),P.value=nt.getSelected(),A.value=nt.getStates(),j.value=nt.getState(),M.value=nt.getSelectedTargets().map(q=>q.getSelectorsString()).join(", ")};RO(g),PO(g),FO(g,{"storage:load":lt=>{w.value=lt.pages},"style:custom":lt=>{console.log("props.container",lt),tt()}}),console.log(g.Pages),g.onReady(()=>{var nt;if(g.Pages.getAll().length){const q=g.Pages.getAll()[0].id;_.value=q,(nt=g==null?void 0:g.Pages)==null||nt.select(q)}})});const b=tt=>{var lt;return _.value=tt,console.log(g.Pages.getAll(),"editor.Pages.getAll()"),(lt=g==null?void 0:g.Pages)==null?void 0:lt.select(tt)},k=tt=>{var nt;w.value=w.value.filter(q=>q.id!=tt);const lt=g.Pages.getAll().length;return console.log(g.Pages.getAll()),lt&&((nt=g==null?void 0:g.Pages)==null||nt.select(g.Pages.getAll()[0].id)),g.Pages.remove(tt)},S=()=>{const tt=g.Pages.getAll().length,lt={name:`Page ${tt+1}`,component:`<div>New page ${tt+1}</div>`};console.log(tt,lt),w.value.push(lt),g.Pages.add(lt)},x=tt=>{g.Selectors.setState(tt.target.value)},T=tt=>{g.Selectors.removeSelected(tt)},L=tt=>{R.value=tt.target.value,H()},H=()=>{g.Selectors.getAll().length+1,R.value&&g.Selectors.addSelected({name:R.value,label:R.value}),R.value=""};return(tt,lt)=>(is(),hl("div",$O,[Qr("div",ZO,[Qr("div",qO,[Qr("div",{class:"add-page",onClick:S},"Pages +"),Qr("div",YO,[(is(!0),hl(Di,null,Yh(w.value,nt=>(is(),hl("div",{key:nt.id,onClick:()=>b(nt.id),class:Qd(`${_.value==nt.id?"pageItem act":"pageItem"}`)},[Qr("span",null,Pc(nt.name),1),Qr("span",{onClick:()=>k(nt.id),class:"page-close"},"",8,JO)],10,XO))),128))])]),QO,Qr("div",tT,[Qr("div",eT,[Qr("div",rT,[nT,Qr("div",iT,[Qr("select",{onChange:x,value:j.value},[aT,(is(!0),hl(Di,null,Yh(A.value,nt=>(is(),hl("option",{key:nt.getName()},Pc(nt.getLabel()),1))),128))],40,oT)])]),Qr("div",sT,[aS(Qr("input",{type:"text",class:"selector-input",onKeyup:yO(L,["enter"]),"onUpdate:modelValue":lt[0]||(lt[0]=nt=>R.value=nt)},null,544),[[gO,R.value]]),Qr("div",{class:"selector-add",onClick:H},"+")]),Qr("div",lT,[(is(!0),hl(Di,null,Yh(P.value,nt=>(is(),hl("div",{key:nt.toString(),class:"selector"},[Qr("div",uT,Pc(nt.getLabel()),1),Qr("div",{class:"selector-rm",onClick:q=>T(nt)},"",8,cT)]))),128))]),Qr("div",fT,"Selected: "+Pc(M.value||"-"),1)]),dT])])]))}},hT=GO(pT,[["__scopeId","data-v-9c439c95"]]),vT={__name:"App",setup(u){return(g,_)=>(is(),DS(hT,{msg:"Vite + Vue"}))}};wO(vT).mount("#app");
